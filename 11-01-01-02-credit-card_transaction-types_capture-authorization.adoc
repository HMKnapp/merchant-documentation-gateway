[#CreditCard_TransactionTypes_CaptureAuthorization]
===== capture-authorization

[#CreditCard_TransactionTypes_CaptureAuthorization_Introduction]
====== Introduction

A _capture-authorization_ transfers an authorized amount from the
consumer bank account to the acquirer (merchant's bank account).

[#CreditCard_TransactionTypes_CaptureAuthorization_Introduction_RealLife]
.Real-Life Example

See
<<CreditCard_TransactionTypes_Authorization_Introduction_RealLife, authorization>>.

[#CreditCard_TransactionTypes_CaptureAuthorization_AvailabilityRestrictions]
====== Availability and Restrictions

A _capture-authorization_ must be initiated in a defined period of time
after a successful authorization (details see
<<CreditCard_TransactionTypes_Authorization_AvailabilityRestrictions, authorization>>).

NOTE: *Captured Amount* +
A _capture-authorization_ captures either a part of or the full amount
of the authorized amount. This depends strongly on the acquirer and the
credit card brand.

[#CreditCard_TransactionTypes_CaptureAuthorization_AvailabilityRestrictions_Sequence]
.Sequence

A _capture-authorization_ follows an _authorization_.

A
<<CreditCard_TransactionTypes_CaptureAuthorization_SendingData_VoidCapture, _void-capture_>>
or a
<<CreditCard_TransactionTypes_CaptureAuthorization_SendingData_RefundCapture, _refund-capture_>>
follows a _capture-authorization._

image::images/11-01-01-02-credit-card_transaction-types_capture-authorization/CC_authorization_capture_sequence.png[capture-authorization_sequence]

See details for <<CreditCard_TransactionTypes_VoidRefund, void and refund>>.

[#CreditCard_TransactionTypes_CaptureAuthorization_AccessTestEnvironment]
====== Access Test Environment

Access data see <<CreditCard_TestCredentials, _credit card_ test credentials>>.

[#CreditCard_TransactionTypes_CaptureAuthorization_SendingData]
====== Sending Data

We only list samples for requests and responses. Notifications follow
the general structure described in 
<<GeneralPlatformFeatures_IPN_NotificationExamples, General Platform Features>>.

Are you using 
<<CreditCard_TransactionTypes_RunningTestSamples, Postman>> to send the requests?

- If yes, you can use the samples as provided below (_Request Header_ and _Request Sample_).
- If no, please replace ``{{$guid}}`` with a globally unique ID in ``<request-id>``. 

//-

[#CreditCard_TransactionTypes_CaptureAuthorization_SendingData_StatusCodes]
.Status Codes

In ``<statuses>`` of the response you will find a number that represents a
<<StatusCodes, status code>>.

[#CreditCard_TransactionTypes_CaptureAuthorization_SendingData_Authorization]
._authorization_

*Request*

_Fields_

We provide detailed descriptions of all
<<CreditCard_Fields, _credit card_ fields>>.

_Sample_

.Request Header
[source]
----
Authorization: Basic NzAwMDAtQVBJTFVITi1DQVJEOjhtaHdhdktWYjkxVA==
Content-Type: application/xml
----

.XML authorization Request (Successful)
[source,xml]
----
include::samples/xml/CreditCardTransactionTypesCaptureAuthorizationSendingDataAuthorization_AuthorizationRequestSuccessful.xml[]
----

*Response*

_Fields_

We provide detailed descriptions of all
<<CreditCard_Fields, _credit card_ fields>>.

_Sample_

.XML authorization Response (Successful)
[source,xml,subs=attributes+]
----
include::samples/xml/CreditCardTransactionTypesCaptureAuthorizationSendingDataAuthorization_AuthorizationResponseSuccessful.xml[]
----

A successful _authorization_ may be followed by a

- <<CreditCard_TransactionTypes_Authorization_SendingData_VoidAuthorization, _void-authorization_>> (details see <<CreditCard_TransactionTypes_VoidRefund_Void, void>>).
- _capture-authorization_ (details see <<GeneralPlatformFeatures_ReferencingTransaction, Referencing by Transaction ID>>).

//-

[#CreditCard_TransactionTypes_CaptureAuthorization_SendingData_CaptureAuthorization]
._capture-authorization_

**Request**

_Fields_

We provide detailed descriptions of all
<<CreditCard_Fields, _credit card_ fields>>.

_Sample_

.Request Header
[source]
----
Authorization: Basic NzAwMDAtQVBJTFVITi1DQVJEOjhtaHdhdktWYjkxVA==
Content-Type: application/xml
----

.XML capture-authorization Request (Successful)
[source,xml]
----
include::samples/xml/CreditCardTransactionTypesCaptureAuthorizationSendingDataCaptureAuthorization_CaptureAuthorizationRequestSuccessful.xml[]
----

*Response*

_Fields_

We provide detailed descriptions of all
<<CreditCard_Fields, _credit card_ fields>>.

_Sample_

.XML capture-authorization Response (Successful)
[source,xml,subs=attributes+]
----
include::samples/xml/CreditCardTransactionTypesCaptureAuthorizationSendingDataCaptureAuthorization_CaptureAuthorizationResponseSuccessful.xml[]
----

A successful _capture-authorization_ may be followed by a

- _void-capture_ (details see <<CreditCard_TransactionTypes_VoidRefund_Void, void>>).
- <<CreditCard_TransactionTypes_CaptureAuthorization_SendingData_RefundCapture, _refund-capture_>> (details see <<CreditCard_TransactionTypes_VoidRefund_Refund, refund>>).
//-

[#CreditCard_TransactionTypes_CaptureAuthorization_SendingData_VoidCapture]
._void-capture_

A _void-capture_ request must reference a successful
<<CreditCard_TransactionTypes_CaptureAuthorization_SendingData_CaptureAuthorization, _capture-authorization_>> response.

*Request*

_Fields_

We provide detailed descriptions of all
<<CreditCard_Fields, _credit card_ fields>>.

_Sample_

.Request Header
[source]
----
Authorization: Basic NzAwMDAtQVBJTFVITi1DQVJEOjhtaHdhdktWYjkxVA==
Content-Type: application/xml
----

.XML void-capture Request (Successful)
[source,xml]
----
include::samples/xml/CreditCardTransactionTypesCaptureAuthorizationSendingDataVoidCapture_VoidCaptureRequestSuccessful.xml[]
----

*Response*

_Fields_

We provide detailed descriptions of all
<<CreditCard_Fields, _credit card_ fields>>.

_Sample_

.XML void-capture Response (Successful)
[source,xml,subs=attributes+]
----
include::samples/xml/CreditCardTransactionTypesCaptureAuthorizationSendingDataVoidCapture_VoidCaptureResponseSuccessful.xml[]
----

[#CreditCard_TransactionTypes_CaptureAuthorization_SendingData_RefundCapture]
._refund-capture_

A __refund-capture__ request must reference a successful
<<CreditCard_TransactionTypes_CaptureAuthorization_SendingData_CaptureAuthorization, _capture-authorization_>> response.

*Request*

_Fields_

We provide detailed descriptions of all
<<CreditCard_Fields, _credit card_ fields>>.

_Sample_

.Request Header
[source]
----
Authorization: Basic NzAwMDAtQVBJTFVITi1DQVJEOjhtaHdhdktWYjkxVA==
Content-Type: application/xml
----

.XML refund-capture Request (Successful)
[source,xml]
----
include::samples/xml/CreditCardTransactionTypesCaptureAuthorizationSendingDataRefundCapture_RefundCaptureRequestSuccessful.xml[]
----

*Response*

_Fields_

We provide detailed descriptions of all
<<CreditCard_Fields, _credit card_ fields>>.

_Sample_

.XML refund-capture Response (Successful)
[source,xml,subs=attributes+]
----
include::samples/xml/CreditCardTransactionTypesCaptureAuthorizationSendingDataRefundCapture_RefundCaptureResponseSuccessful.xml[]
----
