[#CreditCard_Samples]
==== Samples

On this page you can find all the XML and NVP samples available for
_Credit Card_ payment.

[#CreditCard_Samples_Preauthorization]
===== Preauthorization

[#CreditCard_Samples_Preauthorization_XML]
====== XML

.XML Preauthorization Request (Successful)
[source,xml]
----
include::samples/xml/CreditCardSamplesPreauthorization_XML_PreauthorizationRequestSuccessful.xml[]
----

.XML Preauthorization Response (Successful) 
[source,xml,subs=attributes+]
----
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<payment xmlns="http://www.elastic-payments.com/schema/payment" self="https://{test-instance-hostname}:443/engine/rest/merchants/9105bb4f-ae68-4768-9c3b-3eda968f57ea/payments/c211fc50-15da-11e5-87be-00163e5411b5">
  <merchant-account-id ref="https://{test-instance-hostname}:443/engine/rest/merchants/9105bb4f-ae68-4768-9c3b-3eda968f57ea">9105bb4f-ae68-4768-9c3b-3eda968f57ea</merchant-account-id>
  <transaction-id>c211fc50-15da-11e5-87be-00163e5411b5</transaction-id>
  <request-id>${response}</request-id>
  <transaction-type>preauthorization</transaction-type>
  <transaction-state>success</transaction-state>
  <completion-time-stamp>2019-06-18T16:55:02.000Z</completion-time-stamp>
  <statuses>
    <status code="201.0000" description="3d-acquirer:The resource was successfully created." severity="information" provider-transaction-id="C843418143464650156857"/>
  </statuses>
  <requested-amount currency="USD">1.00</requested-amount>
  <account-holder>
    <first-name>John</first-name>
    <last-name>Doe</last-name>
    <email>john.doe@test.com</email>
    <phone>5555555555</phone>
    <address>
      <street1>123 anystreet</street1>
      <city>Brantford</city>
      <state>ON</state>
      <country>CA</country>
      <postal-code>M4P1E8</postal-code>
    </address>
  </account-holder>
  <card-token>
    <token-id>4990489254104678</token-id>
    <masked-account-number>427114******4678</masked-account-number>
  </card-token>
  <ip-address>127.0.0.1</ip-address>
  <order-number>29469</order-number>
  <order-detail>Test Product</order-detail>
  <payment-methods>
    <payment-method name="creditcard"/>
  </payment-methods>
  <authorization-code>547379</authorization-code>
  <api-id>elastic-api</api-id>
</payment>
----

.XML Preauthorization Notification (Successful) 
[source,xml]
----
include::samples/xml/CreditCardSamplesPreauthorization_XML_PreauthorizationNotificationSuccessful.xml[]
----

.XML Preauthorization Request (Failure)  
[source,xml]
----
include::samples/xml/CreditCardSamplesPreauthorization_XML_PreauthorizationRequestFailure.xml[]
----

.XML Preauthorization Response (Failure)  
[source,xml,subs=attributes+]
----
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<payment xmlns="http://www.elastic-payments.com/schema/payment" self="https://{test-instance-hostname}:443/engine/rest/merchants/9105bb4f-ae68-4768-9c3b-3eda968f57ea/payments/e2f04f3f-15dc-11e5-87be-00163e5411b5">
  <merchant-account-id ref="https://{test-instance-hostname}:443/engine/rest/merchants/9105bb4f-ae68-4768-9c3b-3eda968f57ea">9105bb4f-ae68-4768-9c3b-3eda968f57ea</merchant-account-id>
  <transaction-id>e2f04f3f-15dc-11e5-87be-00163e5411b5</transaction-id>
  <request-id>${response}</request-id>
  <transaction-type>preauthorization</transaction-type>
  <transaction-state>failed</transaction-state>
  <completion-time-stamp>2019-06-18T17:10:14.000Z</completion-time-stamp>
  <statuses>
    <status code="400.1005" description="The Card Type has not been provided or is incorrect." severity="warning"/>
  </statuses>
  <requested-amount currency="USD">1.00</requested-amount>
  <account-holder>
    <first-name>John</first-name>
    <last-name>Doe</last-name>
    <email>john.doe@test.com</email>
    <phone>5555555555</phone>
    <address>
      <street1>123 anystreet</street1>
      <city>Brantford</city>
      <state>ON</state>
      <country>CA</country>
      <postal-code>M4P1E8</postal-code>
    </address>
  </account-holder>
  <card-token>
    <token-id>4990489254104678</token-id>
    <masked-account-number>427114******4678</masked-account-number>
  </card-token>
  <ip-address>127.0.0.1</ip-address>
  <order-number>41404</order-number>
  <order-detail>Test Product</order-detail>
  <payment-methods>
    <payment-method name="creditcard"/>
  </payment-methods>
  <api-id>elastic-api</api-id>
</payment>
----

.XML Preauthorization Notification (Failure)  
[source,xml]
----
include::samples/xml/CreditCardSamplesPreauthorization_XML_PreauthorizationNotificationFailure.xml[]
----

[#CreditCard_Samples_Preauthorization_NVP]
====== NVP
[source,subs=attributes+]
.NVP Preauthorization Request (Successful)  
----
merchant_account_id=faa8bda7-808f-4008-b218-6c9cd6f0b385&request_id=demo-7397&transaction_type=preauthorization&requested_amount_currency=USD&requested_amount=1.01&first_name=John&last_name=Doe&email=john.doe@{domain}&phone=&address_street1=123 anystreet&address_street2=Suite 999&address_city=Toronto&address_state=ON&address_country=CA&address_postal_code=M4P1E8&account_number=4271149787014678&expiration_month=12&expiration_year=2025&card_type=visa&card_security_code=123&ip_address=127.0.0.1&order_number=32888&order_detail=Test Product&payment_method=creditcard
----

.NVP Preauthorization Response (Successful) 
[source,subs=attributes+]
----
order_number=32888&api_id=elastic-api&descriptor=demo+descriptor&transaction_type=preauthorization&completion_time_stamp=20190618171326&status_code_1=201.0000&status_severity_1=information&self=https%3A%2F%2F{test-instance-hostname}:443%2Fengine%2Frest%2Fmerchants%2Ffaa8bda7-808f-4008-b218-6c9cd6f0b385%2Fpayments%2F54bd1f8f-15dd-11e5-87be-00163e5411b5&token_id=4990489254104678&transaction_state=success&transaction_id=54bd1f8f-15dd-11e5-87be-00163e5411b5&first_name=John&merchant_account_id=faa8bda7-808f-4008-b218-6c9cd6f0b385&order_detail=Test+Product&request_id=demo-7397&requested_amount=1.01&requested_amount_currency=USD&masked_account_number=427114******4678&email=john.doe%40{domain}&status_description_1=3d-acquirer%3AThe+resource+was+successfully+created.&provider_transaction_id_1=C865149143464760663368&last_name=Doe&authorization_code=609873&payment_method=creditcard&
----

.NVP Preauthorization Request (Failure)
[source,subs=attributes+]
----
merchant_account_id=faa8bda7-808f-4008-b218-6c9cd6f0b385&request_id=demo-48733&transaction_type=preauthorization&requested_amount_currency=USD&requested_amount=1.00&first_name=John&last_name=Doe&email=john.doe@{domain}&phone=&address_street1=123 anystreet&address_street2=Suite 999&address_city=Toronto&address_state=ON&address_country=CA&address_postal_code=M4P1E8&account_number=4271149787014678&expiration_month=13&expiration_year=2025&card_type=visa&card_security_code=123&ip_address=127.0.0.1&order_number=20189&order_detail=Test Product&payment_method=creditcard
----

.NVP Preauthorization Response (Failure)  
[source,subs=attributes+]
----
order_number=20189&api_id=elastic-api&transaction_type=preauthorization&completion_time_stamp=20190618171502&status_code_1=400.1003&status_severity_1=error&self=https%3A%2F%2F{test-instance-hostname}:443%2Fengine%2Frest%2Fmerchants%2Ffaa8bda7-808f-4008-b218-6c9cd6f0b385%2Fpayments%2F8e648989-15dd-11e5-87be-00163e5411b5&token_id=4990489254104678&transaction_state=failed&transaction_id=8e648989-15dd-11e5-87be-00163e5411b5&first_name=John&merchant_account_id=faa8bda7-808f-4008-b218-6c9cd6f0b385&order_detail=Test+Product&request_id=demo-48733&requested_amount=1.00&requested_amount_currency=USD&masked_account_number=427114******4678&email=john.doe%40{domain}&status_description_1=The+Expiration+Month+is+invalid.++Please+check+your+input+and+try+again.&last_name=Doe&payment_method=creditcard&
----

[#CreditCard_Samples_Authorization]
===== Authorization

[#CreditCard_Samples_Authorization_XML]
====== XML

<<CreditCard_TransactionTypes_Authorization, _authorization_>> samples

[#CreditCard_Samples_Authorization_NVP]
====== NVP

.NVP Authorization Request (Successful) 
[source,subs=attributes+]
----
merchant_account_id=cbae28e3-f8da-442a-b8d4-50393da6bcba&request_id=unique for each request&transaction_type=authorization&requested_amount_currency=USD&requested_amount=1.00&first_name=John&last_name=Doe&email=john.doe@{domain}&phone=5555555555&address_street1=123 anystreet&address_street2=Suite 312&address_city=Toronto&address_state=ON&address_country=CA&address_postal_code=M4P1E8&account_number=4271149787014678&expiration_month=12&expiration_year=2025&card_type=visa&card_security_code=123&ip_address=127.0.0.1&order_number=35185&order_detail=Test Product&payment_method=creditcard
----

.NVP Authorization Response (Successful)  
[source,subs=attributes+]
----
order_number=35185&api_id=elastic-api&phone=5555555555&descriptor=demo+descriptor&transaction_type=authorization&completion_time_stamp=20150617211048&status_code_1=201.0000&status_severity_1=information&self=https%3A%2F%2F{test-instance-hostname}:443%2Fengine%2Frest%2Fmerchants%2Fcbae28e3-f8da-442a-b8d4-50393da6bcba%2Fpayments%2F526b1a57-1535-11e5-87be-00163e5411b5&token_id=4990489254104678&transaction_state=success&transaction_id=526b1a57-1535-11e5-87be-00163e5411b5&first_name=John&merchant_account_id=cbae28e3-f8da-442a-b8d4-50393da6bcba&order_detail=Test+Product&request_id=${response}&requested_amount=1.00&requested_amount_currency=USD&masked_account_number=427114******4678&email=john.doe%40{domain}&status_description_1=3d-acquirer%3AThe+resource+was+successfully+created.&provider_transaction_id_1=C920863143457544752444&last_name=Doe&authorization_code=662294&payment_method=creditcard&
----

.NVP Authorization Request (Failure) 
[source,subs=attributes+]
----
merchant_account_id=faa8bda7-808f-4008-b218-6c9cd6f0b385&request_id=unique for each request&transaction_type=authorization&requested_amount_currency=USD&requested_amount=7.07&first_name=John&last_name=Doe&email=john.doe@{domain}&phone=&address_street1=123 anystreet&address_street2=Suite 999&address_city=Toronto&address_state=ON&address_country=CA&address_postal_code=M4P1E8&account_number=4271149787014678&expiration_month=01&expiration_year=2015&card_type=visa&card_security_code=123&ip_address=127.0.0.1&order_number=16992&order_detail=Test Product&payment_method=creditcard
----

.NVP Authorization Response (Failure) 
[source,subs=attributes+]
----
order_number=16992&api_id=elastic-api&transaction_type=authorization&completion_time_stamp=20190618152747&status_code_1=400.1003&status_severity_1=error&self=https%3A%2F%2F{test-instance-hostname}:443%2Fengine%2Frest%2Fmerchants%2Ffaa8bda7-808f-4008-b218-6c9cd6f0b385%2Fpayments%2F92db9afe-15ce-11e5-87be-00163e5411b5&token_id=4990489254104678&transaction_state=failed&transaction_id=92db9afe-15ce-11e5-87be-00163e5411b5&first_name=John&merchant_account_id=faa8bda7-808f-4008-b218-6c9cd6f0b385&order_detail=Test+Product&request_id=response&requested_amount=7.07&requested_amount_currency=USD&masked_account_number=427114******4678&email=john.doe%40{domain}&status_description_1=The+Expiration+Month+is+invalid.++Please+check+your+input+and+try+again.&last_name=Doe&payment_method=creditcard&
----

[#CreditCard_Samples_Tokenization]
===== Tokenization

[#CreditCard_Samples_Tokenization_XML]
====== XML

.XML Tokenize Request (Successful) 
[source,xml]
----
include::samples/xml/CreditCardSamplesTokenization_XML_TokenizeRequestSuccessful.xml[]
----

.XML Tokenize Response (Successful)  
[source,xml,subs=attributes+]
----
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<payment xmlns="http://www.elastic-payments.com/schema/payment" self="https://{test-instance-hostname}:443/engine/rest/merchants/9105bb4f-ae68-4768-9c3b-3eda968f57ea/payments/282e4d55-15d9-11e5-87be-00163e5411b5">
  <merchant-account-id ref="https://{test-instance-hostname}:443/engine/rest/merchants/9105bb4f-ae68-4768-9c3b-3eda968f57ea">9105bb4f-ae68-4768-9c3b-3eda968f57ea</merchant-account-id>
  <transaction-id>282e4d55-15d9-11e5-87be-00163e5411b5</transaction-id>
  <request-id>${response}</request-id>
  <transaction-type>tokenize</transaction-type>
  <transaction-state>success</transaction-state>
  <completion-time-stamp>2019-06-18T16:43:33.000Z</completion-time-stamp>
  <statuses>
    <status code="201.0000" description="The resource was successfully created." severity="information"/>
  </statuses>
  <account-holder>
    <first-name>John</first-name>
    <last-name>Doe</last-name>
    <email>john.doe@test.com</email>
    <phone>555 555 5555</phone>
    <address>
      <street1>123 anystreet</street1>
      <street2>apt 2</street2>
      <city>Brantford</city>
      <state>ON</state>
      <country>CA</country>
      <postal-code>M4P1E8</postal-code>
    </address>
  </account-holder>
  <card-token>
    <token-id>4990489254104678</token-id>
    <masked-account-number>427114******4678</masked-account-number>
  </card-token>
  <ip-address>127.0.0.1</ip-address>
  <payment-methods>
    <payment-method name="creditcard"/>
  </payment-methods>
  <api-id>elastic-api</api-id>
</payment>
----

.XML Tokenize Notification (Successful)  
[source,xml]
----
include::samples/xml/CreditCardSamplesTokenization_XML_TokenizeNotificationSuccessful.xml[]
----

.XML Tokenize Request (Failure)  
[source,xml]
----
include::samples/xml/CreditCardSamplesTokenization_XML_TokenizeRequestFailure.xml[]
----

.XML Tokenize Response (Failure)  
[source,xml,subs=attributes+]
----
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<payment xmlns="http://www.elastic-payments.com/schema/payment" self="https://{test-instance-hostname}:443/engine/rest/merchants/9105bb4f-ae68-4768-9c3b-3eda968f57ea/payments/6300800b-15e7-11e5-87be-00163e5411b5">
  <merchant-account-id ref="https://{test-instance-hostname}:443/engine/rest/merchants/9105bb4f-ae68-4768-9c3b-3eda968f57ea">9105bb4f-ae68-4768-9c3b-3eda968f57ea</merchant-account-id>
  <transaction-id>6300800b-15e7-11e5-87be-00163e5411b5</transaction-id>
  <request-id>${response}</request-id>
  <transaction-type>tokenize</transaction-type>
  <transaction-state>failed</transaction-state>
  <completion-time-stamp>2019-06-18T18:25:24.000Z</completion-time-stamp>
  <statuses>
    <status code="400.1004" description="The Expiration Year is invalid.  Please check your input and try again." severity="error"/>
  </statuses>
  <account-holder>
    <first-name>John</first-name>
    <last-name>Doe</last-name>
    <email>john.doe@test.com</email>
    <phone>555 555 5555</phone>
    <address>
      <street1>123 anystreet</street1>
      <street2>apt 2</street2>
      <city>Brantford</city>
      <state>ON</state>
      <country>CA</country>
      <postal-code>M4P1E8</postal-code>
    </address>
  </account-holder>
  <ip-address>127.0.0.1</ip-address>
  <payment-methods>
    <payment-method name="creditcard"/>
  </payment-methods>
  <api-id>elastic-api</api-id>
</payment>
----

.XML Tokenize Notification (Failure) 
[source,xml]
----
include::samples/xml/CreditCardSamplesTokenization_XML_TokenizeNotificationFailure.xml[]
----

[#CreditCard_Samples_Tokenization_NVP]
====== NVP

.NVP Tokenize Request (Successful)  
[source]
----
first_name=John&card_type=visa&transaction_type=tokenize&expiration_month=12&account_number=4271149787014678&expiration_year=2025&ip_address=127.0.0.1&last_name=Doe&email=test@test.com&phone=555 555 5555&street1=123 anystreet&street2=apt 2&city=Brantford&state=ON&country=CA&request_id=demo-18329&merchant_account_id=faa8bda7-808f-4008-b218-6c9cd6f0b385&postal_code=M4P1E8&&merchant_crm_id=salesforce-76156
----

.NVP Tokenize Response (Successful)  
[source,subs=attributes+]
----
street2=apt+2&merchant_crm_id=salesforce-76156&street1=123+anystreet&api_id=elastic-api&phone=555+555+5555&transaction_type=tokenize&state=ON&completion_time_stamp=20190618164724&status_code_1=201.0000&status_severity_1=information&self=https%3A%2F%2F{test-instance-hostname}:443%2Fengine%2Frest%2Fmerchants%2Ffaa8bda7-808f-4008-b218-6c9cd6f0b385%2Fpayments%2Fb1ee41a5-15d9-11e5-87be-00163e5411b5&token_id=4990489254104678&transaction_state=success&transaction_id=b1ee41a5-15d9-11e5-87be-00163e5411b5&country=CA&city=Brantford&merchant_account_id=faa8bda7-808f-4008-b218-6c9cd6f0b385&first_name=John&request_id=demo-18329&masked_account_number=427114******4678&email=test%40test.com&status_description_1=The+resource+was+successfully+created.&postal_code=M4P1E8&last_name=Doe&
----

.NVP Tokenize Request (Failure)  
[source]
----
first_name=John&card_type=visa&transaction_type=tokenize&expiration_month=12&account_number=4271149787014678&expiration_year=2012&ip_address=127.0.0.1&last_name=Doe&email=test@test.com&phone=555 555 5555&street1=123 anystreet&street2=apt 2&city=Brantford&state=ON&country=CA&request_id=demo-21560&merchant_account_id=faa8bda7-808f-4008-b218-6c9cd6f0b385&postal_code=M4P1E8&&merchant_crm_id=salesforce-76156
----

.NVP Tokenize Response (Failure)  
[source,subs=attributes+]
----
street2=apt+2&merchant_crm_id=salesforce-76156&street1=123+anystreet&api_id=elastic-api&phone=555+555+5555&transaction_type=tokenize&state=ON&completion_time_stamp=20190618182632&status_code_1=400.1004&status_severity_1=error&self=https%3A%2F%2F{test-instance-hostname}:443%2Fengine%2Frest%2Fmerchants%2Ffaa8bda7-808f-4008-b218-6c9cd6f0b385%2Fpayments%2F8b878ef7-15e7-11e5-87be-00163e5411b5&transaction_state=failed&transaction_id=8b878ef7-15e7-11e5-87be-00163e5411b5&country=CA&city=Brantford&merchant_account_id=faa8bda7-808f-4008-b218-6c9cd6f0b385&first_name=John&request_id=demo-21560&email=test%40test.com&status_description_1=The+Expiration+Year+is+invalid.++Please+check+your+input+and+try+again.&postal_code=M4P1E8&last_name=Doe&
----

[#CreditCard_Samples_Detokenization]
===== Detokenization

[#CreditCard_Samples_Detokenization_XML]
====== XML

.XML Detokenize Request (Successful)  
[source,xml]
----
include::samples/xml/CreditCardSamplesDetokenization_XML_DetokenizeRequestSuccessful.xml[]
----

.XML Detokenize Response (Successful)  
[source,xml,subs=attributes+]
----
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<payment xmlns="http://www.elastic-payments.com/schema/payment" self="https://{test-instance-hostname}:443/engine/rest/merchants/8d97b958-2d15-450e-979e-222250672c72/payments/ec7674cd-15d8-11e5-87be-00163e5411b5">
  <merchant-account-id ref="https://{test-instance-hostname}:443/engine/rest/merchants/8d97b958-2d15-450e-979e-222250672c72">8d97b958-2d15-450e-979e-222250672c72</merchant-account-id>
  <transaction-id>ec7674cd-15d8-11e5-87be-00163e5411b5</transaction-id>
  <request-id>${response}</request-id>
  <transaction-type>detokenize</transaction-type>
  <transaction-state>success</transaction-state>
  <completion-time-stamp>2019-06-18T16:41:52.000Z</completion-time-stamp>
  <statuses>
    <status code="201.0000" description="The resource was successfully created." severity="information"/>
  </statuses>
  <account-holder>
    <first-name>John</first-name>
    <last-name>Doe</last-name>
    <email>john.doe@test.com</email>
    <phone>555 555 5555</phone>
    <address>
      <street1>123 anystreet</street1>
      <street2>apt 2</street2>
      <city>Brantford</city>
      <state>ON</state>
      <country>CA</country>
      <postal-code>M4P1E8</postal-code>
    </address>
  </account-holder>
  <card>
    <account-number>4271149787014678</account-number>
    <expiration-month>12</expiration-month>
    <expiration-year>2020</expiration-year>
    <card-type>visa</card-type>
  </card>
  <card-token>
    <token-id>4990489254104678</token-id>
  </card-token>
  <payment-methods>
    <payment-method name="creditcard"/>
  </payment-methods>
  <api-id>elastic-api</api-id>
</payment>
----

.XML Detokenize Notification (Successful) 
[source,xml]
----
include::samples/xml/CreditCardSamplesDetokenization_XML_DetokenizeNotificationSuccessful.xml[]
----

.XML Detokenize Request (Failure)  
[source,xml]
----
include::samples/xml/CreditCardSamplesDetokenization_XML_DetokenizeRequestFailure.xml[]
----

.XML Detokenize Response (Failure)  
[source,xml,subs=attributes+]
----
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<payment xmlns="http://www.elastic-payments.com/schema/payment" self="https://{test-instance-hostname}:443/engine/rest/merchants/8d97b958-2d15-450e-979e-222250672c72/payments/29b7cab3-15d9-11e5-87be-00163e5411b5">
  <merchant-account-id ref="https://{test-instance-hostname}:443/engine/rest/merchants/8d97b958-2d15-450e-979e-222250672c72">8d97b958-2d15-450e-979e-222250672c72</merchant-account-id>
  <transaction-id>29b7cab3-15d9-11e5-87be-00163e5411b5</transaction-id>
  <request-id>${response}</request-id>
  <transaction-type>detokenize</transaction-type>
  <transaction-state>failed</transaction-state>
  <completion-time-stamp>2019-06-18T16:43:35.000Z</completion-time-stamp>
  <statuses>
    <status code="400.1028" description="The Token or Account Number is invalid.  Please check your input and try again" severity="error"/>
  </statuses>
  <payment-methods>
    <payment-method name="creditcard"/>
  </payment-methods>
  <api-id>elastic-api</api-id>
</payment>
----

.XML Detokenize Notification (Failure) 
[source,xml]
----
include::samples/xml/CreditCardSamplesDetokenization_XML_DetokenizeNotificationFailure.xml[]
----

[#CreditCard_Samples_Detokenization_NVP]
====== NVP

.NVP Detokenize Request (Successful)  
[source]
----
transaction_type=detokenize&ip_address=127.0.0.1&request_id=demo-14087&merchant_account_id=faa8bda7-808f-4008-b218-6c9cd6f0b385&token_id=4990489254104678&payment_method=creditcard
----

.NVP Detokenize Response (Successful)  
[source,subs=attributes+]
----
phone=555+555+5555&transaction_type=detokenize&status_severity_1=information&status_code_1=201.0000&completion_time_stamp=20190618164544&state=ON&self=https%3A%2F%2F{test-instance-hostname}:443%2Fengine%2Frest%2Fmerchants%2Ffaa8bda7-808f-4008-b218-6c9cd6f0b385%2Fpayments%2F763b2a72-15d9-11e5-87be-00163e5411b5&transaction_state=success&token_id=4990489254104678&city=Brantford&first_name=John&merchant_account_id=faa8bda7-808f-4008-b218-6c9cd6f0b385&expiration_month=12&status_description_1=The+resource+was+successfully+created.&expiration_year=2025&merchant_crm_id=salesforce-76156&street2=apt+2&api_id=elastic-api&street1=123+anystreet&account_number=4271149787014678&transaction_id=763b2a72-15d9-11e5-87be-00163e5411b5&country=CA&request_id=demo-14087&card_type=visa&email=test%40test.com&postal_code=M4P1E8&last_name=Doe&payment_method=creditcard&
----

.NVP Detokenize Request (Failure)  
[source]
----
transaction_type=detokenize&ip_address=127.0.0.1&request_id=demo-49528&merchant_account_id=faa8bda7-808f-4008-b218-6c9cd6f0b385&token_id=499048925410467&payment_method=creditcard
----

.NVP Detokenize Response (Failure)  
[source,subs=attributes+]
----
api_id=elastic-api&merchant_account_id=faa8bda7-808f-4008-b218-6c9cd6f0b385&request_id=demo-49528&status_description_1=The+Token+or+Account+Number+is+invalid.++Please+check+your+input+and+try+again&transaction_type=detokenize&status_severity_1=error&status_code_1=400.1028&completion_time_stamp=20190618164724&self=https%3A%2F%2F{test-instance-hostname}:443%2Fengine%2Frest%2Fmerchants%2Ffaa8bda7-808f-4008-b218-6c9cd6f0b385%2Fpayments%2Fb22f9292-15d9-11e5-87be-00163e5411b5&transaction_state=failed&payment_method=creditcard&transaction_id=b22f9292-15d9-11e5-87be-00163e5411b5&
----

[#CreditCard_Samples_PaymentProcessUsingToken]
===== Payment Process Using a Token

Read how a
<<CreditCard_PaymentFeatures_Tokenization, token replaces the clear credit card data>>.

Find
<<CreditCard_TransactionTypes_Authorization_SendingData_AuthorizationUsingCardData, _authorization_ samples>>
that illustrate the use of a token.

[#CreditCard_Samples_AuthorizationOnly]
===== Authorization Only

[#CreditCard_Samples_AuthorizationOnly_XML]
====== XML

.XML Authorization Only Request (Successful) 
[source,xml]
----
include::samples/xml/CreditCardSamplesAuthorizationOnly_XML_AuthorizationOnlyRequestSuccessful.xml[]
----

.XML Authorization Only Response (Successful)
[source,xml,subs=attributes+]
----
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<payment xmlns="http://www.elastic-payments.com/schema/payment" self="https://{test-instance-hostname}:443/engine/rest/merchants/9105bb4f-ae68-4768-9c3b-3eda968f57ea/payments/b787b831-1535-11e5-87be-00163e5411b5">
    <merchant-account-id ref="https://{test-instance-hostname}:443/engine/rest/merchants/9105bb4f-ae68-4768-9c3b-3eda968f57ea">9105bb4f-ae68-4768-9c3b-3eda968f57ea</merchant-account-id>
    <transaction-id>b787b831-1535-11e5-87be-00163e5411b5</transaction-id>
    <request-id>${response}</request-id>
    <transaction-type>authorization-only</transaction-type>
    <transaction-state>success</transaction-state>
    <completion-time-stamp>2019-06-17T21:13:37.000Z</completion-time-stamp>
    <statuses>
        <status code="201.0000" description="3d-acquirer:The resource was successfully created." severity="information" provider-transaction-id="C912539143457561690916"/>
    </statuses>
    <requested-amount currency="USD">0.00</requested-amount>
    <account-holder>
        <first-name>John</first-name>
        <last-name>Doe</last-name>
        <email>john.doe@test.com</email>
        <phone>5555555555</phone>
        <address>
            <street1>123 anystreet</street1>
            <city>Brantford</city>
            <state>ON</state>
            <country>CA</country>
            <postal-code>M4P1E8</postal-code>
        </address>
    </account-holder>
    <card-token>
        <token-id>4990489254104678</token-id>
        <masked-account-number>427114******4678</masked-account-number>
    </card-token>
    <ip-address>127.0.0.1</ip-address>
    <order-number>26423</order-number>
    <order-detail>Test Product</order-detail>
    <payment-methods>
        <payment-method name="creditcard"/>
    </payment-methods>
    <authorization-code>680215</authorization-code>
    <api-id>elastic-api</api-id>
</payment>
----

.XML Authorization Only Notification (Successful)  
[source,xml]
----
include::samples/xml/CreditCardSamplesAuthorizationOnly_XML_AuthorizationOnlyNotificationSuccessful.xml[]
----

.XML Authorization Only Request (Failure)  
[source,xml]
----
include::samples/xml/CreditCardSamplesAuthorizationOnly_XML_AuthorizationOnlyRequestFailure.xml[]
----

.XML Authorization Only Response (Failure)  
[source,xml,subs=attributes+]
----
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<payment xmlns="http://www.elastic-payments.com/schema/payment" self="https://{test-instance-hostname}:443/engine/rest/merchants/9105bb4f-ae68-4768-9c3b-3eda968f57ea/payments/9f3cf204-15cf-11e5-87be-00163e5411b5">
  <merchant-account-id ref="https://{test-instance-hostname}:443/engine/rest/merchants/9105bb4f-ae68-4768-9c3b-3eda968f57ea">faa8bda7-808f-4008-b218-6c9cd6f0b385</merchant-account-id>
  <transaction-id>9f3cf204-15cf-11e5-87be-00163e5411b5</transaction-id>
  <request-id>${response}</request-id>
  <transaction-type>authorization-only</transaction-type>
  <transaction-state>failed</transaction-state>
  <completion-time-stamp>2019-06-18T15:35:17.000Z</completion-time-stamp>
  <statuses>
    <status code="400.1004" description="The Expiration Year is invalid.  Please check your input and try again." severity="error"/>
  </statuses>
  <requested-amount currency="USD">0.00</requested-amount>
  <account-holder>
    <first-name>John</first-name>
    <last-name>Doe</last-name>
    <email>john.doe@test.com</email>
    <phone></phone>
    <address>
      <street1>123 anystreet</street1>
      <city>Brantford</city>
      <state>ON</state>
      <country>CA</country>
      <postal-code>M4P1E8</postal-code>
    </address>
  </account-holder>
  <card-token>
    <token-id>4990489254104678</token-id>
    <masked-account-number>427114******4678</masked-account-number>
  </card-token>
  <ip-address>127.0.0.1</ip-address>
  <order-number>7462</order-number>
  <order-detail>Test Product</order-detail>
  <payment-methods>
    <payment-method name="creditcard"/>
  </payment-methods>
  <api-id>elastic-api</api-id>
</payment>
----

.XML Authorization Only Notification (Failure)  
[source,xml]
----
include::samples/xml/CreditCardSamplesAuthorizationOnly_XML_AuthorizationOnlyNotificationFailure.xml[]
----

[#CreditCard_Samples_AuthorizationOnly_NVP]
====== NVP

.NVP Authorization Only Request (Successful) 
[source,subs=attributes+]
----
merchant_account_id=cbae28e3-f8da-442a-b8d4-50393da6bcba&request_id=unique for each request&transaction_type=authorization-only&requested_amount_currency=USD&requested_amount=0.00&first_name=John&last_name=Doe&email=john.doe@{domain}&phone=5555555555&address_street1=123 anystreet&address_street2=Suite 312&address_city=Toronto&address_state=ON&address_country=CA&address_postal_code=M4P1E8&account_number=4271149787014678&expiration_month=12&expiration_year=2025&card_type=visa&card_security_code=123&ip_address=127.0.0.1&order_number=14785&order_detail=Test Product&payment_method=creditcard
----

.NVP Authorization Only Response (Successful) 
[source,subs=attributes+]
----
order_number=14785&api_id=elastic-api&phone=5555555555&descriptor=demo+descriptor&transaction_type=authorization-only&completion_time_stamp=20150617211513&status_code_1=201.0000&status_severity_1=information&self=https%3A%2F%2F{test-instance-hostname}:443%2Fengine%2Frest%2Fmerchants%2Fcbae28e3-f8da-442a-b8d4-50393da6bcba%2Fpayments%2Ff0ecfc98-1535-11e5-87be-00163e5411b5&token_id=4990489254104678&transaction_state=success&transaction_id=f0ecfc98-1535-11e5-87be-00163e5411b5&first_name=John&merchant_account_id=cbae28e3-f8da-442a-b8d4-50393da6bcba&order_detail=Test+Product&request_id=response&requested_amount=0.00&requested_amount_currency=USD&masked_account_number=427114******4678&email=john.doe%40{domain}&status_description_1=3d-acquirer%3AThe+resource+was+successfully+created.&provider_transaction_id_1=C971478143457571321250&last_name=Doe&authorization_code=123040&payment_method=creditcard&
----

.NVP Authorization Only Request (Failure) 
[source,subs=attributes+]
----
merchant_account_id=faa8bda7-808f-4008-b218-6c9cd6f0b385&request_id=unique for each request&transaction_type=authorization-only&requested_amount_currency=USD&requested_amount=0.00&first_name=John&last_name=Doe&email=john.doe@{domain}&phone=&address_street1=123 anystreet&address_street2=Suite 999&address_city=Toronto&address_state=ON&address_country=CA&address_postal_code=M4P1E8&account_number=4271149787014678&expiration_month=01&expiration_year=2015&card_type=visa&card_security_code=123&ip_address=127.0.0.1&order_number=7405&order_detail=Test Product&payment_method=creditcard
----

.NVP Authorization Only Response (Failure)  
[source,subs=attributes+]
----
order_number=7405&api_id=elastic-api&transaction_type=authorization-only&completion_time_stamp=20190618153640&status_code_1=400.1003&status_severity_1=error&self=https%3A%2F%2F{test-instance-hostname}:443%2Fengine%2Frest%2Fmerchants%2Ffaa8bda7-808f-4008-b218-6c9cd6f0b385%2Fpayments%2Fd04ae67c-15cf-11e5-87be-00163e5411b5&token_id=4990489254104678&transaction_state=failed&transaction_id=d04ae67c-15cf-11e5-87be-00163e5411b5&first_name=John&merchant_account_id=faa8bda7-808f-4008-b218-6c9cd6f0b385&order_detail=Test+Product&request_id=response&requested_amount=0.00&requested_amount_currency=USD&masked_account_number=427114******4678&email=john.doe%40{domain}&status_description_1=The+Expiration+Month+is+invalid.++Please+check+your+input+and+try+again.&last_name=Doe&payment_method=creditcard&
----

[#CreditCard_Samples_AuthorizationSupplementary]
===== Authorization Supplementary

This transaction type *is not included in default configuration.*

[#CreditCard_Samples_AuthorizationSupplementary_XML]
====== XML

.XML Authorization Supplementary Request (Successful)  
[source,xml]
----
include::samples/xml/CreditCardSamplesAuthorizationSupplementary_XML_AuthorizationSupplementaryRequestSuccessful.xml[]
----

.XML Authorization Supplementary Response (Successful)  
[source,xml,subs=attributes+]
----
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<payment xmlns="http://www.elastic-payments.com/schema/payment" self="https://{test-instance-hostname}:443/engine/rest/merchants/9cf2d63d-9a78-47d3-8949-97e83661c9d0/payments/dbf3fbdd-15e6-11e5-87be-00163e5411b5">
  <merchant-account-id ref="https://{test-instance-hostname}:443/engine/rest/merchants/9cf2d63d-9a78-47d3-8949-97e83661c9d0">9cf2d63d-9a78-47d3-8949-97e83661c9d0</merchant-account-id>
  <transaction-id>dbf3fbdd-15e6-11e5-87be-00163e5411b5</transaction-id>
  <request-id>${response}</request-id>
  <transaction-type>authorization-supplementary</transaction-type>
  <transaction-state>success</transaction-state>
  <completion-time-stamp>2019-06-18T18:21:39.000Z</completion-time-stamp>
  <statuses>
    <status code="201.0000" description="3d-acquirer:The resource was successfully created." severity="information"/>
  </statuses>
  <requested-amount currency="USD">2.01</requested-amount>
  <account-holder>
    <first-name>John</first-name>
    <last-name>Doe</last-name>
    <email>john.doe@test.com</email>
    <phone></phone>
    <address>
      <street1>123 anystreet</street1>
      <city>Brantford</city>
      <state>ON</state>
      <country>CA</country>
    </address>
  </account-holder>
  <card-token>
    <token-id>4634770387971111</token-id>
    <masked-account-number>444433******1111</masked-account-number>
  </card-token>
  <ip-address>127.0.0.1</ip-address>
  <payment-methods>
    <payment-method name="creditcard"/>
  </payment-methods>
  <authorization-code>424477</authorization-code>
  <api-id>elastic-api</api-id>
</payment>
----

.XML Authorization Supplementary Notification (Successful)
[source,xml]
----
include::samples/xml/CreditCardSamplesAuthorizationSupplementary_XML_AuthorizationSupplementaryNotificationSuccessful.xml[]
----

.XML Authorization Supplementary Request (Failure)  
[source,xml]
----
include::samples/xml/CreditCardSamplesAuthorizationSupplementary_XML_AuthorizationSupplementaryRequestFailure.xml[]
----

.XML Authorization Supplementary Response (Failure)  
[source,xml,subs=attributes+]
----
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<payment xmlns="http://www.elastic-payments.com/schema/payment" self="https://{test-instance-hostname}:443/engine/rest/merchants/9cf2d63d-9a78-47d3-8949-97e83661c9d0/payments/061801ba-15f2-11e5-87be-00163e5411b5">
  <merchant-account-id ref="https://{test-instance-hostname}:443/engine/rest/merchants/9cf2d63d-9a78-47d3-8949-97e83661c9d0">9cf2d63d-9a78-47d3-8949-97e83661c9d0</merchant-account-id>
  <transaction-id>061801ba-15f2-11e5-87be-00163e5411b5</transaction-id>
  <request-id>${response}</request-id>
  <transaction-type>authorization-supplementary</transaction-type>
  <transaction-state>failed</transaction-state>
  <completion-time-stamp>2019-06-18T19:41:33.000Z</completion-time-stamp>
  <statuses>
    <status code="400.1011" description="The Requested Amount has not been provided.  Please check your input and try again." severity="error"/>
  </statuses>
  <requested-amount currency="USD"/>
  <account-holder>
    <first-name>John</first-name>
    <last-name>Doe</last-name>
    <email>john.doe@test.com</email>
    <phone></phone>
    <address>
      <street1>123 anystreet</street1>
      <city>Brantford</city>
      <state>ON</state>
      <country>CA</country>
    </address>
  </account-holder>
  <card-token>
    <token-id>4634770387971111</token-id>
    <masked-account-number>444433******1111</masked-account-number>
  </card-token>
  <ip-address>127.0.0.1</ip-address>
  <payment-methods>
    <payment-method name="creditcard"/>
  </payment-methods>
  <api-id>elastic-api</api-id>
</payment>
----

.XML Authorization Supplementary Notification (Failure)  
[source,xml]
----
include::samples/xml/CreditCardSamplesAuthorizationSupplementary_XML_AuthorizationSupplementaryNotificationFailure.xml[]
----

[#CreditCard_Samples_AuthorizationSupplementary_NVP]
====== NVP

.NVP Authorization Supplementary Request (Successful) 
[source]
----
merchant_account_id=9cf2d63d-9a78-47d3-8949-97e83661c9d0&request_id=unique for each request&transaction_type=authorization-supplementary&parent_transaction_id=508d9dcd-15f2-11e5-87be-00163e5411b5&requested_amount_currency=USD&requested_amount=7.07&ip_address=127.0.0.1
----

.NVP Authorization Supplementary Response (Successful)  
[source,subs=attributes+]
----
order_number=30387&api_id=elastic-api&transaction_type=authorization-supplementary&completion_time_stamp=20190618194341&status_code_1=201.0000&status_severity_1=information&self=https%3A%2F%2F{test-instance-hostname}:443%2Fengine%2Frest%2Fmerchants%2F9cf2d63d-9a78-47d3-8949-97e83661c9d0%2Fpayments%2F51cf9999-15f2-11e5-87be-00163e5411b5&token_id=4990489254104678&transaction_state=success&transaction_id=51cf9999-15f2-11e5-87be-00163e5411b5&first_name=John&merchant_account_id=9cf2d63d-9a78-47d3-8949-97e83661c9d0&order_detail=Test+Product&request_id=$response&requested_amount=7.07&requested_amount_currency=USD&masked_account_number=427114******4678&email=john.doe%40{domain}&status_description_1=3d-acquirer%3AThe+resource+was+successfully+created.&last_name=Doe&authorization_code=170700&payment_method=creditcard&
----

.NVP Authorization Supplementary Request (Failure) 
[source]
----
merchant_account_id=9cf2d63d-9a78-47d3-8949-97e83661c9d0&request_id=unique for each request&transaction_type=authorization-supplementary&parent_transaction_id=&requested_amount_currency=USD&requested_amount=7.07&ip_address=127.0.0.1
----

.NVP Authorization Supplementary Response (Failure)  
[source,subs=attributes+]
----
api_id=elastic-api&transaction_type=authorization-supplementary&completion_time_stamp=20190618194432&status_code_1=400.1021&status_severity_1=error&self=https%3A%2F%2F{test-instance-hostname}:443%2Fengine%2Frest%2Fmerchants%2F9cf2d63d-9a78-47d3-8949-97e83661c9d0%2Fpayments%2F70af7a09-15f2-11e5-87be-00163e5411b5&transaction_state=failed&transaction_id=70af7a09-15f2-11e5-87be-00163e5411b5&merchant_account_id=9cf2d63d-9a78-47d3-8949-97e83661c9d0&request_id=demo-6625&requested_amount=7.07&requested_amount_currency=USD&status_description_1=The+Parent+Transaction+Id+is+required%2C+and+not+provided.++Please+check+your+input+and+try+again.&api_id=elastic-api&transaction_type=authorization-supplementary&completion_time_stamp=20190618194432&status_code_1=400.1021&status_severity_1=error&self=https%3A%2F%2F{test-instance-hostname}:443%2Fengine%2Frest%2Fmerchants%2F9cf2d63d-9a78-47d3-8949-97e83661c9d0%2Fpayments%2F70af7a09-15f2-11e5-87be-00163e5411b5&transaction_state=failed&transaction_id=70af7a09-15f2-11e5-87be-00163e5411b5&merchant_account_id=9cf2d63d-9a78-47d3-8949-97e83661c9d0&request_id=response&requested_amount=7.07&requested_amount_currency=USD&status_description_1=The+Parent+Transaction+Id+is+required%2C+and+not+provided.++Please+check+your+input+and+try+again.&
----

[#CreditCard_Samples_CaptureAuthorization]
===== Capture Authorization

[#CreditCard_Samples_CaptureAuthorization_XML]
====== XML

<<CreditCard_TransactionTypes_CaptureAuthorization_SendingData_CaptureAuthorization, _capture-authorization_ sample>>

[#CreditCard_Samples_CaptureAuthorization_NVP]
====== NVP

.NVP Capture Authorization Request (Successful)  
[source]
----
merchant_account_id=faa8bda7-808f-4008-b218-6c9cd6f0b385&request_id=demo-7638&transaction_type=capture-authorization&parent_transaction_id=578ae35d-15cd-11e5-87be-00163e5411b5&requested_amount_currency=USD&requested_amount=7.07&ip_address=127.0.0.1
----

.NVP Capture Authorization Response (Successful)  
[source,subs=attributes+]
----
order_number=16014&api_id=elastic-api&transaction_type=capture-authorization&completion_time_stamp=20190618151902&status_code_1=201.0000&status_severity_1=information&self=https%3A%2F%2F{test-instance-hostname}:443%2Fengine%2Frest%2Fmerchants%2Ffaa8bda7-808f-4008-b218-6c9cd6f0b385%2Fpayments%2F58c5bf3f-15cd-11e5-87be-00163e5411b5&token_id=4990489254104678&transaction_state=success&transaction_id=58c5bf3f-15cd-11e5-87be-00163e5411b5&first_name=John&merchant_account_id=faa8bda7-808f-4008-b218-6c9cd6f0b385&order_detail=Test+Product&request_id=demo-7638&requested_amount=7.07&requested_amount_currency=USD&masked_account_number=427114******4678&email=john.doe%40{domain}&status_description_1=3d-acquirer%3AThe+resource+was+successfully+created.&provider_transaction_id_1=C805833143464074127151&last_name=Doe&authorization_code=418157&payment_method=creditcard&
----

.NVP Capture Authorization Request (Failure)  
[source]
----
merchant_account_id=faa8bda7-808f-4008-b218-6c9cd6f0b385&request_id=demo-40862&transaction_type=capture-authorization&parent_transaction_id=578ae35d-15cd-11e5-87be-00163e5411b&requested_amount_currency=USD&requested_amount=7.07&ip_address=127.0.0.1
----

.NVP Capture Authorization Response (Failure)  
[source,subs=attributes+]
----
api_id=elastic-api&transaction_type=capture-authorization&completion_time_stamp=20190618152238&status_code_1=400.1020&status_severity_1=error&self=https%3A%2F%2F{test-instance-hostname}:443%2Fengine%2Frest%2Fmerchants%2Ffaa8bda7-808f-4008-b218-6c9cd6f0b385%2Fpayments%2Fda9c1044-15cd-11e5-87be-00163e5411b5&transaction_state=failed&transaction_id=da9c1044-15cd-11e5-87be-00163e5411b5&merchant_account_id=faa8bda7-808f-4008-b218-6c9cd6f0b385&request_id=demo-40862&requested_amount=7.07&requested_amount_currency=USD&status_description_1=The+Parent+Transaction+Id+does+not+exist.++Please+check+your+input+and+try+again.&
----

[#CreditCard_Samples_RecurringPurchaseTransaction]
===== Recurring purchase Transaction

<<CreditCard_TransactionTypes_Purchase_SendingData_ReferencingPurchaseTransactions, Recurring _purchase_ transaction samples>>

[#CreditCard_Samples_ReferencedAuthorization]
===== Referenced Authorization

[#CreditCard_Samples_ReferencedAuthorization_XML]
====== XML

.XML Referenced-Authorization Request (Successful)
[source,xml]
----
include::samples/xml/CreditCardSamplesReferencedAuthorization_XML_ReferencedAuthorizationRequestSuccessful.xml[]
----

.XML Referenced-Authorization Response (Successful)
[source,xml,subs=attributes+]
----
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<payment xmlns="http://www.elastic-payments.com/schema/payment" self="https://{test-instance-hostname}:443/engine/rest/merchants/9105bb4f-ae68-4768-9c3b-3eda968f57ea/payments/6dbb4e52-15df-11e5-87be-00163e5411b5">
  <merchant-account-id ref="https://{test-instance-hostname}:443/engine/rest/merchants/9105bb4f-ae68-4768-9c3b-3eda968f57ea">9105bb4f-ae68-4768-9c3b-3eda968f57ea</merchant-account-id>
  <transaction-id>6dbb4e52-15df-11e5-87be-00163e5411b5</transaction-id>
  <request-id>${response}</request-id>
  <transaction-type>referenced-authorization</transaction-type>
  <transaction-state>success</transaction-state>
  <completion-time-stamp>2019-06-18T17:28:27.000Z</completion-time-stamp>
  <statuses>
    <status code="201.0000" description="3d-acquirer:The resource was successfully created." severity="information" provider-transaction-id="C803951143464850739076"/>
  </statuses>
  <requested-amount currency="USD">2.50</requested-amount>
  <account-holder>
    <first-name>John</first-name>
    <last-name>Doe</last-name>
    <email>john.doe@test.com</email>
    <phone></phone>
    <address>
      <street1>123 anystreet</street1>
      <city>Brantford</city>
      <state>ON</state>
      <country>CA</country>
      <postal-code>M4P1E8</postal-code>
    </address>
  </account-holder>
  <card-token>
    <token-id>4119529611183494</token-id>
    <masked-account-number>414720******3494</masked-account-number>
  </card-token>
  <ip-address>127.0.0.1</ip-address>
  <order-number>9206</order-number>
  <order-detail>Test Product</order-detail>
  <payment-methods>
    <payment-method name="creditcard"/>
  </payment-methods>
  <authorization-code>835706</authorization-code>
  <api-id>elastic-api</api-id>
  <periodic>
    <periodic-type>recurring</periodic-type>
  </periodic>
</payment>
----

.XML Referenced-Authorization Notification (Successful)  
[source,xml]
----
include::samples/xml/CreditCardSamplesReferencedAuthorization_XML_ReferencedAuthorizationNotificationSuccessful.xml[]
----

.XML Referenced-Authorization Request (Failure) 
[source,xml]
----
include::samples/xml/CreditCardSamplesReferencedAuthorization_XML_ReferencedAuthorizationRequestFailure.xml[]
----

.XML Referenced-Authorization Response (Failure)  
[source,xml,subs=attributes+]
----
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<payment xmlns="http://www.elastic-payments.com/schema/payment" self="https://{test-instance-hostname}:443/engine/rest/merchants/9105bb4f-ae68-4768-9c3b-3eda968f57ea/payments/be4b6167-15df-11e5-87be-00163e5411b5">
  <merchant-account-id ref="https://{test-instance-hostname}:443/engine/rest/merchants/9105bb4f-ae68-4768-9c3b-3eda968f57ea">9105bb4f-ae68-4768-9c3b-3eda968f57ea</merchant-account-id>
  <transaction-id>be4b6167-15df-11e5-87be-00163e5411b5</transaction-id>
  <request-id>${response}</request-id>
  <transaction-type>referenced-authorization</transaction-type>
  <transaction-state>failed</transaction-state>
  <completion-time-stamp>2019-06-18T17:30:41.000Z</completion-time-stamp>
  <statuses>
    <status code="400.1021" description="The Parent Transaction Id is required, and not provided.  Please check your input and try again." severity="error"/>
    <status code="400.1020" description="The Parent Transaction Id does not exist.  Please check your input and try again." severity="error"/>
  </statuses>
  <requested-amount currency="USD">2.50</requested-amount>
  <ip-address>127.0.0.1</ip-address>
  <api-id>elastic-api</api-id>
</payment>
----

.XML Referenced-Authorization Notification (Failure)  
[source,xml]
----
include::samples/xml/CreditCardSamplesReferencedAuthorization_XML_ReferencedAuthorizationNotificationFailure.xml[]
----

[#CreditCard_Samples_ReferencedAuthorization_NVP]
====== NVP

.NVP Referenced-Authorization Request (Successful) 
[source]
----
merchant_account_id=9105bb4f-ae68-4768-9c3b-3eda968f57ea&request_id=demo-45714&transaction_type=referenced-authorization&parent_transaction_id=ea095df6-15df-11e5-87be-00163e5411b5&requested_amount_currency=USD&requested_amount=7.07&ip_address=127.0.0.1
----

.NVP Referenced-Authorization Response (Successful)  
[source,subs=attributes+]
----
order_number=11219&api_id=elastic-api&transaction_type=referenced-authorization&completion_time_stamp=20190618173246&status_code_1=201.0000&status_severity_1=information&self=https%3A%2F%2F{test-instance-hostname}:443%2Fengine%2Frest%2Fmerchants%2Ffaa8bda7-808f-4008-b218-6c9cd6f0b385%2Fpayments%2F07cb1e4d-15e0-11e5-87be-00163e5411b5&token_id=4990489254104678&transaction_state=success&transaction_id=07cb1e4d-15e0-11e5-87be-00163e5411b5&first_name=John&merchant_account_id=9105bb4f-ae68-4768-9c3b-3eda968f57ea&order_detail=Test+Product&request_id=demo-45714&requested_amount=7.07&requested_amount_currency=USD&masked_account_number=427114******4678&email=john.doe%40{domain}&status_description_1=3d-acquirer%3AThe+resource+was+successfully+created.&provider_transaction_id_1=C818580143464876584015&last_name=Doe&authorization_code=703675&periodic_type=recurring&payment_method=creditcard&
----

.NVP Referenced-Authorization Request (Failure)
[source]
----
merchant_account_id=9105bb4f-ae68-4768-9c3b-3eda968f57ea&request_id=demo-9832&transaction_type=referenced-authorization&parent_transaction_id=39433085-15e0-11e5-87be-00163e5411b51&requested_amount_currency=USD&requested_amount=7.07&ip_address=127.0.0.1
----

.NVP Referenced-Authorization Response (Failure) 
[source,subs=attributes+]
----
api_id=elastic-api&transaction_type=referenced-authorization&completion_time_stamp=20190618173410&status_code_1=400.1020&status_severity_1=error&self=https%3A%2F%2F{test-instance-hostname}:443%2Fengine%2Frest%2Fmerchants%2Ffaa8bda7-808f-4008-b218-6c9cd6f0b385%2Fpayments%2F3a9505ea-15e0-11e5-87be-00163e5411b5&transaction_state=failed&transaction_id=3a9505ea-15e0-11e5-87be-00163e5411b5&merchant_account_id=9105bb4f-ae68-4768-9c3b-3eda968f57ea&request_id=demo-9832&requested_amount=7.07&requested_amount_currency=USD&status_description_1=The+Parent+Transaction+Id+does+not+exist.++Please+check+your+input+and+try+again.&
----

[#CreditCard_Samples_ReferencedPurchase]
===== Referenced Purchase

[#CreditCard_Samples_ReferencedPurchase_XML]
====== XML

<<CreditCard_TransactionTypes_Purchase_SendingData_ReferencingPurchaseTransactions, Referenced _purchase_ samples>>

[#CreditCard_Samples_ReferencedPurchase_NVP]
====== NVP

.NVP Referenced-Purchase Request (Successful)  
[source]
----
merchant_account_id=faa8bda7-808f-4008-b218-6c9cd6f0b385&request_id=demo-7672&transaction_type=referenced-purchase&parent_transaction_id=39eae959-15e2-11e5-87be-00163e5411b5&requested_amount_currency=USD&requested_amount=7.07&ip_address=127.0.0.1
----

.NVP Referenced-Purchase Response (Successful)  
[source,subs=attributes+]
----
 order_number=22942&api_id=elastic-api&transaction_type=referenced-purchase&completion_time_stamp=20190618174831&status_code_1=201.0000&status_severity_1=information&self=https%3A%2F%2F{test-instance-hostname}:443%2Fengine%2Frest%2Fmerchants%2Ffaa8bda7-808f-4008-b218-6c9cd6f0b385%2Fpayments%2F3b5ad305-15e2-11e5-87be-00163e5411b5&token_id=4990489254104678&transaction_state=success&transaction_id=3b5ad305-15e2-11e5-87be-00163e5411b5&first_name=John&merchant_account_id=faa8bda7-808f-4008-b218-6c9cd6f0b385&order_detail=Test+Product&request_id=demo-7672&requested_amount=7.07&requested_amount_currency=USD&masked_account_number=427114******4678&email=john.doe%40{domain}&status_description_1=3d-acquirer%3AThe+resource+was+successfully+created.&provider_transaction_id_1=C858659143464971113150&last_name=Doe&authorization_code=472252&periodic_type=recurring&payment_method=creditcard&
----

.NVP Referenced-Purchase Request (Failure) 
[source]
----
merchant_account_id=faa8bda7-808f-4008-b218-6c9cd6f0b385&request_id=demo-9132&transaction_type=referenced-purchase&parent_transaction_id=&requested_amount_currency=USD&requested_amount=7.07&ip_address=127.0.0.1
----

.NVP Referenced-Purchase Response (Failure)  
[source,subs=attributes+]
----
api_id=elastic-api&transaction_type=referenced-purchase&completion_time_stamp=20190618175001&status_code_1=400.1021&status_severity_1=error&self=https%3A%2F%2F{test-instance-hostname}:443%2Fengine%2Frest%2Fmerchants%2Ffaa8bda7-808f-4008-b218-6c9cd6f0b385%2Fpayments%2F71615edb-15e2-11e5-87be-00163e5411b5&transaction_state=failed&transaction_id=71615edb-15e2-11e5-87be-00163e5411b5&merchant_account_id=faa8bda7-808f-4008-b218-6c9cd6f0b385&request_id=demo-9132&requested_amount=7.07&requested_amount_currency=USD&status_description_1=The+Parent+Transaction+Id+is+required%2C+and+not+provided.++Please+check+your+input+and+try+again.&
----

[#CreditCard_Samples_Purchase]
===== Purchase

[#CreditCard_Samples_Purchase_XML]
====== XML

<<CreditCard_TransactionTypes_Purchase_SendingData, _purchase_ samples>>

[#CreditCard_Samples_Purchase_NVP]
====== NVP

.NVP Purchase Request (Successful)  
[source,subs=attributes+]
----
merchant_account_id=faa8bda7-808f-4008-b218-6c9cd6f0b385&request_id=demo-44142&transaction_type=purchase&requested_amount_currency=USD&requested_amount=1.00&first_name=John&last_name=Doe&email=john.doe@{domain}&phone=&address_street1=123 anystreet&address_street2=Suite 999&address_city=Toronto&address_state=ON&address_country=CA&address_postal_code=M4P1E8&account_number=4271149787014678&expiration_month=12&expiration_year=2025&card_type=visa&card_security_code=123&ip_address=127.0.0.1&order_number=34004&order_detail=Test Product&payment_method=creditcard
----

.NVP Purchase Response (Successful)  
[source,subs=attributes+]
----
order_number=34004&api_id=elastic-api&descriptor=demo+descriptor&transaction_type=purchase&completion_time_stamp=20190618171924&status_code_1=201.0000&status_severity_1=information&self=https%3A%2F%2F{test-instance-hostname}:443%2Fengine%2Frest%2Fmerchants%2Ffaa8bda7-808f-4008-b218-6c9cd6f0b385%2Fpayments%2F28fb2e71-15de-11e5-87be-00163e5411b5&token_id=4990489254104678&transaction_state=success&transaction_id=28fb2e71-15de-11e5-87be-00163e5411b5&first_name=John&merchant_account_id=faa8bda7-808f-4008-b218-6c9cd6f0b385&order_detail=Test+Product&request_id=demo-44142&requested_amount=1.00&requested_amount_currency=USD&masked_account_number=427114******4678&email=john.doe%40{domain}&status_description_1=3d-acquirer%3AThe+resource+was+successfully+created.&provider_transaction_id_1=C835675143464796269077&last_name=Doe&authorization_code=189432&payment_method=creditcard&
----

.NVP Purchase Request (Failure)  
[source,subs=attributes+]
----
merchant_account_id=faa8bda7-808f-4008-b218-6c9cd6f0b385&request_id=demo-3602&transaction_type=purchase&requested_amount_currency=&requested_amount=1.00&first_name=John&last_name=Doe&email=john.doe@{domain}&phone=&address_street1=123 anystreet&address_street2=Suite 999&address_city=Toronto&address_state=ON&address_country=CA&address_postal_code=M4P1E8&account_number=4271149787014678&expiration_month=12&expiration_year=2025&card_type=visa&card_security_code=123&ip_address=127.0.0.1&order_number=34721&order_detail=Test Product&payment_method=creditcard
----

.NVP Purchase Notification (Failure)  
[source,subs=attributes+]
----
order_number=34721&api_id=elastic-api&transaction_type=purchase&completion_time_stamp=20190618172010&status_code_1=400.1012&status_severity_1=error&self=https%3A%2F%2F{test-instance-hostname}:443%2Fengine%2Frest%2Fmerchants%2Ffaa8bda7-808f-4008-b218-6c9cd6f0b385%2Fpayments%2F45ce4abb-15de-11e5-87be-00163e5411b5&token_id=4990489254104678&transaction_state=failed&transaction_id=45ce4abb-15de-11e5-87be-00163e5411b5&first_name=John&merchant_account_id=faa8bda7-808f-4008-b218-6c9cd6f0b385&order_detail=Test+Product&request_id=demo-3602&requested_amount=1.00&masked_account_number=427114******4678&email=john.doe%40{domain}&status_description_1=The+Requested+Amount+Currency+has+not+been+provided.++Please+check+your+input+and+try+again.&last_name=Doe&payment_method=creditcard&
----

[#CreditCard_Samples_Credit]
===== Credit

[#CreditCard_Samples_Credit_XML]
====== XML

.XML Credit Request (Successful)  
[source,xml]
----
include::samples/xml/CreditCardSamplesCredit_XML_CreditRequestSuccessful.xml[]
----

.XML Credit Response (Successful)
[source,xml,subs=attributes+]
----
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<payment xmlns="http://www.elastic-payments.com/schema/payment" self="https://{test-instance-hostname}:443/engine/rest/merchants/33f6d473-3036-4ca5-acb5-8c64dac862d1/payments/2a9e56d0-15d7-11e5-87be-00163e5411b5">
  <merchant-account-id ref="https://{test-instance-hostname}:443/engine/rest/merchants/33f6d473-3036-4ca5-acb5-8c64dac862d1">33f6d473-3036-4ca5-acb5-8c64dac862d1</merchant-account-id>
  <transaction-id>2a9e56d0-15d7-11e5-87be-00163e5411b5</transaction-id>
  <request-id>${response}</request-id>
  <transaction-type>credit</transaction-type>
  <transaction-state>success</transaction-state>
  <completion-time-stamp>2019-06-18T16:29:19.000Z</completion-time-stamp>
  <statuses>
    <status code="201.0000" description="3d-acquirer:The resource was successfully created." severity="information" provider-transaction-id="C813126143464495902720"/>
  </statuses>
  <requested-amount currency="USD">1.01</requested-amount>
  <account-holder>
    <first-name>John</first-name>
    <last-name>Doe</last-name>
    <email>john.doe@test.com</email>
    <phone></phone>
    <address>
      <street1>123 anystreet</street1>
      <city>Brantford</city>
      <state>ON</state>
      <country>CA</country>
    </address>
  </account-holder>
  <card-token>
    <token-id>4990489254104678</token-id>
    <masked-account-number>427114******4678</masked-account-number>
  </card-token>
  <ip-address>127.0.0.1</ip-address>
  <descriptor>demo descriptor</descriptor>
  <payment-methods>
    <payment-method name="creditcard"/>
  </payment-methods>
  <authorization-code>361471</authorization-code>
  <api-id>elastic-api</api-id>
</payment>
----

.XML Credit Notification (Successful)  
[source,xml]
----
include::samples/xml/CreditCardSamplesCredit_XML_CreditNotificationSuccessful.xml[]
----

.XML Credit Request (Failure)
[source,xml]
----
include::samples/xml/CreditCardSamplesCredit_XML_CreditRequestFailure.xml[]
----

.XML Credit Response (Failure)  
[source,xml,subs=attributes+]
----
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<payment xmlns="http://www.elastic-payments.com/schema/payment" self="https://{test-instance-hostname}:443/engine/rest/merchants/33f6d473-3036-4ca5-acb5-8c64dac862d1/payments/bdae26bb-15d7-11e5-87be-00163e5411b5">
  <merchant-account-id ref="https://{test-instance-hostname}:443/engine/rest/merchants/33f6d473-3036-4ca5-acb5-8c64dac862d1">33f6d473-3036-4ca5-acb5-8c64dac862d1</merchant-account-id>
  <transaction-id>bdae26bb-15d7-11e5-87be-00163e5411b5</transaction-id>
  <request-id>${response}</request-id>
  <transaction-type>credit</transaction-type>
  <transaction-state>failed</transaction-state>
  <completion-time-stamp>2019-06-18T16:33:25.000Z</completion-time-stamp>
  <statuses>
    <status code="400.1004" description="The Expiration Year is invalid.  Please check your input and try again." severity="error"/>
  </statuses>
  <requested-amount currency="USD">1.01</requested-amount>
  <account-holder>
    <first-name>John</first-name>
    <last-name>Doe</last-name>
    <email>john.doe@test.com</email>
    <phone></phone>
    <address>
      <street1>123 anystreet</street1>
      <city>Brantford</city>
      <state>ON</state>
      <country>CA</country>
    </address>
  </account-holder>
  <card-token>
    <token-id>4990489254104678</token-id>
    <masked-account-number>427114******4678</masked-account-number>
  </card-token>
  <ip-address>127.0.0.1</ip-address>
  <payment-methods>
    <payment-method name="creditcard"/>
  </payment-methods>
  <api-id>elastic-api</api-id>
</payment>
----

.XML Credit Notification (Failure) 
[source,xml]
----
include::samples/xml/CreditCardSamplesCredit_XML_CreditNotificationFailure.xml[]
----

[#CreditCard_Samples_Credit_NVP]
====== NVP

.NVP Credit Request (Successful)  
[source,subs=attributes+]
----
merchant_account_id=33f6d473-3036-4ca5-acb5-8c64dac862d1&request_id=demo-4018&transaction_type=credit&requested_amount_currency=USD&requested_amount=1.01&first_name=John&last_name=Doe&email=john.doe@{domain}&phone=&address_street1=123 anystreet&address_street2=Suite 999&address_city=Toronto&address_state=ON&address_country=CA&address_postal_code=M4P1E8&account_number=4271149787014678&expiration_month=12&expiration_year=2025&card_type=visa&card_security_code=123&ip_address=127.0.0.1&order_number=41777&order_detail=Test Product&payment_method=creditcard
----

.NVP Credit Response (Successful) 
[source,subs=attributes+]
----
order_number=41777&api_id=elastic-api&descriptor=demo+descriptor&transaction_type=credit&completion_time_stamp=20190618163156&status_code_1=201.0000&status_severity_1=information&self=https%3A%2F%2F{test-instance-hostname}:443%2Fengine%2Frest%2Fmerchants%2Ffaa8bda7-808f-4008-b218-6c9cd6f0b385%2Fpayments%2F888904ef-15d7-11e5-87be-00163e5411b5&token_id=4990489254104678&transaction_state=success&transaction_id=888904ef-15d7-11e5-87be-00163e5411b5&first_name=John&merchant_account_id=33f6d473-3036-4ca5-acb5-8c64dac862d1&order_detail=Test+Product&request_id=demo-4018&requested_amount=1.01&requested_amount_currency=USD&masked_account_number=427114******4678&email=john.doe%40{domain}&status_description_1=3d-acquirer%3AThe+resource+was+successfully+created.&provider_transaction_id_1=C889405143464511640830&last_name=Doe&authorization_code=149579&payment_method=creditcard&
----

.NVP Credit Request (Failure)  
[source,subs=attributes+]
----
merchant_account_id=33f6d473-3036-4ca5-acb5-8c64dac862d1&request_id=demo-3495&transaction_type=credit&requested_amount_currency=USD&requested_amount=1.01&first_name=John&last_name=Doe&email=john.doe@{domain}&phone=&address_street1=123 anystreet&address_street2=Suite 999&address_city=Toronto&address_state=ON&address_country=CA&address_postal_code=M4P1E8&account_number=4271149787014678&expiration_month=02&expiration_year=2015&card_type=visa&card_security_code=123&ip_address=127.0.0.1&order_number=45012&order_detail=Test Product&payment_method=creditcard
----

.NVP Credit Response (Failure)  
[source,subs=attributes+]
----
order_number=45012&api_id=elastic-api&transaction_type=credit&completion_time_stamp=20190618163523&status_code_1=400.1003&status_severity_1=error&self=https%3A%2F%2F{test-instance-hostname}:443%2Fengine%2Frest%2Fmerchants%2Ffaa8bda7-808f-4008-b218-6c9cd6f0b385%2Fpayments%2F0432020a-15d8-11e5-87be-00163e5411b5&token_id=4990489254104678&transaction_state=failed&transaction_id=0432020a-15d8-11e5-87be-00163e5411b5&first_name=John&merchant_account_id=33f6d473-3036-4ca5-acb5-8c64dac862d1&order_detail=Test+Product&request_id=demo-3495&requested_amount=1.01&requested_amount_currency=USD&masked_account_number=427114******4678&email=john.doe%40{domain}&status_description_1=The+Expiration+Month+is+invalid.++Please+check+your+input+and+try+again.&last_name=Doe&payment_method=creditcard&
----

[#CreditCard_Samples_OriginalCredit]
===== Original Credit

[#CreditCard_Samples_OriginalCredit_XML]
====== XML

.XML Original Credit Request (Successful)  
[source,xml]
----
include::samples/xml/CreditCardSamplesOriginalCredit_XML_OriginalCreditRequestSuccessful.xml[]
----

.XML Original Credit Response (Successful)  
[source,xml,subs=attributes+]
----
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<payment xmlns="http://www.elastic-payments.com/schema/payment" self="https://{test-instance-hostname}:443/engine/rest/merchants/9cf2d63d-9a78-47d3-8949-97e83661c9d0/payments/f678e156-15fb-11e5-87be-00163e5411b5">
  <merchant-account-id ref="https://{test-instance-hostname}:443/engine/rest/merchants/9cf2d63d-9a78-47d3-8949-97e83661c9d0">9cf2d63d-9a78-47d3-8949-97e83661c9d0</merchant-account-id>
  <transaction-id>f678e156-15fb-11e5-87be-00163e5411b5</transaction-id>
  <request-id>${response}</request-id>
  <transaction-type>original-credit</transaction-type>
  <transaction-state>success</transaction-state>
  <completion-time-stamp>2019-06-18T20:52:42.000Z</completion-time-stamp>
  <statuses>
    <status code="201.0000" description="3d-acquirer:The resource was successfully created." severity="information"/>
  </statuses>
  <requested-amount currency="USD">1.01</requested-amount>
  <account-holder>
    <first-name>John</first-name>
    <last-name>Doe</last-name>
    <email>john.doe@test.com</email>
    <phone></phone>
    <address>
      <street1>123 anystreet</street1>
      <city>Brantford</city>
      <state>ON</state>
      <country>CA</country>
      <postal-code>M4P1E8</postal-code>
    </address>
  </account-holder>
  <card-token>
    <token-id>4500619497300080</token-id>
    <masked-account-number>455637******0080</masked-account-number>
  </card-token>
  <ip-address>127.0.0.1</ip-address>
  <order-number>13983</order-number>
  <order-detail>Test Product</order-detail>
  <descriptor></descriptor>
  <payment-methods>
    <payment-method name="creditcard"/>
  </payment-methods>
  <authorization-code>153620</authorization-code>
  <api-id>elastic-api</api-id>
</payment>
----

.XML Original Credit Notification (Successful)  
[source,xml]
----
include::samples/xml/CreditCardSamplesOriginalCredit_XML_OriginalCreditNotificationSuccessful.xml[]
----

.XML Original Credit Request (Failure)  
[source,xml]
----
include::samples/xml/CreditCardSamplesOriginalCredit_XML_OriginalCreditRequestFailure.xml[]
----

.XML Original Credit Response (Failure) 
[source,xml,subs=attributes+]
----
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<payment xmlns="http://www.elastic-payments.com/schema/payment" self="https://{test-instance-hostname}:443/engine/rest/merchants/9cf2d63d-9a78-47d3-8949-97e83661c9d0/payments/8e392924-15fc-11e5-87be-00163e5411b5">
  <merchant-account-id ref="https://{test-instance-hostname}:443/engine/rest/merchants/9cf2d63d-9a78-47d3-8949-97e83661c9d0">9cf2d63d-9a78-47d3-8949-97e83661c9d0</merchant-account-id>
  <transaction-id>8e392924-15fc-11e5-87be-00163e5411b5</transaction-id>
  <request-id>${response}</request-id>
  <transaction-type>original-credit</transaction-type>
  <transaction-state>failed</transaction-state>
  <completion-time-stamp>2019-06-18T20:56:56.000Z</completion-time-stamp>
  <statuses>
    <status code="400.1004" description="The Expiration Year is invalid.  Please check your input and try again." severity="error"/>
  </statuses>
  <requested-amount currency="USD">1.01</requested-amount>
  <account-holder>
    <first-name>John</first-name>
    <last-name>Doe</last-name>
    <email>john.doe@test.com</email>
    <phone></phone>
    <address>
      <street1>123 anystreet</street1>
      <city>Brantford</city>
      <state>ON</state>
      <country>CA</country>
      <postal-code>M4P1E8</postal-code>
    </address>
  </account-holder>
  <card-token>
    <token-id>4500619497300080</token-id>
    <masked-account-number>455637******0080</masked-account-number>
  </card-token>
  <ip-address>127.0.0.1</ip-address>
  <order-number>5857</order-number>
  <order-detail>Test Product</order-detail>
  <payment-methods>
    <payment-method name="creditcard"/>
  </payment-methods>
  <api-id>elastic-api</api-id>
</payment>
----

.XML Original Credit Notification (Failure)  
[source,xml]
----
include::samples/xml/CreditCardSamplesOriginalCredit_XML_OriginalCreditNotificationFailure.xml[]
----

[#CreditCard_Samples_OriginalCredit_NVP]
====== NVP

.NVP Original Credit Request (Successful)  
[source,subs=attributes+]
----
merchant_account_id=9cf2d63d-9a78-47d3-8949-97e83661c9d0&request_id=demo-47613&transaction_type=original-credit&requested_amount_currency=USD&requested_amount=1.00&first_name=John&last_name=Doe&email=john.doe@{domain}&phone=&address_street1=123 anystreet&address_street2=Suite 999&address_city=Toronto&address_state=ON&address_country=CA&address_postal_code=M4P1E8&account_number=4271149787014678&expiration_month=12&expiration_year=2025&card_type=visa&card_security_code=123&ip_address=127.0.0.1&order_number=15650&order_detail=Test Product&payment_method=creditcard
----

.NVP Original Credit Response (Successful)  
[source,subs=attributes+]
----
order_number=15650&api_id=elastic-api&transaction_type=original-credit&completion_time_stamp=20190618205824&status_code_1=201.0000&status_severity_1=information&self=https%3A%2F%2F{test-instance-hostname}:443%2Fengine%2Frest%2Fmerchants%2F9cf2d63d-9a78-47d3-8949-97e83661c9d0%2Fpayments%2Fc2bbb12c-15fc-11e5-87be-00163e5411b5&token_id=4990489254104678&transaction_state=success&transaction_id=c2bbb12c-15fc-11e5-87be-00163e5411b5&first_name=John&merchant_account_id=9cf2d63d-9a78-47d3-8949-97e83661c9d0&order_detail=Test+Product&request_id=demo-47613&requested_amount=1.00&requested_amount_currency=USD&masked_account_number=427114******4678&email=john.doe%40{domain}&status_description_1=3d-acquirer%3AThe+resource+was+successfully+created.&last_name=Doe&authorization_code=153620&payment_method=creditcard&
----

.NVP Original Credit Request (Failure)  
[source,subs=attributes+]
----
merchant_account_id=9cf2d63d-9a78-47d3-8949-97e83661c9d0&request_id=demo-34148&transaction_type=original-credit&requested_amount_currency=USD&requested_amount=1.00&first_name=John&last_name=Doe&email=john.doe@{domain}&phone=&address_street1=123 anystreet&address_street2=Suite 999&address_city=Toronto&address_state=ON&address_country=CA&address_postal_code=M4P1E8&account_number=4271149787014678&expiration_month=12&expiration_year=2012&card_type=visa&card_security_code=123&ip_address=127.0.0.1&order_number=26600&order_detail=Test Product&payment_method=creditcard
----

.NVP Original Credit Response (Failure)  
[source,subs=attributes+]
----
order_number=26600&api_id=elastic-api&transaction_type=original-credit&completion_time_stamp=20190618210004&status_code_1=400.1004&status_severity_1=error&self=https%3A%2F%2F{test-instance-hostname}:443%2Fengine%2Frest%2Fmerchants%2F9cf2d63d-9a78-47d3-8949-97e83661c9d0%2Fpayments%2Ffe3eaaa5-15fc-11e5-87be-00163e5411b5&token_id=4990489254104678&transaction_state=failed&transaction_id=fe3eaaa5-15fc-11e5-87be-00163e5411b5&first_name=John&merchant_account_id=9cf2d63d-9a78-47d3-8949-97e83661c9d0&order_detail=Test+Product&request_id=demo-34148&requested_amount=1.00&requested_amount_currency=USD&masked_account_number=427114******4678&email=john.doe%40{domain}&status_description_1=The+Expiration+Year+is+invalid.++Please+check+your+input+and+try+again.&last_name=Doe&payment_method=creditcard&
----

[#CreditCard_Samples_RefundCapture]
===== Refund Capture

[#CreditCard_Samples_RefundCapture_XML]
====== XML

<<CreditCard_TransactionTypes_CaptureAuthorization_SendingData_RefundCapture, _refund-capture_ samples>>

[#CreditCard_Samples_RefundCapture_NVP]
====== NVP

.NVP Refund Capture Request (Successful)  
[source]
----
merchant_account_id=9105bb4f-ae68-4768-9c3b-3eda968f57ea&request_id=demo-1757&transaction_type=refund-capture&parent_transaction_id=64a827c6-15e3-11e5-87be-00163e5411b5&ip_address=127.0.0.1
----

.NVP Refund Capture Response (Successful)  
[source,subs=attributes+]
----
order_number=12031&api_id=elastic-api&transaction_type=refund-capture&completion_time_stamp=20190618175657&status_code_1=201.0000&status_severity_1=information&self=https%3A%2F%2F{test-instance-hostname}:443%2Fengine%2Frest%2Fmerchants%2Ffaa8bda7-808f-4008-b218-6c9cd6f0b385%2Fpayments%2F6760dea2-15e3-11e5-87be-00163e5411b5&token_id=4981966848653502&transaction_state=success&transaction_id=6760dea2-15e3-11e5-87be-00163e5411b5&first_name=John&merchant_account_id=9105bb4f-ae68-4768-9c3b-3eda968f57ea&order_detail=Test+Product&request_id=demo-1757&requested_amount=1.01&requested_amount_currency=USD&masked_account_number=402400******3502&email=john.doe%40{domain}&status_description_1=3d-acquirer%3AThe+resource+was+successfully+created.&provider_transaction_id_1=C829684143465021443125&last_name=Doe&authorization_code=947315&payment_method=creditcard&
----

.NVP Refund Capture Request (Failure)  
[source]
----
merchant_account_id=9105bb4f-ae68-4768-9c3b-3eda968f57ea&request_id=demo-42818&transaction_type=refund-capture&parent_transaction_id=92e8d1dc-15e3-11e5-87be-00163e5411b52&ip_address=127.0.0.1
----

.NVP Refund Capture Response (Failure) 
[source,subs=attributes+]
----
api_id=elastic-api&merchant_account_id=9105bb4f-ae68-4768-9c3b-3eda968f57ea&request_id=demo-42818&status_description_1=The+Parent+Transaction+Id+does+not+exist.++Please+check+your+input+and+try+again.&transaction_type=refund-capture&status_severity_1=error&status_code_1=400.1020&completion_time_stamp=20190618175809&self=https%3A%2F%2F{test-instance-hostname}:443%2Fengine%2Frest%2Fmerchants%2Ffaa8bda7-808f-4008-b218-6c9cd6f0b385%2Fpayments%2F945c7c04-15e3-11e5-87be-00163e5411b5&transaction_state=failed&transaction_id=945c7c04-15e3-11e5-87be-00163e5411b5&
----

[#CreditCard_Samples_RefundPurchase]
===== Refund Purchase

[#CreditCard_Samples_RefundPurchase_XML]
====== XML

<<CreditCard_TransactionTypes_Purchase_SendingData_RefundPurchase, _refund-purchase_ samples>>

[#CreditCard_Samples_RefundPurchase_NVP]
====== NVP

.NVP Refund Purchase Request (Successful)  
[source]
----
merchant_account_id=9105bb4f-ae68-4768-9c3b-3eda968f57ea&request_id=demo-43221&transaction_type=refund-purchase&parent_transaction_id=1d669cb4-15e6-11e5-87be-00163e5411b5&payment_ip_address=127.0.0.1
----

.NVP Refund Purchase Response (Successful)  
[source,subs=attributes+]
----
order_number=1766&api_id=elastic-api&transaction_type=refund-purchase&completion_time_stamp=20190618181622&status_code_1=201.0000&status_severity_1=information&self=https%3A%2F%2F{test-instance-hostname}:443%2Fengine%2Frest%2Fmerchants%2Ffaa8bda7-808f-4008-b218-6c9cd6f0b385%2Fpayments%2F1f51c7ba-15e6-11e5-87be-00163e5411b5&token_id=4990489254104678&transaction_state=success&transaction_id=1f51c7ba-15e6-11e5-87be-00163e5411b5&first_name=John&merchant_account_id=9105bb4f-ae68-4768-9c3b-3eda968f57ea&order_detail=Test+Product&request_id=demo-43221&requested_amount=1.00&requested_amount_currency=USD&masked_account_number=427114******4678&email=john.doe%40{domain}&status_description_1=3d-acquirer%3AThe+resource+was+successfully+created.&provider_transaction_id_1=C884821143465138227789&last_name=Doe&authorization_code=509813&payment_method=creditcard&
----

.NVP Refund Purchase Request (Failure)  
[source]
----
merchant_account_id=9105bb4f-ae68-4768-9c3b-3eda968f57ea&request_id=demo-28439&transaction_type=refund-purchase&parent_transaction_id=d5566a93-15e5-11e5-87be-00163e5411b5&requested_amount_currency=USD&requested_amount=7.07&payment_ip_address=127.0.0.1
----

.NVP Refund Purchase Response (Failure)  
[source,subs=attributes+]
----
order_number=49641&api_id=elastic-api&transaction_type=refund-purchase&completion_time_stamp=20190618181419&status_code_1=400.1027&status_severity_1=error&self=https%3A%2F%2F{test-instance-hostname}:443%2Fengine%2Frest%2Fmerchants%2Ffaa8bda7-808f-4008-b218-6c9cd6f0b385%2Fpayments%2Fd689d373-15e5-11e5-87be-00163e5411b5&token_id=4990489254104678&transaction_state=failed&transaction_id=d689d373-15e5-11e5-87be-00163e5411b5&first_name=John&merchant_account_id=9105bb4f-ae68-4768-9c3b-3eda968f57ea&order_detail=Test+Product&request_id=demo-28439&requested_amount=7.07&requested_amount_currency=USD&masked_account_number=427114******4678&email=john.doe%40{domain}&status_description_1=The+Requested+Amount+exceeds+the+Parent+Transaction+Amount.++Please+check+your+input+and+try+again.&last_name=Doe&payment_method=creditcard&
----

[#CreditCard_Samples_VoidAuthorization]
===== Void Authorization

[#CreditCard_Samples_VoidAuthorization_XML]
====== XML

<<CreditCard_TransactionTypes_Authorization_SendingData_VoidAuthorization, _void-authorization_ samples>>

[#CreditCard_Samples_VoidAuthorization_NVP]
====== NVP

.NVP Void Authorization Request (Successful)  
[source]
----
merchant_account_id=9105bb4f-ae68-4768-9c3b-3eda968f57ea&request_id=demo-8707&transaction_type=void-authorization&parent_transaction_id=a33c4b21-15e8-11e5-87be-00163e5411b5&ip_address=127.0.0.1
----

.NVP Void Authorization Response (Successful)  
[source,subs=attributes+]
----
order_number=13823&api_id=elastic-api&transaction_type=void-authorization&completion_time_stamp=20190618183425&status_code_1=201.0000&status_severity_1=information&self=https%3A%2F%2F{test-instance-hostname}:443%2Fengine%2Frest%2Fmerchants%2Ffaa8bda7-808f-4008-b218-6c9cd6f0b385%2Fpayments%2Fa4645826-15e8-11e5-87be-00163e5411b5&token_id=4990489254104678&transaction_state=success&transaction_id=a4645826-15e8-11e5-87be-00163e5411b5&first_name=John&merchant_account_id=9105bb4f-ae68-4768-9c3b-3eda968f57ea&order_detail=Test+Product&request_id=demo-8707&requested_amount=1.00&requested_amount_currency=USD&masked_account_number=427114******4678&email=john.doe%40{domain}&status_description_1=3d-acquirer%3AThe+resource+was+successfully+created.&provider_transaction_id_1=C837603143465246465595&last_name=Doe&authorization_code=872895&payment_method=creditcard&
----

.NVP Void Authorization Request (Failure)  
[source]
----
merchant_account_id=9105bb4f-ae68-4768-9c3b-3eda968f57ea&request_id=demo-39943&transaction_type=void-authorization&parent_transaction_id=79ee10fb-15e8-11e5-87be-00163e5411b5&requested_amount_currency=USD&requested_amount=7.07&ip_address=127.0.0.1
----

.NVP Void Authorization Response (Failure)  
[source,subs=attributes+]
----
order_number=46750&api_id=elastic-api&transaction_type=void-authorization&completion_time_stamp=20190618183314&status_code_1=400.1027&status_severity_1=error&self=https%3A%2F%2F{test-instance-hostname}:443%2Fengine%2Frest%2Fmerchants%2Ffaa8bda7-808f-4008-b218-6c9cd6f0b385%2Fpayments%2F7b0fd3c2-15e8-11e5-87be-00163e5411b5&token_id=4990489254104678&transaction_state=failed&transaction_id=7b0fd3c2-15e8-11e5-87be-00163e5411b5&first_name=John&merchant_account_id=9105bb4f-ae68-4768-9c3b-3eda968f57ea&order_detail=Test+Product&request_id=demo-39943&requested_amount=7.07&requested_amount_currency=USD&masked_account_number=427114******4678&email=john.doe%40{domain}&status_description_1=The+Requested+Amount+exceeds+the+Parent+Transaction+Amount.++Please+check+your+input+and+try+again.&last_name=Doe&payment_method=creditcard&
----

[#CreditCard_Samples_VoidAuthorizationSupplementary]
===== Void Authorization Supplementary

[#CreditCard_Samples_VoidAuthorizationSupplementary_XML]
====== XML

.XML Void Authorization Supplementary Request (Successful)
[source,xml]
----
include::samples/xml/CreditCardSamplesVoidAuthorizationSupplementary_XML_VoidAuthorizationSupplementaryRequestSuccessful.xml[]
----

.XML Void Authorization Supplementary Response (Successful)
[source,xml,subs=attributes+]
----
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<payment xmlns="http://www.elastic-payments.com/schema/payment" self="https://{test-instance-hostname}:443/engine/rest/merchants/9cf2d63d-9a78-47d3-8949-97e83661c9d0/payments/17014744-15e7-11e5-87be-00163e5411b5">
  <merchant-account-id ref="https://{test-instance-hostname}:443/engine/rest/merchants/9cf2d63d-9a78-47d3-8949-97e83661c9d0">9cf2d63d-9a78-47d3-8949-97e83661c9d0</merchant-account-id>
  <transaction-id>17014744-15e7-11e5-87be-00163e5411b5</transaction-id>
  <request-id>e6141513-0123-4d5e-bf80-e3b63b36cebb</request-id>
  <transaction-type>void-auth-supplementary</transaction-type>
  <transaction-state>success</transaction-state>
  <completion-time-stamp>2019-06-18T18:23:18.000Z</completion-time-stamp>
  <statuses>
    <status code="201.0000" description="3d-acquirer:The resource was successfully created." severity="information"/>
  </statuses>
  <requested-amount currency="USD">2.01</requested-amount>
  <account-holder>
    <first-name>John</first-name>
    <last-name>Doe</last-name>
    <email>john.doe@test.com</email>
    <phone></phone>
    <address>
      <street1>123 anystreet</street1>
      <city>Brantford</city>
      <state>ON</state>
      <country>CA</country>
    </address>
  </account-holder>
  <card-token>
    <token-id>4634770387971111</token-id>
    <masked-account-number>444433******1111</masked-account-number>
  </card-token>
  <ip-address>127.0.0.1</ip-address>
  <payment-methods>
    <payment-method name="creditcard"/>
  </payment-methods>
  <authorization-code>893514</authorization-code>
  <api-id>elastic-api</api-id>
</payment>
----

.XML Void Authorization Supplementary Notification (Successful)
[source,xml]
----
include::samples/xml/CreditCardSamplesVoidAuthorizationSupplementary_XML_VoidAuthorizationSupplementaryNotificationSuccessful.xml[]
----

.XML Void Authorization Supplementary Request (Failure) 
[source,xml]
----
include::samples/xml/CreditCardSamplesVoidAuthorizationSupplementary_XML_VoidAuthorizationSupplementaryRequestFailure.xml[]
----

.XML Void Authorization Supplementary Response (Failure)  
[source,xml,subs=attributes+]
----
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<payment xmlns="http://www.elastic-payments.com/schema/payment" self="https://{test-instance-hostname}:443/engine/rest/merchants/9cf2d63d-9a78-47d3-8949-97e83661c9d0/payments/a5581683-15f3-11e5-87be-00163e5411b5">
  <merchant-account-id ref="https://{test-instance-hostname}:443/engine/rest/merchants/9cf2d63d-9a78-47d3-8949-97e83661c9d0">9cf2d63d-9a78-47d3-8949-97e83661c9d0</merchant-account-id>
  <transaction-id>a5581683-15f3-11e5-87be-00163e5411b5</transaction-id>
  <request-id>demo-45651</request-id>
  <transaction-type>void-auth-supplementary</transaction-type>
  <transaction-state>failed</transaction-state>
  <completion-time-stamp>2019-06-18T19:53:10.000Z</completion-time-stamp>
  <statuses>
    <status code="400.1027" description="The Requested Amount exceeds the Parent Transaction Amount.  Please check your input and try again." severity="error"/>
  </statuses>
  <requested-amount currency="USD">5.00</requested-amount>
  <account-holder>
    <first-name>John</first-name>
    <last-name>Doe</last-name>
    <email>john.doe@test.com</email>
    <phone></phone>
    <address>
      <street1>123 anystreet</street1>
      <city>Brantford</city>
      <state>ON</state>
      <country>CA</country>
      <postal-code>M4P1E8</postal-code>
    </address>
  </account-holder>
  <card-token>
    <token-id>4500619497300080</token-id>
    <masked-account-number>455637******0080</masked-account-number>
  </card-token>
  <ip-address>127.0.0.1</ip-address>
  <order-number>7184</order-number>
  <order-detail>Test Product</order-detail>
  <payment-methods>
    <payment-method name="creditcard"/>
  </payment-methods>
  <api-id>elastic-api</api-id>
</payment>
----

.XML Void Authorization Supplementary Notification (Failure)
[source,xml]
----
include::samples/xml/CreditCardSamplesVoidAuthorizationSupplementary_XML_VoidAuthorizationSupplementaryNotificationFailure.xml[]
----

[#CreditCard_Samples_VoidAuthorizationSupplementary_NVP]
====== NVP

.NVP Void Authorization Supplementary Request (Successful)
[source]
----
merchant_account_id=9cf2d63d-9a78-47d3-8949-97e83661c9d0&request_id=demo-22563&transaction_type=void-auth-supplementary&parent_transaction_id=246e1248-15f4-11e5-87be-00163e5411b5&ip_address=127.0.0.1
----

.NVP Void Authorization Supplementary Response (Successful)
[source,subs=attributes+]
----
order_number=3491&api_id=elastic-api&transaction_type=void-auth-supplementary&completion_time_stamp=20190618195645&status_code_1=201.0000&status_severity_1=information&self=https%3A%2F%2F{test-instance-hostname}:443%2Fengine%2Frest%2Fmerchants%2F9cf2d63d-9a78-47d3-8949-97e83661c9d0%2Fpayments%2F2565c000-15f4-11e5-87be-00163e5411b5&token_id=4981966848653502&transaction_state=success&transaction_id=2565c000-15f4-11e5-87be-00163e5411b5&first_name=John&merchant_account_id=9cf2d63d-9a78-47d3-8949-97e83661c9d0&order_detail=Test+Product&request_id=demo-22563&requested_amount=1.01&requested_amount_currency=USD&masked_account_number=402400******3502&email=john.doe%40{domain}&status_description_1=3d-acquirer%3AThe+resource+was+successfully+created.&last_name=Doe&authorization_code=546118&payment_method=creditcard&
----

.NVP Void Authorization Supplementary Request (Failure)  
[source]
----
merchant_account_id=9cf2d63d-9a78-47d3-8949-97e83661c9d0&request_id=demo-27667&transaction_type=void-auth-supplementary&requested_amount_currency=USD&requested_amount=2.01&parent_transaction_id=038cfc25-15f4-11e5-87be-00163e5411b5&ip_address=127.0.0.1
----

.NVP Void Authorization Supplementary Response (Failure)  
[source,subs=attributes+]
----
order_number=5218&api_id=elastic-api&transaction_type=void-auth-supplementary&completion_time_stamp=20190618195549&status_code_1=400.1027&status_severity_1=error&self=https%3A%2F%2F{test-instance-hostname}:443%2Fengine%2Frest%2Fmerchants%2F9cf2d63d-9a78-47d3-8949-97e83661c9d0%2Fpayments%2F048fb4ae-15f4-11e5-87be-00163e5411b5&token_id=4981966848653502&transaction_state=failed&transaction_id=048fb4ae-15f4-11e5-87be-00163e5411b5&first_name=John&merchant_account_id=9cf2d63d-9a78-47d3-8949-97e83661c9d0&order_detail=Test+Product&request_id=demo-27667&requested_amount=2.01&requested_amount_currency=USD&masked_account_number=402400******3502&email=john.doe%40{domain}&status_description_1=The+Requested+Amount+exceeds+the+Parent+Transaction+Amount.++Please+check+your+input+and+try+again.&last_name=Doe&payment_method=creditcard&
----

[#CreditCard_Samples_VoidCapture]
===== Void Capture

[#CreditCard_Samples_VoidCapture_XML]
====== XML

<<CreditCard_TransactionTypes_CaptureAuthorization_SendingData_VoidCapture, _void-capture_ samples>>

[#CreditCard_Samples_VoidCapture_NVP]
====== NVP

.NVP Void Capture Request (Successful)  
[source]
----
merchant_account_id=faa8bda7-808f-4008-b218-6c9cd6f0b385&request_id=demo-20379&transaction_type=void-capture&parent_transaction_id=bb7c7ad1-15e9-11e5-87be-00163e5411b5&ip_address=127.0.0.1
----

.NVP Void Capture Response (Successful)  
[source,subs=attributes+]
----
order_number=27453&api_id=elastic-api&transaction_type=void-capture&completion_time_stamp=20190618184214&status_code_1=201.0000&status_severity_1=information&self=https%3A%2F%2F{test-instance-hostname}:443%2Fengine%2Frest%2Fmerchants%2Ffaa8bda7-808f-4008-b218-6c9cd6f0b385%2Fpayments%2Fbcaa3520-15e9-11e5-87be-00163e5411b5&token_id=4981966848653502&transaction_state=success&transaction_id=bcaa3520-15e9-11e5-87be-00163e5411b5&first_name=John&merchant_account_id=faa8bda7-808f-4008-b218-6c9cd6f0b385&order_detail=Test+Product&request_id=demo-20379&requested_amount=1.01&requested_amount_currency=USD&masked_account_number=402400******3502&email=john.doe%40{domain}&status_description_1=3d-acquirer%3AThe+resource+was+successfully+created.&provider_transaction_id_1=C818025143465293449405&last_name=Doe&authorization_code=628886&payment_method=creditcard&
----

.NVP Void Capture Request (Failure)
[source]
----
merchant_account_id=faa8bda7-808f-4008-b218-6c9cd6f0b385&request_id=demo-38411&transaction_type=void-capture&parent_transaction_id=8fa610c6-15e9-11e5-87be-00163e5411b52&ip_address=127.0.0.1
----

.NVP Void Capture Response (Failure)  
[source,subs=attributes+]
----
api_id=elastic-api&merchant_account_id=faa8bda7-808f-4008-b218-6c9cd6f0b385&request_id=demo-38411&status_description_1=The+Parent+Transaction+Id+does+not+exist.++Please+check+your+input+and+try+again.&transaction_type=void-capture&status_severity_1=error&status_code_1=400.1020&completion_time_stamp=20190618184100&self=https%3A%2F%2F{test-instance-hostname}:443%2Fengine%2Frest%2Fmerchants%2Ffaa8bda7-808f-4008-b218-6c9cd6f0b385%2Fpayments%2F90c731f5-15e9-11e5-87be-00163e5411b5&transaction_state=failed&transaction_id=90c731f5-15e9-11e5-87be-00163e5411b5&
----

[#CreditCard_Samples_VoidCredit]
===== Void Credit

[#CreditCard_Samples_VoidCredit_XML]
====== XML

.XML Void Credit Request (Successful) 
[source,xml]
----
include::samples/xml/CreditCardSamplesVoidCredit_XML_VoidCreditRequestSuccessful.xml[]
----

.XML Void Credit Response (Successful)  
[source,xml,subs=attributes+]
----
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<payment xmlns="http://www.elastic-payments.com/schema/payment" self="https://{test-instance-hostname}:443/engine/rest/merchants/faa8bda7-808f-4008-b218-6c9cd6f0b385/payments/ef93fe4f-15e9-11e5-87be-00163e5411b5">
  <merchant-account-id ref="https://{test-instance-hostname}:443/engine/rest/merchants/faa8bda7-808f-4008-b218-6c9cd6f0b385">faa8bda7-808f-4008-b218-6c9cd6f0b385</merchant-account-id>
  <transaction-id>ef93fe4f-15e9-11e5-87be-00163e5411b5</transaction-id>
  <request-id>demo-9145</request-id>
  <transaction-type>void-credit</transaction-type>
  <transaction-state>success</transaction-state>
  <completion-time-stamp>2019-06-18T18:43:40.000Z</completion-time-stamp>
  <statuses>
    <status code="201.0000" description="3d-acquirer:The resource was successfully created." severity="information" provider-transaction-id="C884154143465302018698"/>
  </statuses>
  <requested-amount currency="USD">1.01</requested-amount>
  <account-holder>
    <first-name>John</first-name>
    <last-name>Doe</last-name>
    <email>john.doe@test.com</email>
    <phone></phone>
    <address>
      <street1>123 anystreet</street1>
      <city>Brantford</city>
      <state>ON</state>
      <country>CA</country>
      <postal-code>M4P1E8</postal-code>
    </address>
  </account-holder>
  <card-token>
    <token-id>4119529611183494</token-id>
    <masked-account-number>414720******3494</masked-account-number>
  </card-token>
  <ip-address>127.0.0.1</ip-address>
  <order-number>29367</order-number>
  <order-detail>Test Product</order-detail>
  <payment-methods>
    <payment-method name="creditcard"/>
  </payment-methods>
  <authorization-code>310355</authorization-code>
  <api-id>elastic-api</api-id>
</payment>
----

.XML Void Credit Notification (Successful)  
[source,xml]
----
include::samples/xml/CreditCardSamplesVoidCredit_XML_VoidCreditNotificationSuccessful.xml[]
----

.XML Void Credit Request (Failure) 
[source,xml]
----
include::samples/xml/CreditCardSamplesVoidCredit_XML_VoidCreditRequestFailure.xml[]
----

.XML Void Credit Response (Failure)  
[source,xml,subs=attributes+]
----
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<payment xmlns="http://www.elastic-payments.com/schema/payment" self="https://{test-instance-hostname}:443/engine/rest/merchants/faa8bda7-808f-4008-b218-6c9cd6f0b385/payments/24a511d1-15ea-11e5-87be-00163e5411b5">
  <merchant-account-id ref="https://{test-instance-hostname}:443/engine/rest/merchants/faa8bda7-808f-4008-b218-6c9cd6f0b385">faa8bda7-808f-4008-b218-6c9cd6f0b385</merchant-account-id>
  <transaction-id>24a511d1-15ea-11e5-87be-00163e5411b5</transaction-id>
  <request-id>demo-24924</request-id>
  <transaction-type>void-credit</transaction-type>
  <transaction-state>failed</transaction-state>
  <completion-time-stamp>2019-06-18T18:45:08.000Z</completion-time-stamp>
  <statuses>
    <status code="400.1027" description="The Requested Amount exceeds the Parent Transaction Amount.  Please check your input and try again." severity="error"/>
  </statuses>
  <requested-amount currency="USD">2.50</requested-amount>
  <account-holder>
    <first-name>John</first-name>
    <last-name>Doe</last-name>
    <email>john.doe@test.com</email>
    <phone></phone>
    <address>
      <street1>123 anystreet</street1>
      <city>Brantford</city>
      <state>ON</state>
      <country>CA</country>
      <postal-code>M4P1E8</postal-code>
    </address>
  </account-holder>
  <card-token>
    <token-id>4119529611183494</token-id>
    <masked-account-number>414720******3494</masked-account-number>
  </card-token>
  <ip-address>127.0.0.1</ip-address>
  <order-number>11190</order-number>
  <order-detail>Test Product</order-detail>
  <payment-methods>
    <payment-method name="creditcard"/>
  </payment-methods>
  <api-id>elastic-api</api-id>
</payment>
----

.XML Void Credit Notification (Failure) 
[source,xml]
----
include::samples/xml/CreditCardSamplesVoidCredit_XML_VoidCreditNotificationFailure.xml[]
----

[#CreditCard_Samples_VoidCredit_NVP]
====== NVP

.NVP Void Credit Request (Successful)  
[source]
----
merchant_account_id=faa8bda7-808f-4008-b218-6c9cd6f0b385&request_id=demo-20232&transaction_type=void-credit&parent_transaction_id=5688b4d9-15ea-11e5-87be-00163e5411b5&ip_address=127.0.0.1
----

.NVP Void Credit Response (Successful)
[source,subs=attributes+]
----
order_number=6423&api_id=elastic-api&transaction_type=void-credit&completion_time_stamp=20190618184635&status_code_1=201.0000&status_severity_1=information&self=https%3A%2F%2F{test-instance-hostname}:443%2Fengine%2Frest%2Fmerchants%2Ffaa8bda7-808f-4008-b218-6c9cd6f0b385%2Fpayments%2F57a0d3a6-15ea-11e5-87be-00163e5411b5&token_id=4990489254104678&transaction_state=success&transaction_id=57a0d3a6-15ea-11e5-87be-00163e5411b5&first_name=John&merchant_account_id=faa8bda7-808f-4008-b218-6c9cd6f0b385&order_detail=Test+Product&request_id=demo-20232&requested_amount=1.00&requested_amount_currency=USD&masked_account_number=427114******4678&email=john.doe%40{domain}&status_description_1=3d-acquirer%3AThe+resource+was+successfully+created.&provider_transaction_id_1=C867730143465319472997&last_name=Doe&authorization_code=500622&payment_method=creditcard&
----

.NVP Void Credit Request (Failure)  
[source]
----
merchant_account_id=faa8bda7-808f-4008-b218-6c9cd6f0b385&request_id=demo-30709&transaction_type=void-credit&parent_transaction_id=f6ab5f61-15ea-11e5-87be-00163e5411b5&requested_amount_currency=USD&requested_amount=7.07&ip_address=127.0.0.1
----

.NVP Void Credit Response (Failure)  
[source,subs=attributes+]
----
order_number=25981&api_id=elastic-api&transaction_type=void-credit&completion_time_stamp=20190618185102&status_code_1=400.1027&status_severity_1=error&self=https%3A%2F%2F{test-instance-hostname}:443%2Fengine%2Frest%2Fmerchants%2Ffaa8bda7-808f-4008-b218-6c9cd6f0b385%2Fpayments%2Ff7d95b41-15ea-11e5-87be-00163e5411b5&token_id=4990489254104678&transaction_state=failed&transaction_id=f7d95b41-15ea-11e5-87be-00163e5411b5&first_name=John&merchant_account_id=faa8bda7-808f-4008-b218-6c9cd6f0b385&order_detail=Test+Product&request_id=demo-30709&requested_amount=7.07&requested_amount_currency=USD&masked_account_number=427114******4678&email=john.doe%40{domain}&status_description_1=The+Requested+Amount+exceeds+the+Parent+Transaction+Amount.++Please+check+your+input+and+try+again.&last_name=Doe&payment_method=creditcard&
----

[#CreditCard_Samples_VoidOriginalCredit]
===== Void Original Credit

[#CreditCard_Samples_VoidOriginalCredit_XML]
====== XML

.XML Void Original Credit Request (Successful)  
[source,xml]
----
include::samples/xml/CreditCardSamplesVoidOriginalCredit_XML_VoidOriginalCreditRequestSuccessful.xml[]
----

.XML Void Original Credit Response (Successful)  
[source,xml,subs=attributes+]
----
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<payment xmlns="http://www.elastic-payments.com/schema/payment" self="https://{test-instance-hostname}:443/engine/rest/merchants/9cf2d63d-9a78-47d3-8949-97e83661c9d0/payments/089458ac-15fc-11e5-87be-00163e5411b5">
  <merchant-account-id ref="https://{test-instance-hostname}:443/engine/rest/merchants/9cf2d63d-9a78-47d3-8949-97e83661c9d0">9cf2d63d-9a78-47d3-8949-97e83661c9d0</merchant-account-id>
  <transaction-id>089458ac-15fc-11e5-87be-00163e5411b5</transaction-id>
  <request-id>demo-31945</request-id>
  <transaction-type>void-original-credit</transaction-type>
  <transaction-state>success</transaction-state>
  <completion-time-stamp>2019-06-18T20:53:12.000Z</completion-time-stamp>
  <statuses>
    <status code="201.0000" description="3d-acquirer:The resource was successfully created." severity="information"/>
  </statuses>
  <requested-amount currency="USD">1.01</requested-amount>
  <account-holder>
    <first-name>John</first-name>
    <last-name>Doe</last-name>
    <email>john.doe@test.com</email>
    <phone></phone>
    <address>
      <street1>123 anystreet</street1>
      <city>Brantford</city>
      <state>ON</state>
      <country>CA</country>
      <postal-code>M4P1E8</postal-code>
    </address>
  </account-holder>
  <card-token>
    <token-id>4500619497300080</token-id>
    <masked-account-number>455637******0080</masked-account-number>
  </card-token>
  <ip-address>127.0.0.1</ip-address>
  <order-number>13983</order-number>
  <order-detail>Test Product</order-detail>
  <payment-methods>
    <payment-method name="creditcard"/>
  </payment-methods>
  <authorization-code>153620</authorization-code>
  <api-id>elastic-api</api-id>
</payment>
----

.XML Void Original Credit Notification (Successful)  
[source,xml]
----
include::samples/xml/CreditCardSamplesVoidOriginalCredit_XML_VoidOriginalCreditNotificationSuccessful.xml[]
----

.XML Void Original Credit Request (Failure)  
[source,xml]
----
include::samples/xml/CreditCardSamplesVoidOriginalCredit_XML_VoidOriginalCreditRequestFailure.xml[]
----

.XML Void Original Credit Response (Failure)  
[source,xml,subs=attributes+]
----
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<payment xmlns="http://www.elastic-payments.com/schema/payment" self="https://{test-instance-hostname}:443/engine/rest/merchants/9cf2d63d-9a78-47d3-8949-97e83661c9d0/payments/1d291318-1601-11e5-87be-00163e5411b5">
  <merchant-account-id ref="https://{test-instance-hostname}:443/engine/rest/merchants/9cf2d63d-9a78-47d3-8949-97e83661c9d0">9cf2d63d-9a78-47d3-8949-97e83661c9d0</merchant-account-id>
  <transaction-id>1d291318-1601-11e5-87be-00163e5411b5</transaction-id>
  <request-id>demo-42042</request-id>
  <transaction-type>void-original-credit</transaction-type>
  <transaction-state>failed</transaction-state>
  <completion-time-stamp>2019-06-18T21:29:34.000Z</completion-time-stamp>
  <statuses>
    <status code="400.1027" description="The Requested Amount exceeds the Parent Transaction Amount.  Please check your input and try again." severity="error"/>
  </statuses>
  <requested-amount currency="USD">4.01</requested-amount>
  <account-holder>
    <first-name>John</first-name>
    <last-name>Doe</last-name>
    <email>john.doe@test.com</email>
    <phone></phone>
    <address>
      <street1>123 anystreet</street1>
      <city>Brantford</city>
      <state>ON</state>
      <country>CA</country>
      <postal-code>M4P1E8</postal-code>
    </address>
  </account-holder>
  <card-token>
    <token-id>4500619497300080</token-id>
    <masked-account-number>455637******0080</masked-account-number>
  </card-token>
  <ip-address>127.0.0.1</ip-address>
  <order-number>27634</order-number>
  <order-detail>Test Product</order-detail>
  <payment-methods>
    <payment-method name="creditcard"/>
  </payment-methods>
  <api-id>elastic-api</api-id>
</payment>
----

.XML Void Original Credit Notification (Failure)  
[source,xml]
----
include::samples/xml/CreditCardSamplesVoidOriginalCredit_XML_VoidOriginalCreditNotificationFailure.xml[]
----

[#CreditCard_Samples_VoidOriginalCredit_NVP]
====== NVP

.NVP Void Original Credit Request (Successful) 
[source]
----
merchant_account_id=9cf2d63d-9a78-47d3-8949-97e83661c9d0&request_id=demo-40811&transaction_type=void-original-credit&parent_transaction_id=86f86b4e-1601-11e5-87be-00163e5411b5&ip_address=127.0.0.1
----

.NVP Void Original Credit Response (Successful) 
[source,subs=attributes+]
----
order_number=16392&api_id=elastic-api&transaction_type=void-original-credit&completion_time_stamp=20190618213233&status_code_1=201.0000&status_severity_1=information&self=https%3A%2F%2F{test-instance-hostname}:443%2Fengine%2Frest%2Fmerchants%2F9cf2d63d-9a78-47d3-8949-97e83661c9d0%2Fpayments%2F877e1a2f-1601-11e5-87be-00163e5411b5&token_id=4990489254104678&transaction_state=success&transaction_id=877e1a2f-1601-11e5-87be-00163e5411b5&first_name=John&merchant_account_id=9cf2d63d-9a78-47d3-8949-97e83661c9d0&order_detail=Test+Product&request_id=demo-40811&requested_amount=1.00&requested_amount_currency=USD&masked_account_number=427114******4678&email=john.doe%40{domain}&status_description_1=3d-acquirer%3AThe+resource+was+successfully+created.&last_name=Doe&authorization_code=153620&payment_method=creditcard&
----

.NVP Void Original Credit Request (Failure)  
[source]
----
merchant_account_id=9cf2d63d-9a78-47d3-8949-97e83661c9d0&request_id=demo-44270&transaction_type=void-original-credit&parent_transaction_id=55a53d5f-1601-11e5-87be-00163e5411b5&requested_amount_currency=USD&requested_amount=7.07&ip_address=127.0.0.1
----

.NVP Void Original Credit Response (Failure)  
[source,subs=attributes+]
----
order_number=45054&api_id=elastic-api&transaction_type=void-original-credit&completion_time_stamp=20190618213133&status_code_1=400.1027&status_severity_1=error&self=https%3A%2F%2F{test-instance-hostname}:443%2Fengine%2Frest%2Fmerchants%2F9cf2d63d-9a78-47d3-8949-97e83661c9d0%2Fpayments%2F6406fc8f-1601-11e5-87be-00163e5411b5&token_id=4990489254104678&transaction_state=failed&transaction_id=6406fc8f-1601-11e5-87be-00163e5411b5&first_name=John&merchant_account_id=9cf2d63d-9a78-47d3-8949-97e83661c9d0&order_detail=Test+Product&request_id=demo-44270&requested_amount=7.07&requested_amount_currency=USD&masked_account_number=427114******4678&email=john.doe%40{domain}&status_description_1=The+Requested+Amount+exceeds+the+Parent+Transaction+Amount.++Please+check+your+input+and+try+again.&last_name=Doe&payment_method=creditcard&
----

[#CreditCard_Samples_VoidPreauthorization]
===== Void Preauthorization

[#CreditCard_Samples_VoidPreauthorization_XML]
====== XML

.XML Void Preauthorization Request (Successful)  
[source,xml]
----
include::samples/xml/CreditCardSamplesVoidPreauthorization_XML_VoidPreauthorizationRequestSuccessful.xml[]
----

.XML Void Preauthorization Response (Successful)  
[source,xml,subs=attributes+]
----
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<payment xmlns="http://www.elastic-payments.com/schema/payment" self="https://{test-instance-hostname}:443/engine/rest/merchants/faa8bda7-808f-4008-b218-6c9cd6f0b385/payments/98269509-15eb-11e5-87be-00163e5411b5">
  <merchant-account-id ref="https://{test-instance-hostname}:443/engine/rest/merchants/faa8bda7-808f-4008-b218-6c9cd6f0b385">faa8bda7-808f-4008-b218-6c9cd6f0b385</merchant-account-id>
  <transaction-id>98269509-15eb-11e5-87be-00163e5411b5</transaction-id>
  <request-id>demo-37471</request-id>
  <transaction-type>void-preauthorization</transaction-type>
  <transaction-state>success</transaction-state>
  <completion-time-stamp>2019-06-18T18:55:33.000Z</completion-time-stamp>
  <statuses>
    <status code="201.0000" description="3d-acquirer:The resource was successfully created." severity="information" provider-transaction-id="C816424143465373263264"/>
  </statuses>
  <requested-amount currency="USD">1.01</requested-amount>
  <account-holder>
    <first-name>John</first-name>
    <last-name>Doe</last-name>
    <email>john.doe@test.com</email>
    <phone></phone>
    <address>
      <street1>123 anystreet</street1>
      <city>Brantford</city>
      <state>ON</state>
      <country>CA</country>
      <postal-code>M4P1E8</postal-code>
    </address>
  </account-holder>
  <card-token>
    <token-id>4119529611183494</token-id>
    <masked-account-number>414720******3494</masked-account-number>
  </card-token>
  <ip-address>127.0.0.1</ip-address>
  <order-number>29797</order-number>
  <order-detail>Test Product</order-detail>
  <payment-methods>
    <payment-method name="creditcard"/>
  </payment-methods>
  <authorization-code>324239</authorization-code>
  <api-id>elastic-api</api-id>
</payment>
----

.XML Void Preauthorization Notification (Successful) 
[source,xml]
----
include::samples/xml/CreditCardSamplesVoidPreauthorization_XML_VoidPreauthorizationNotificationSuccessful.xml[]
----

.XML Void Preauthorization Request (Failure)  
[source,xml]
----
include::samples/xml/CreditCardSamplesVoidPreauthorization_XML_VoidPreauthorizationRequestFailure.xml[]
----

.XML Void Preauthorization Response (Failure)  
[source,xml,subs=attributes+]
----
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<payment xmlns="http://www.elastic-payments.com/schema/payment" self="https://{test-instance-hostname}:443/engine/rest/merchants/faa8bda7-808f-4008-b218-6c9cd6f0b385/payments/c2b61d17-15eb-11e5-87be-00163e5411b5">
  <merchant-account-id ref="https://{test-instance-hostname}:443/engine/rest/merchants/faa8bda7-808f-4008-b218-6c9cd6f0b385">faa8bda7-808f-4008-b218-6c9cd6f0b385</merchant-account-id>
  <transaction-id>c2b61d17-15eb-11e5-87be-00163e5411b5</transaction-id>
  <request-id>demo-19013</request-id>
  <transaction-type>void-preauthorization</transaction-type>
  <transaction-state>failed</transaction-state>
  <completion-time-stamp>2019-06-18T18:56:43.000Z</completion-time-stamp>
  <statuses>
    <status code="400.1027" description="The Requested Amount exceeds the Parent Transaction Amount.  Please check your input and try again." severity="error"/>
  </statuses>
  <requested-amount currency="USD">2.50</requested-amount>
  <account-holder>
    <first-name>John</first-name>
    <last-name>Doe</last-name>
    <email>john.doe@test.com</email>
    <phone></phone>
    <address>
      <street1>123 anystreet</street1>
      <city>Brantford</city>
      <state>ON</state>
      <country>CA</country>
      <postal-code>M4P1E8</postal-code>
    </address>
  </account-holder>
  <card-token>
    <token-id>4119529611183494</token-id>
    <masked-account-number>414720******3494</masked-account-number>
  </card-token>
  <ip-address>127.0.0.1</ip-address>
  <order-number>23438</order-number>
  <order-detail>Test Product</order-detail>
  <payment-methods>
    <payment-method name="creditcard"/>
  </payment-methods>
  <api-id>elastic-api</api-id>
</payment>
----

.XML Void Preauthorization Notification (Failure) 
[source,xml]
----
include::samples/xml/CreditCardSamplesVoidPreauthorization_XML_VoidPreauthorizationNotificationFailure.xml[]
----

[#CreditCard_Samples_VoidPreauthorization_NVP]
====== NVP

.NVP Void Preauthorization Request (Successful)  
[source]
----
merchant_account_id=faa8bda7-808f-4008-b218-6c9cd6f0b385&request_id=demo-24604&transaction_type=void-preauthorization&parent_transaction_id=7c177d94-15ec-11e5-87be-00163e5411b5&ip_address=127.0.0.1
----

.NVP Void Preauthorization Response (Successful)  
[source,subs=attributes+]
----
order_number=39517&api_id=elastic-api&transaction_type=void-preauthorization&completion_time_stamp=20190618190158&status_code_1=201.0000&status_severity_1=information&self=https%3A%2F%2F{test-instance-hostname}:443%2Fengine%2Frest%2Fmerchants%2Ffaa8bda7-808f-4008-b218-6c9cd6f0b385%2Fpayments%2F7d73fc7e-15ec-11e5-87be-00163e5411b5&token_id=4990489254104678&transaction_state=success&transaction_id=7d73fc7e-15ec-11e5-87be-00163e5411b5&first_name=John&merchant_account_id=faa8bda7-808f-4008-b218-6c9cd6f0b385&order_detail=Test+Product&request_id=demo-24604&requested_amount=1.00&requested_amount_currency=USD&masked_account_number=427114******4678&email=john.doe%40{domain}&status_description_1=3d-acquirer%3AThe+resource+was+successfully+created.&provider_transaction_id_1=C808751143465411719510&last_name=Doe&authorization_code=774189&payment_method=creditcard&
----

.NVP Void Preauthorization Request (Failure)  
[source]
----
merchant_account_id=faa8bda7-808f-4008-b218-6c9cd6f0b385&request_id=demo-16663&transaction_type=void-preauthorization&parent_transaction_id=fe5a55d9-15eb-11e5-87be-00163e5411b5&requested_amount_currency=USD&requested_amount=7.07&ip_address=127.0.0.1
----

.NVP Void Preauthorization Response (Failure) 
[source,subs=attributes+]
----
order_number=30333&api_id=elastic-api&transaction_type=void-preauthorization&completion_time_stamp=20190618185825&status_code_1=400.1027&status_severity_1=error&self=https%3A%2F%2F{test-instance-hostname}:443%2Fengine%2Frest%2Fmerchants%2Ffaa8bda7-808f-4008-b218-6c9cd6f0b385%2Fpayments%2Fff6436c8-15eb-11e5-87be-00163e5411b5&token_id=4990489254104678&transaction_state=failed&transaction_id=ff6436c8-15eb-11e5-87be-00163e5411b5&first_name=John&merchant_account_id=faa8bda7-808f-4008-b218-6c9cd6f0b385&order_detail=Test+Product&request_id=demo-16663&requested_amount=7.07&requested_amount_currency=USD&masked_account_number=427114******4678&email=john.doe%40{domain}&status_description_1=The+Requested+Amount+exceeds+the+Parent+Transaction+Amount.++Please+check+your+input+and+try+again.&last_name=Doe&payment_method=creditcard&
----

[#CreditCard_Samples_VoidPurchase]
===== Void Purchase

[#CreditCard_Samples_VoidPurchase_XML]
====== XML

<<CreditCard_TransactionTypes_Purchase_SendingData_VoidPurchase, _void-purchase_ samples>>

[#CreditCard_Samples_VoidPurchase_NVP]
====== NVP

.NVP Void Purchase Request (Successful)  
[source]
----
merchant_account_id=faa8bda7-808f-4008-b218-6c9cd6f0b385&request_id=demo-27549&transaction_type=void-purchase&parent_transaction_id=093a7353-15ed-11e5-87be-00163e5411b5&ip_address=127.0.0.1
----

.NVP Void Purchase Response (Successful)  
[source,subs=attributes+]
----
order_number=23929&api_id=elastic-api&transaction_type=void-purchase&completion_time_stamp=20190618190553&status_code_1=201.0000&status_severity_1=information&self=https%3A%2F%2F{test-instance-hostname}:443%2Fengine%2Frest%2Fmerchants%2Ffaa8bda7-808f-4008-b218-6c9cd6f0b385%2Fpayments%2F0a4324ea-15ed-11e5-87be-00163e5411b5&token_id=4990489254104678&transaction_state=success&transaction_id=0a4324ea-15ed-11e5-87be-00163e5411b5&first_name=John&merchant_account_id=faa8bda7-808f-4008-b218-6c9cd6f0b385&order_detail=Test+Product&request_id=demo-27549&requested_amount=1.00&requested_amount_currency=USD&masked_account_number=427114******4678&email=john.doe%40{domain}&status_description_1=3d-acquirer%3AThe+resource+was+successfully+created.&provider_transaction_id_1=C815999143465435343011&last_name=Doe&authorization_code=238959&payment_method=creditcard&
----

.NVP Void Purchase Request (Failure)  
[source]
----
merchant_account_id=faa8bda7-808f-4008-b218-6c9cd6f0b385&request_id=demo-15220&transaction_type=void-purchase&parent_transaction_id=242b016e-15ed-11e5-87be-00163e5411b5&requested_amount_currency=USD&requested_amount=7.07&ip_address=127.0.0.1
----

.NVP Void Purchase Response (Failure)  
[source,subs=attributes+]
----
order_number=45034&api_id=elastic-api&transaction_type=void-purchase&completion_time_stamp=20190618190638&status_code_1=400.1027&status_severity_1=error&self=https%3A%2F%2F{test-instance-hostname}:443%2Fengine%2Frest%2Fmerchants%2Ffaa8bda7-808f-4008-b218-6c9cd6f0b385%2Fpayments%2F2540a05a-15ed-11e5-87be-00163e5411b5&token_id=4990489254104678&transaction_state=failed&transaction_id=2540a05a-15ed-11e5-87be-00163e5411b5&first_name=John&merchant_account_id=faa8bda7-808f-4008-b218-6c9cd6f0b385&order_detail=Test+Product&request_id=demo-15220&requested_amount=7.07&requested_amount_currency=USD&masked_account_number=427114******4678&email=john.doe%40{domain}&status_description_1=The+Requested+Amount+exceeds+the+Parent+Transaction+Amount.++Please+check+your+input+and+try+again.&last_name=Doe&payment_method=creditcard&
----

[#CreditCard_Samples_VoidRefund]
===== Void Refund

Currently there are no samples available for ``void-refund``. If needed,
please contact our merchant support at: {e-mail-support}

[#CreditCard_Samples_VoidRefundCapture]
===== Void Refund Capture

[#CreditCard_Samples_VoidRefundCapture_XML]
====== XML

.XML Void Refund Capture Request (Successful)  
[source,xml]
----
include::samples/xml/CreditCardSamplesVoidRefundCapture_XML_VoidRefundCaptureRequestSuccessful.xml[]
----

.XML Void Refund Capture Response (Successful)  
[source,xml,subs=attributes+]
----
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<payment xmlns="http://www.elastic-payments.com/schema/payment" self="https://{test-instance-hostname}:443/engine/rest/merchants/faa8bda7-808f-4008-b218-6c9cd6f0b385/payments/65097a06-15ef-11e5-87be-00163e5411b5">
  <merchant-account-id ref="https://{test-instance-hostname}:443/engine/rest/merchants/faa8bda7-808f-4008-b218-6c9cd6f0b385">faa8bda7-808f-4008-b218-6c9cd6f0b385</merchant-account-id>
  <transaction-id>65097a06-15ef-11e5-87be-00163e5411b5</transaction-id>
  <request-id>demo-13038</request-id>
  <transaction-type>void-refund-capture</transaction-type>
  <transaction-state>success</transaction-state>
  <completion-time-stamp>2019-06-18T19:22:44.000Z</completion-time-stamp>
  <statuses>
    <status code="201.0000" description="3d-acquirer:The resource was successfully created." severity="information" provider-transaction-id="C903655143465536447035"/>
  </statuses>
  <requested-amount currency="USD">1.01</requested-amount>
  <account-holder>
    <first-name>John</first-name>
    <last-name>Doe</last-name>
    <email>john.doe@test.com</email>
    <phone></phone>
    <address>
      <street1>123 anystreet</street1>
      <city>Brantford</city>
      <state>ON</state>
      <country>CA</country>
      <postal-code>M4P1E8</postal-code>
    </address>
  </account-holder>
  <card-token>
    <token-id>4500619497300080</token-id>
    <masked-account-number>455637******0080</masked-account-number>
  </card-token>
  <ip-address>127.0.0.1</ip-address>
  <order-number>37911</order-number>
  <order-detail>Test Product</order-detail>
  <payment-methods>
    <payment-method name="creditcard"/>
  </payment-methods>
  <authorization-code>597579</authorization-code>
  <api-id>elastic-api</api-id>
</payment>
----

.XML Void Refund Capture Notification (Successful)  
[source,xml]
----
include::samples/xml/CreditCardSamplesVoidRefundCapture_XML_VoidRefundCaptureNotificationSuccessful.xml[]
----

.XML Void Refund Capture Request (Failure)  
[source,xml]
----
include::samples/xml/CreditCardSamplesVoidRefundCapture_XML_VoidRefundCaptureRequestFailure.xml[]
----

.XML Void Refund Capture Response (Failure)  
[source,xml,subs=attributes+]
----
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<payment xmlns="http://www.elastic-payments.com/schema/payment" self="https://{test-instance-hostname}:443/engine/rest/merchants/faa8bda7-808f-4008-b218-6c9cd6f0b385/payments/a8406d4d-15ef-11e5-87be-00163e5411b5">
  <merchant-account-id ref="https://{test-instance-hostname}:443/engine/rest/merchants/faa8bda7-808f-4008-b218-6c9cd6f0b385">faa8bda7-808f-4008-b218-6c9cd6f0b385</merchant-account-id>
  <transaction-id>a8406d4d-15ef-11e5-87be-00163e5411b5</transaction-id>
  <request-id>demo-6749</request-id>
  <transaction-type>void-refund-capture</transaction-type>
  <transaction-state>failed</transaction-state>
  <completion-time-stamp>2019-06-18T19:24:36.000Z</completion-time-stamp>
  <statuses>
    <status code="400.1027" description="The Requested Amount exceeds the Parent Transaction Amount.  Please check your input and try again." severity="error"/>
  </statuses>
  <requested-amount currency="USD">5.00</requested-amount>
  <account-holder>
    <first-name>John</first-name>
    <last-name>Doe</last-name>
    <email>john.doe@test.com</email>
    <phone></phone>
    <address>
      <street1>123 anystreet</street1>
      <city>Brantford</city>
      <state>ON</state>
      <country>CA</country>
      <postal-code>M4P1E8</postal-code>
    </address>
  </account-holder>
  <card-token>
    <token-id>4500619497300080</token-id>
    <masked-account-number>455637******0080</masked-account-number>
  </card-token>
  <ip-address>127.0.0.1</ip-address>
  <order-number>43039</order-number>
  <order-detail>Test Product</order-detail>
  <payment-methods>
    <payment-method name="creditcard"/>
  </payment-methods>
  <api-id>elastic-api</api-id>
</payment>
----

.XML Void Refund Capture Notification (Failure) 
[source,xml]
----
include::samples/xml/CreditCardSamplesVoidRefundCapture_XML_VoidRefundCaptureNotificationFailure.xml[]
----

[#CreditCard_Samples_VoidRefundCapture_NVP]
====== NVP

.NVP Void Refund Capture Request (Successful)  
[source]
----
merchant_account_id=faa8bda7-808f-4008-b218-6c9cd6f0b385&request_id=demo-24702&transaction_type=void-refund-capture&parent_transaction_id=1ee26ccf-15f0-11e5-87be-00163e5411b5&ip_address=127.0.0.1
----

.NVP Void Refund Capture Response (Successful)  
[source,subs=attributes+]
----
order_number=33683&api_id=elastic-api&transaction_type=void-refund-capture&completion_time_stamp=20190618192758&status_code_1=201.0000&status_severity_1=information&self=https%3A%2F%2F{test-instance-hostname}:443%2Fengine%2Frest%2Fmerchants%2Ffaa8bda7-808f-4008-b218-6c9cd6f0b385%2Fpayments%2F1feed475-15f0-11e5-87be-00163e5411b5&token_id=4981966848653502&transaction_state=success&transaction_id=1feed475-15f0-11e5-87be-00163e5411b5&first_name=John&merchant_account_id=faa8bda7-808f-4008-b218-6c9cd6f0b385&order_detail=Test+Product&request_id=demo-24702&requested_amount=1.01&requested_amount_currency=USD&masked_account_number=402400******3502&email=john.doe%40{domain}&status_description_1=3d-acquirer%3AThe+resource+was+successfully+created.&provider_transaction_id_1=C957869143465567801552&last_name=Doe&authorization_code=688114&payment_method=creditcard&
----

.NVP Void Refund Capture Request (Failure) 
[source]
----
merchant_account_id=faa8bda7-808f-4008-b218-6c9cd6f0b385&request_id=demo-34137&transaction_type=void-refund-capture&requested_amount_currency=USD&requested_amount=3.01&parent_transaction_id=449de96c-15f0-11e5-87be-00163e5411b5&ip_address=127.0.0.1
----

.NVP Void Refund Capture Response (Failure) 
[source,subs=attributes+]
----
order_number=16949&api_id=elastic-api&transaction_type=void-refund-capture&completion_time_stamp=20190618192901&status_code_1=400.1027&status_severity_1=error&self=https%3A%2F%2F{test-instance-hostname}:443%2Fengine%2Frest%2Fmerchants%2Ffaa8bda7-808f-4008-b218-6c9cd6f0b385%2Fpayments%2F45f561e2-15f0-11e5-87be-00163e5411b5&token_id=4981966848653502&transaction_state=failed&transaction_id=45f561e2-15f0-11e5-87be-00163e5411b5&first_name=John&merchant_account_id=faa8bda7-808f-4008-b218-6c9cd6f0b385&order_detail=Test+Product&request_id=demo-34137&requested_amount=3.01&requested_amount_currency=USD&masked_account_number=402400******3502&email=john.doe%40{domain}
&status_description_1=The+Requested+Amount+exceeds+the+Parent+Transaction+Amount.++Please+check+your+input+and+try+again.&last_name=Doe&payment_method=creditcard&
----

[#CreditCard_Samples_VoidRefundPurchase]
===== Void Refund Purchase

[#CreditCard_Samples_VoidRefundPurchase_XML]
====== XML

<<CreditCard_TransactionTypes_Purchase_SendingData_VoidRefundPurchase, _void-refund-purchase_ samples>>

[#CreditCard_Samples_VoidRefundPurchase_NVP]
====== NVP

.NVP Void Refund Purchase Request (Successful) 
[source]
----
merchant_account_id=faa8bda7-808f-4008-b218-6c9cd6f0b385&request_id=demo-14250&transaction_type=void-refund-purchase&parent_transaction_id=089bcac9-15f1-11e5-87be-00163e5411b5&ip_address=127.0.0.1
----

.NVP Void Refund Purchase Response (Successful) 
[source,subs=attributes+]
----
order_number=33555&api_id=elastic-api&transaction_type=void-refund-purchase&completion_time_stamp=20190618193434&status_code_1=201.0000&status_severity_1=information&self=https%3A%2F%2F{test-instance-hostname}:443%2Fengine%2Frest%2Fmerchants%2Ffaa8bda7-808f-4008-b218-6c9cd6f0b385%2Fpayments%2F0aef6c1a-15f1-11e5-87be-00163e5411b5&token_id=4981966848653502&transaction_state=success&transaction_id=0aef6c1a-15f1-11e5-87be-00163e5411b5&first_name=John&merchant_account_id=faa8bda7-808f-4008-b218-6c9cd6f0b385&order_detail=Test+Product&request_id=demo-14250&requested_amount=1.01&requested_amount_currency=USD&masked_account_number=402400******3502&email=john.doe%40{domain}&status_description_1=3d-acquirer%3AThe+resource+was+successfully+created.&provider_transaction_id_1=C985495143465607266752&last_name=Doe&authorization_code=222076&payment_method=creditcard&
----

.NVP Void Refund Purchase Request (Failure)  
[source]
----
merchant_account_id=faa8bda7-808f-4008-b218-6c9cd6f0b385&request_id=demo-42563&transaction_type=void-refund-purchase&requested_amount_currency=USD&requested_amount=2.01&parent_transaction_id=26ccd765-15f1-11e5-87be-00163e5411b5&ip_address=127.0.0.1
----

.NVP Void Refund Purchase Response (Failure)  
[source,subs=attributes+]
----
order_number=7869&api_id=elastic-api&transaction_type=void-refund-purchase&completion_time_stamp=20190618193521&status_code_1=400.1027&status_severity_1=error&self=https%3A%2F%2F{test-instance-hostname}:443%2Fengine%2Frest%2Fmerchants%2Ffaa8bda7-808f-4008-b218-6c9cd6f0b385%2Fpayments%2F28986d17-15f1-11e5-87be-00163e5411b5&token_id=4981966848653502&transaction_state=failed&transaction_id=28986d17-15f1-11e5-87be-00163e5411b5&first_name=John&merchant_account_id=faa8bda7-808f-4008-b218-6c9cd6f0b385&order_detail=Test+Product&request_id=demo-42563&requested_amount=2.01&requested_amount_currency=USD&masked_account_number=402400******3502&email=john.doe%40{domain}&status_description_1=The+Requested+Amount+exceeds+the+Parent+Transaction+Amount.++Please+check+your+input+and+try+again.&last_name=Doe&payment_method=creditcard&
----

[#CreditCard_Samples_CheckRisk]
===== Check Risk

[#CreditCard_Samples_CheckRisk_XML]
====== XML

.XML Check Risk Request (Successful)  
[source,xml]
----
include::samples/xml/CreditCardSamplesCheckRisk_XML_CheckRiskRequestSuccessful.xml[]
----

.XML Check Risk Response (Successful)  
[source,xml,subs=attributes+]
----
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<payment xmlns="http://www.elastic-payments.com/schema/payment" self="https://{test-instance-hostname}:443/engine/rest/merchants/9cf2d63d-9a78-47d3-8949-97e83661c9d0/payments/b43c1b61-15f4-11e5-87be-00163e5411b5">
  <merchant-account-id ref="https://{test-instance-hostname}:443/engine/rest/merchants/9cf2d63d-9a78-47d3-8949-97e83661c9d0">9cf2d63d-9a78-47d3-8949-97e83661c9d0</merchant-account-id>
  <transaction-id>b43c1b61-15f4-11e5-87be-00163e5411b5</transaction-id>
  <request-id>${response}</request-id>
  <transaction-type>check-risk</transaction-type>
  <transaction-state>success</transaction-state>
  <completion-time-stamp>2019-06-18T20:00:46.000Z</completion-time-stamp>
  <statuses>
    <status code="200.0000" description="risk:The request completed successfully." severity="information"/>
  </statuses>
  <requested-amount currency="USD">1.01</requested-amount>
  <account-holder>
    <first-name>John</first-name>
    <last-name>Doe</last-name>
    <email>john.doe@test.com</email>
    <phone></phone>
    <address>
      <street1>123 anystreet</street1>
      <city>Brantford</city>
      <state>ON</state>
      <country>CA</country>
      <postal-code>M4P1E8</postal-code>
    </address>
  </account-holder>
  <card-token>
    <token-id>4500619497300080</token-id>
    <masked-account-number>455637******0080</masked-account-number>
  </card-token>
  <ip-address>127.0.0.1</ip-address>
  <order-number>7715</order-number>
  <order-detail>Test Product</order-detail>
  <descriptor></descriptor>
  <payment-methods>
    <payment-method name="creditcard"/>
  </payment-methods>
  <api-id>elastic-api</api-id>
</payment>
----

.XML Check Risk Notification (Successful)  
[source,xml]
----
include::samples/xml/CreditCardSamplesCheckRisk_XML_CheckRiskNotificationSuccessful.xml[]
----

.XML Check Risk Request (Failure) 
[source,xml]
----
include::samples/xml/CreditCardSamplesCheckRisk_XML_CheckRiskRequestFailure.xml[]
----

.XML Check Risk Response (Failure)  
[source,xml,subs=attributes+]
----
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<payment xmlns="http://www.elastic-payments.com/schema/payment" self="https://{test-instance-hostname}:443/engine/rest/merchants/9cf2d63d-9a78-47d3-8949-97e83661c9d0/payments/e7b4e0f7-15f4-11e5-87be-00163e5411b5">
  <merchant-account-id ref="https://{test-instance-hostname}:443/engine/rest/merchants/9cf2d63d-9a78-47d3-8949-97e83661c9d0">9cf2d63d-9a78-47d3-8949-97e83661c9d0</merchant-account-id>
  <transaction-id>e7b4e0f7-15f4-11e5-87be-00163e5411b5</transaction-id>
  <request-id>${response}</request-id>
  <transaction-type>check-risk</transaction-type>
  <transaction-state>failed</transaction-state>
  <completion-time-stamp>2019-06-18T20:02:10.000Z</completion-time-stamp>
  <statuses>
    <status code="400.1004" description="The Expiration Year is invalid.  Please check your input and try again." severity="error"/>
  </statuses>
  <requested-amount currency="USD">1.01</requested-amount>
  <account-holder>
    <first-name>John</first-name>
    <last-name>Doe</last-name>
    <email>john.doe@test.com</email>
    <phone></phone>
    <address>
      <street1>123 anystreet</street1>
      <city>Brantford</city>
      <state>ON</state>
      <country>CA</country>
      <postal-code>M4P1E8</postal-code>
    </address>
  </account-holder>
  <card-token>
    <token-id>4500619497300080</token-id>
    <masked-account-number>455637******0080</masked-account-number>
  </card-token>
  <ip-address>127.0.0.1</ip-address>
  <order-number>1252</order-number>
  <order-detail>Test Product</order-detail>
  <payment-methods>
    <payment-method name="creditcard"/>
  </payment-methods>
  <api-id>elastic-api</api-id>
</payment>
----

.XML Check Risk Notification (Failure)  
[source,xml]
----
include::samples/xml/CreditCardSamplesCheckRisk_XML_CheckRiskNotificationFailure.xml[]
----

[#CreditCard_Samples_CheckRisk_NVP]
====== NVP

.NVP Check Risk Request (Successful) 
[source,subs=attributes+]
----
merchant_account_id=9cf2d63d-9a78-47d3-8949-97e83661c9d0&request_id=demo-4867&transaction_type=check-risk&requested_amount_currency=USD&requested_amount=1.00&first_name=John&last_name=Doe&email=john.doe@{domain}&phone=&address_street1=123 anystreet&address_street2=Suite 999&address_city=Toronto&address_state=ON&address_country=CA&address_postal_code=M4P1E8&account_number=4271149787014678&expiration_month=12&expiration_year=2025&card_type=visa&card_security_code=123&ip_address=127.0.0.1&order_number=34475&order_detail=Test Product&payment_method=creditcard
----

.NVP Check Risk Response (Successful)
[source,subs=attributes+]
----
order_number=34475&api_id=elastic-api&transaction_type=check-risk&completion_time_stamp=20190618195856&status_code_1=200.0000&status_severity_1=information&self=https%3A%2F%2F{test-instance-hostname}:443%2Fengine%2Frest%2Fmerchants%2F9cf2d63d-9a78-47d3-8949-97e83661c9d0%2Fpayments%2F72f2f332-15f4-11e5-87be-00163e5411b5&token_id=4990489254104678&transaction_state=success&transaction_id=72f2f332-15f4-11e5-87be-00163e5411b5&first_name=John&merchant_account_id=9cf2d63d-9a78-47d3-8949-97e83661c9d0&order_detail=Test+Product&request_id=demo-4867&requested_amount=1.00&requested_amount_currency=USD&masked_account_number=427114******4678&email=john.doe%40{domain}&status_description_1=risk%3AThe+request+completed+successfully.&last_name=Doe&payment_method=creditcard&
----

.NVP Check Risk Request (Failure)  
[source,subs=attributes+]
----
merchant_account_id=9cf2d63d-9a78-47d3-8949-97e83661c9d0&request_id=demo-28469&transaction_type=check-risk&requested_amount_currency=USD&requested_amount=1.00&first_name=John&last_name=Doe&email=john.doe@{domain}&phone=&address_street1=123 anystreet&address_street2=Suite 999&address_city=Toronto&address_state=ON&address_country=CA&address_postal_code=M4P1E8&account_number=4271149787014678&expiration_month=12&expiration_year=2012&card_type=visa&card_security_code=123&ip_address=127.0.0.1&order_number=8513&order_detail=Test Product&payment_method=creditcard
----

.NVP Check Risk Response (Failure)  
[source,subs=attributes+]
----
order_number=8513&api_id=elastic-api&transaction_type=check-risk&completion_time_stamp=20190618195943&status_code_1=400.1004&status_severity_1=error&self=https%3A%2F%2F{test-instance-hostname}:443%2Fengine%2Frest%2Fmerchants%2F9cf2d63d-9a78-47d3-8949-97e83661c9d0%2Fpayments%2F8fc8aacb-15f4-11e5-87be-00163e5411b5&token_id=4990489254104678&transaction_state=failed&transaction_id=8fc8aacb-15f4-11e5-87be-00163e5411b5&first_name=John&merchant_account_id=9cf2d63d-9a78-47d3-8949-97e83661c9d0&order_detail=Test+Product&request_id=demo-28469&requested_amount=1.00&requested_amount_currency=USD&masked_account_number=427114******4678&email=john.doe%40{domain}&status_description_1=The+Expiration+Year+is+invalid.++Please+check+your+input+and+try+again.&last_name=Doe&payment_method=creditcard&
----

[#CreditCard_Samples_CheckEnrollment]
===== Check Enrollment

.XML Check Enrollment Request (Successful)  
[source,xml]
----
include::samples/xml/CreditCardSamplesCheckEnrollment_CheckEnrollmentRequestSuccessful.xml[]
----

.XML Check Enrollment Response (Successful)  
[source,xml,subs=attributes+]
----
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<payment xmlns="http://www.elastic-payments.com/schema/payment" self="https://{test-instance-hostname}:443/engine/merchants/33f6d473-3036-4ca5-acb5-8c64dac862d1/payments/95ec28c6-5084-11e5-9355-005056a96a54">
    <merchant-account-id ref="https://{test-instance-hostname}:443/engine/merchants/33f6d473-3036-4ca5-acb5-8c64dac862d1">33f6d473-3036-4ca5-acb5-8c64dac862d1</merchant-account-id>
    <transaction-id>95ec28c6-5084-11e5-9355-005056a96a54</transaction-id>
    <request-id>{response}</request-id>
    <transaction-type>check-enrollment</transaction-type>
    <transaction-state>success</transaction-state>
    <completion-time-stamp>2015-09-01T08:36:49.000Z</completion-time-stamp>
    <statuses>
        <status code="201.0000" description="3d-acquirer:The resource was successfully created." severity="information"/>
        <status code="200.1077" description="3d-acquirer:Card is eligible for the ACS authentication process. If the customer has not yet activated his card for 3-D Secure processing his issuer may offer activation during shopping." severity="information"/>
    </statuses>
    <requested-amount currency="USD">1.00</requested-amount>
    <account-holder>
        <first-name>John</first-name>
        <last-name>Doe</last-name>
        <email>john.doe@test.com</email>
        <phone/>
        <address>
            <street1>123 anystreet</street1>
            <city>Brantford</city>
            <state>ON</state>
            <country>CA</country>
        </address>
    </account-holder>
    <card-token>
        <token-id>4291855907211003</token-id>
        <masked-account-number>401200******1003</masked-account-number>
    </card-token>
    <ip-address>127.0.0.1</ip-address>
    <descriptor/>
    <authorization-code/>
    <three-d>
        <pareq>eJxtk11vgjAUhu/3Kwj3sy3yaUqNmzPbhcvC1GW7a+BESCxggeH+/VpkHwokJD2nD/
        Tte86h85M4GJ8gq6zIQ5NMsGlAHhdJlu9Dc7tZ3fqmUdU8T/ihyCE0v6Ay5+yGblIJsHyFuJH
        Abgz10DVUFd+DkSWh6WLf8nDguA5xPcvC08D2zDPXsS+LCI5/cZfrVTAlYmJR9BNeQmuQccrz
        +jLdbfH4ePf0zIg1tR2Xoj4ccgLk05I5GGOiXkzROTEEcy6AvWUSYi4TYwmiMF7ToqSo2xjyc
        dHktfxivqWO/wmGWCMPLK3rcoZQ27aTtj9gEheCIr15eWM0fmX60uh0NSbklCVsK8hn9BC8r1
        flMdqV0ccuIjtRCr7ahhRpYvhdwmtgFiYODjAxCJ5N3ZntU9TlRwwX+o66Xsrt83oIlb3MRQ9
        rw69yI042Uqo2VFbaCv+NhiCcStWW6h+qYX7XV/6NG0XvH0d7KK51cziWH2AXe0S74QSB6zm2
        rXyxCdGd1UGjajJVcqLc6+Rk1/Wn6P+pStrfGOg6d/OjhgtdTtc362bnfg==
        </pareq>
        <acs-url>https://{3dsecure-test-instance-hostname}/acssim/app/bank</acs-url>
        <cardholder-authentication-status>Y</cardholder-authentication-status>
    </three-d>
    <api-id>elastic-api</api-id>
</payment>
----

.XML Check Enrollment Request (Successful) for One-Time Payment 3D Secure 2 Transactions
[source,xml]
----
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<payment xmlns="http://www.elastic-payments.com/schema/payment">
    <merchant-account-id>33f6d473-3036-4ca5-acb5-8c64dac862d1</merchant-account-id>
    <request-id>{{$guid}}</request-id>
    <transaction-type>check-enrollment</transaction-type>
    <requested-amount currency="EUR">9.99</requested-amount>
    <account-holder>
        <first-name>John</first-name>
        <last-name>Doe</last-name>
        <email>john.doe@example.com</email>
        <phone>+49(111)222-333</phone>
        <mobile-phone>+49(111)222-444</mobile-phone>
        <work-phone>+49(111)222-555</work-phone>
        <address>
            <street1>anystreet</street1>
            <street2>123</street2>
            <!-- <street3>A</street3> -->
            <city>Berlin</city>
            <state>ON</state>
            <country>DE</country>
            <postal-code>M4P1E8</postal-code>
        </address>
        <success-redirect-url>https://demoshop-test.wirecard.com/demoshop/#/success</success-redirect-url>
        <fail-redirect-url>https://demoshop-test.wirecard.com/demoshop/#/fail</fail-redirect-url>
        <cancel-redirect-url>https://demoshop-test.wirecard.com/demoshop/#/cancel</cancel-redirect-url>
        <iso-transaction-type>01</iso-transaction-type>
        <merchant-crm-id>XWLfrzuGhpajYxFiFgNScwcLhtIOvXNxMIcrxIPTHqgroaFiPNDqMxGBXYUhMVBZ</merchant-crm-id>
        <account-info>
            <authentication-method>01</authentication-method>
            <authentication-timestamp>2019-05-05T21:46:00.000Z</authentication-timestamp>
            <challenge-indicator>01</challenge-indicator>
            <creation-date>2019-05-05Z</creation-date>
            <update-date>2019-06-07Z</update-date>
            <password-change-date>2019-06-08Z</password-change-date>
            <shipping-address-first-use>2019-06-09Z</shipping-address-first-use>
            <transactions-last-day>1</transactions-last-day>
            <transactions-last-year>10</transactions-last-year>
            <card-transactions-last-day>2</card-transactions-last-day>
            <purchases-last-six-months>4</purchases-last-six-months>
            <suspicious-activity>false</suspicious-activity>
            <card-creation-date>2018-06-16Z</card-creation-date>
        </account-info>
    </account-holder>
    <shipping>
        <first-name>John</first-name>
        <last-name>Smith</last-name>
        <address>
            <street1>otherstreet</street1>
            <street2>123</street2>
            <street3>A</street3>
            <city>Berlin</city>
            <state>ON</state>
            <country>DE</country>
            <postal-code>M4P1E8</postal-code>
        </address>
        <shipping-method>home_delivery</shipping-method>
    </shipping>
    <card>
        <account-number>4012000300201181</account-number>
        <expiration-month>01</expiration-month>
        <expiration-year>2023</expiration-year>
        <card-security-code>181</card-security-code>
        <card-type>visa</card-type>
        <account-type>02</account-type>
    </card>
    <ip-address>127.0.0.1</ip-address>
    <order-detail>order detail</order-detail>
    <descriptor>Payment description</descriptor>
    <payment-methods>
        <payment-method name="creditcard"/>
    </payment-methods>
    <three-d>
        <version>2.1</version>
        <server-transaction-id>375ec3e3-4196-4aa1-962e-6e4aa7a51d64</server-transaction-id>
    </three-d>
    <device>
        <render-options>
            <interface>01</interface>
            <ui-type>01</ui-type>
        </render-options>
   </device>
    <browser>
        <time-zone>360</time-zone>
        <screen-resolution>800x600</screen-resolution>
        <challenge-window-size>01</challenge-window-size>
        <color-depth>48</color-depth>
        <java-enabled>true</java-enabled>
       <language>en</language>
    </browser>
    <risk-info>
        <availability>01</availability>
        <delivery-mail>john.doe@example.com</delivery-mail>
        <delivery-timeframe>04</delivery-timeframe>
        <gift>
            <gift-card id="09754139-a2db-48c0-af1b-c89c4a31b645">
                <amount currency="EUR">9.99</amount>
            </gift-card>
        </gift>
        <preorder-date>2019-07-16Z</preorder-date>
        <reorder-items>01</reorder-items>
    </risk-info>
</payment>
----

.XML Check Enrollment Response (Successful) for One-Time Payment 3D Secure 2 Transactions
[source,xml]
----
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<payment xmlns="http://www.elastic-payments.com/schema/payment" self="https://api-test.wirecard.com:443/engine/rest/merchants/33f6d473-3036-4ca5-acb5-8c64dac862d1/payments/d2009596-4cf5-4bc6-8abd-2656b27bf435">
    <merchant-account-id ref="https://api-test.wirecard.com:443/engine/rest/config/merchants/33f6d473-3036-4ca5-acb5-8c64dac862d1">33f6d473-3036-4ca5-acb5-8c64dac862d1</merchant-account-id>
    <transaction-id>d2009596-4cf5-4bc6-8abd-2656b27bf435</transaction-id>
    <request-id>1b7225f1-f41f-4c7b-8b1b-ea035126a589</request-id>
    <transaction-type>check-enrollment</transaction-type>
    <transaction-state>success</transaction-state>
    <completion-time-stamp>2019-07-05T13:10:28.000Z</completion-time-stamp>
    <statuses>
        <status code="201.0000" description="3d-acquirer:The resource was successfully created." severity="information"/>
        <status code="200.1077" description="3d-acquirer:Card is eligible for the ACS authentication process. If the customer has not yet activated his card for 3-D Secure processing his issuer may offer activation during shopping." severity="information"/>
    </statuses>
    <requested-amount currency="EUR">9.99</requested-amount>
    <account-holder>
        <first-name>John</first-name>
        <last-name>Doe</last-name>
        <email>john.doe@example.com</email>
        <phone>+49(111)222-333</phone>
        <mobile-phone>+49(111)222-444</mobile-phone>
        <work-phone>+49(111)222-555</work-phone>
        <address>
            <street1>anystreet</street1>
            <street2>123</street2>
            <city>Berlin</city>
            <state>ON</state>
            <country>DE</country>
            <postal-code>M4P1E8</postal-code>
        </address>
        <merchant-crm-id>XWLfrzuGhpajYxFiFgNScwcLhtIOvXNxMIcrxIPTHqgroaFiPNDqMxGBXYUhMVBZ</merchant-crm-id>
        <account-info>
            <authentication-method>01</authentication-method>
            <authentication-timestamp>2019-05-05T21:46:00.000Z</authentication-timestamp>
            <challenge-indicator>01</challenge-indicator>
            <creation-date>2019-05-05Z</creation-date>
            <update-date>2019-06-07Z</update-date>
            <password-change-date>2019-06-08Z</password-change-date>
            <shipping-address-first-use>2019-06-09Z</shipping-address-first-use>
            <transactions-last-day>1</transactions-last-day>
            <transactions-last-year>10</transactions-last-year>
            <card-transactions-last-day>2</card-transactions-last-day>
            <purchases-last-six-months>4</purchases-last-six-months>
            <suspicious-activity>false</suspicious-activity>
            <card-creation-date>2018-06-16Z</card-creation-date>
        </account-info>
    </account-holder>
    <shipping>
        <first-name>John</first-name>
        <last-name>Smith</last-name>
        <address>
            <street1>otherstreet</street1>
            <street2>123</street2>
            <street3>A</street3>
            <city>Berlin</city>
            <state>ON</state>
            <country>DE</country>
            <postal-code>M4P1E8</postal-code>
        </address>
        <shipping-method>home_delivery</shipping-method>
    </shipping>
    <card-token>
        <token-id>4142206767781181</token-id>
        <masked-account-number>401200******1181</masked-account-number>
    </card-token>
    <ip-address>127.0.0.1</ip-address>
    <order-detail>order detail</order-detail>
    <descriptor>Payment description</descriptor>
    <payment-methods>
        <payment-method name="creditcard"/>
    </payment-methods>
    <authorization-code></authorization-code>
    <three-d>
        <pareq>eJxtkU9PwzAMxb9Lz7RNnKRJd2VCmgQSYgMuveSPs1Val5FkqxDiu5PBYdLE0fZ7v2fZX9VWZ3zXn5uoD2m1rBbVveqk6hgVHTAGAIrSjpHqrprS9g1jGsOhqGhzaUX8OGHKm3HC1WHMo96XERDaE0kEZZSAKqq8i4jL9RrjGeM1yHNhKWWsNpJhzZmxdW+Nr4EoDcDASsqL+zmGHGzYX7Oh+UvXNr2+PJbGLudjWgzt0DKX6lw2auYxotXRNTZMQ1uU1z2eMO+Cu3XO89wktKeI3XZuYhjaC+eXCEObxukMpYpGN8fd8Ra21FkXmvQOrQAlBHKwRlsm0VvNteudJr7XDlDyjv5nfwhxKgjSmXJ1YpTyhnspPXXlFUKo3hOBnlffP7DvhoQ=</pareq>
        <acs-url>https://3ds-test.wirecard.com/acs?reqid=96792DA2DAFDCEF82FEA958EAD891AA95EE351A5</acs-url>
        <cardholder-authentication-status>Y</cardholder-authentication-status>
        <version>1.0</version>
    </three-d>
    <api-id>elastic-api</api-id>
    <device>
        <render-options>
            <interface>01</interface>
            <ui-type>01</ui-type>
        </render-options>
    </device>
    <provider-account-id>70003</provider-account-id>
    <risk-info>
        <availability>01</availability>
        <delivery-mail>john.doe@example.com</delivery-mail>
        <delivery-timeframe>04</delivery-timeframe>
        <gift>
            <gift-card id="09754139-a2db-48c0-af1b-c89c4a31b645">
                <amount currency="EUR">9.99</amount>
            </gift-card>
        </gift>
        <preorder-date>2019-07-16Z</preorder-date>
        <reorder-items>01</reorder-items>
    </risk-info>
</payment>
----

[#CreditCard_Samples_PaymentFacilitatorTransactions]
===== Payment Facilitator Transactions

[#CreditCard_Samples_PaymentFacilitatorTransactions_XML]
====== XML

.XML Check Enrollment Request (Successful)  
[source,xml]
----
include::samples/xml/CreditCardSamplesPaymentFacilitatorTransactions_XML_CheckEnrollmentRequestSuccessful.xml[]
----

.XML Check Enrollment Response (Successful)  
[source,xml,subs=attributes+]
----
<payment self="https://{test-instance-hostname}:443/engine/rest/merchants/3e549fd0-50de-11e0-b8af-0800200c9a66/payments/56fc2135-c629-406b-a912-d71f095b603c" xmlns="http://www.elastic-payments.com/schema/payment" xmlns:ns2="http://www.elastic-payments.com/schema/epa/transaction">
   <merchant-account-id ref="https://{test-instance-hostname}:443/engine/rest/config/merchants/3e549fd0-50de-11e0-b8af-0800200c9a66">3e549fd0-50de-11e0-b8af-0800200c9a66</merchant-account-id>
   <transaction-id>56fc2135-c629-406b-a912-d71f095b603c</transaction-id>
   <request-id>{{$guid}}</request-id>
   <transaction-type>check-enrollment</transaction-type>
   <transaction-state>success</transaction-state>
   <completion-time-stamp>2017-11-30T10:49:13.000Z</completion-time-stamp>
   <statuses>
      <status code="201.0000" description="3d-acquirer:The resource was successfully created." severity="information"/>
      <status code="200.1077" description="3d-acquirer:Card is eligible for the ACS authentication process. If the customer has not yet activated his card for 3-D Secure processing his issuer may offer activation during shopping." severity="information"/>
   </statuses>
   <requested-amount currency="USD">1.00</requested-amount>
   <account-holder>
      <first-name>John</first-name>
      <last-name>Doe</last-name>
      <email>John.Doe@test.com/email>
      <phone/>
      <address>
         <street1>Test Street 123</street1>
         <city>Test City</city>
         <state>BY</state>
         <country>DE</country>
      </address>
   </account-holder>
   <card-token>
      <token-id>4644913005151003</token-id>
      <masked-account-number>123456******9876</masked-account-number>
   </card-token>
   <ip-address>127.0.0.1</ip-address>
   <descriptor>demo descriptor</descriptor>
   <authorization-code/>
   <three-d>
      <pareq>eJxtk29vgjAQxt/vUxDez/b4JzWlZpsz2xKXbep8TcpFyQS0wHTffgWZDoGEpHf9QZ8+d8fHx2RrfKPK4ywNTBhQ08BUZlGcrgNzuZje+qaRF2EahdssxcD8wdwcixu+2CjEyRxlqVDcGPrhM8zzcI1GHAWmC57lMc8CF3ygwIYWtcwTV7Nvdx+4v8R1rlEhtIiBxclf2IZmqOQmTIt2ut4K5f7++VWAZTuux0kTdrkE1fNEuJRS0C/l5JTogmmYoFjFCmWoImOCSWbMN9mOk3qjy8usTAv1I3xLH/8XdLFSbcWmKHYjQg6Hw+DQHDCQWcJJtdm+Mem/Mn8rq3TeJ+QYR2L1yLJoMZ29rl5yXLqPn/BO5RebL+l7wElFdL+LwgKFRWEIYFMDYOSwEdic1Pkew5PqjlW9tNundRfaNTLvGrgy/CrX42SplG5DbaWj8XPUBfG4022p/6Eb5ry+8q/fKP7w1NtDstC94IDDwPe1DYyB57tD6vsUXDa0bafqrBrqVRPrkgOjUMuJr+vPyf9TtbTLGFR1rudHDxdpT9cvNqzmnA==</pareq>
      <acs-url>https://c3-test.{domain}/acssim/app/bank</acs-url>
      <cardholder-authentication-status>Y</cardholder-authentication-status>
   </three-d>
   <api-id>elastic-api</api-id>
   <sub-merchant-info>
     <id>12345</id>
      <name>Test Merchant Name</name>
      <street>Test Merchant Street</street>
      <city>Test Merchant City</city>
      <postal-code>55555</postal-code>
      <state>BY</state>
      <country>DE</country>
      <category>Unknown</category>
   </sub-merchant-info>
</payment>
----

.XML Authorization Request (Successful)  
[source,xml]
----
include::samples/xml/CreditCardSamplesPaymentFacilitatorTransactions_XML_AuthorizationRequestSuccessful.xml[]
----

.XML Authorization Response (Successful)  
[source,xml,subs=attributes+]
----
 <payment self="https://{test-instance-hostname}:443/engine/rest/merchants/32bb900b-265b-414f-9971-23f7a0542434/payments/f86e4713-2e88-490a-8bdb-4ded30ec2051" xmlns="http://www.elastic-payments.com/schema/payment" xmlns:ns2="http://www.elastic-payments.com/schema/epa/transaction">
   <merchant-account-id ref="https://{test-instance-hostname}:443/engine/rest/config/merchants/32bb900b-265b-414f-9971-23f7a0542434">32bb900b-265b-414f-9971-23f7a0542434</merchant-account-id>
   <transaction-id>f86e4713-2e88-490a-8bdb-4ded30ec2051</transaction-id>
   <request-id>{{$guid}}</request-id>
   <transaction-type>authorization</transaction-type>
   <transaction-state>success</transaction-state>
   <completion-time-stamp>2017-11-30T09:17:16.000Z</completion-time-stamp>
   <statuses>
      <status code="201.0000" description="3d-acquirer:The resource was successfully created." severity="information" provider-transaction-id="C053364151203343553586"/>
   </statuses>
   <requested-amount currency="USD">1.02</requested-amount>
   <account-holder>
      <first-name>John</first-name>
      <last-name>Doe</last-name>
      <email>John.Doe@test.com/email>
      <phone/>
      <address>
         <street1>Test Street 123</street1>
         <city>Test City</city>
         <state>BY</state>
         <country>DE</country>
      </address>
   </account-holder>
   <card-token>
      <token-id>5659919765200003</token-id>
      <masked-account-number>523205******0003</masked-account-number>
   </card-token>
   <ip-address>127.0.0.1</ip-address>
   <descriptor/>
   <authorization-code>020180</authorization-code>
   <api-id>elastic-api</api-id>
   <sub-merchant-info>
     <id>12345</id>
      <name>Test Merchant Name</name>
      <street>Test Merchant Street</street>
      <city>Test Merchant City</city>
      <postal-code>55555</postal-code>
      <state>BY</state>
      <country>DE</country>
      <category>Unknown</category>
   </sub-merchant-info>
</payment>
----

.XML Purchase Request (Successful)  
[source,xml]
----
include::samples/xml/CreditCardSamplesPaymentFacilitatorTransactions_XML_PurchaseRequestSuccessful.xml[]
----

.XML Purchase Response (Successful)  
[source,xml,subs=attributes+]
----
 <payment self="https://{test-instance-hostname}:443/engine/rest/merchants/33531c0f-81ec-4527-a087-8d395bf8f365/payments/d5e01917-26ba-4527-b7e9-dd6a234b9689" xmlns="http://www.elastic-payments.com/schema/payment" xmlns:ns2="http://www.elastic-payments.com/schema/epa/transaction">
   <merchant-account-id ref="{test-instance-hostname}:443/engine/rest/config/merchants/33531c0f-81ec-4527-a087-8d395bf8f365">33531c0f-81ec-4527-a087-8d395bf8f365</merchant-account-id>
   <transaction-id>d5e01917-26ba-4527-b7e9-dd6a234b9689</transaction-id>
   <request-id>{{$guid}}</request-id>
   <transaction-type>purchase</transaction-type>
   <transaction-state>success</transaction-state>
   <completion-time-stamp>2017-11-30T10:39:28.000Z</completion-time-stamp>
   <statuses>
      <status code="201.0000" description="3d-acquirer:The resource was successfully created." severity="information" provider-transaction-id="C865124151203836800655"/>
   </statuses>
   <avs-code>U</avs-code>
   <csc-code>P</csc-code>
   <requested-amount currency="USD">1.01</requested-amount>
   <account-holder>
      <first-name>John</first-name>
      <last-name>Doe</last-name>
      <email>John.Doe@test.com/email>
      <phone/>
      <address>
         <street1>Test Street 123</street1>
         <city>Test City</city>
         <state>BY</state>
         <country>DE</country>
      </address>
   </account-holder>
   <card-token>
      <token-id>4301349943334485</token-id>
      <masked-account-number>491077******4485</masked-account-number>
   </card-token>
   <ip-address>127.0.0.1</ip-address>
   <descriptor>demo descriptor</descriptor>
   <authorization-code>984887</authorization-code>
   <api-id>elastic-api</api-id>
   <sub-merchant-info>
     <id>12345</id>
      <name>Test Merchant Name</name>
      <street>Test Merchant Street</street>
      <city>Test Merchant City</city>
      <postal-code>55555</postal-code>
      <state>BY</state>
      <country>DE</country>
      <category>Unknown</category>
   </sub-merchant-info>
</payment>
----

[#CreditCard_Samples_PaymentFacilitatorTransactions_NVP]
====== NVP

.NVP Authorization Request (Successful)  
[source,subs=attributes+]
----
POST https://{test-instance-hostname}/engine/rest/payments/ HTTP/1.1
Content-Type: application/x-www-form-urlencoded;charset=UTF-8
Content-Length: 810
Host: {test-instance-hostname}
Connection: Keep-Alive
User-Agent: Apache-HttpClient/4.1.1 (java 1.5)
Authorization: Basic dGVhbWNpdHk6dGVhbWNpdHk=

first_name=WDCP&card_type=visa&transaction_type=authorization&expiration_month=12&account_number=5232050000010003&expiration_year=2025&card_security_code=123&payment_ip_address=127.0.0.1&last_name=Test&email=elastic.engine@test.com&phone=&address_street1=Einsteinring 35&address_street2=&address_city=Munich&address_state=ON&address_country=DE&requested_amount_currency=USD&request_id=d226f84b-4952-4e38-9b13-8743914487b1&merchant_account_id=32bb900b-265b-414f-9971-23f7a0542434&payment_method=creditcard&address_postal_code=M4P1E8&requested_amount=1.02&sub_merchant_info_id=77&sub_merchant_info_name=Hugendubel&sub_merchant_info_street=Einsteinring&sub_merchant_info_city=Muenchen&sub_merchant_info_postal_code=55555&sub_merchant_info_state=BAV&sub_merchant_info_country=DE&sub_merchant_info_category=category
----

.NVP Authorization Response (Successful)  
[source,subs=attributes+]
----
HTTP/1.1 201 Created
Date: Tue, 09 May 2017 12:48:48 GMT
Location: https://{test-instance-hostname}:443/engine/rest/merchants/32bb900b-265b-414f-9971-23f7a0542434/payments/f0ca38b2-d92c-4af1-b57d-68a8683e6ca1
Accept-Charset: big5, big5-hkscs, cesu-8, euc-jp, euc-kr, gb18030, gb2312, gbk, ibm-thai, ibm00858, ibm01140, ibm01141, ibm01142, ibm01143, ibm01144, ibm01145, ibm01146, ibm01147, ibm01148, ibm01149, ibm037, ibm1026, ibm1047, ibm273, ibm277, ibm278, ibm280, ibm284, ibm285, ibm290, ibm297, ibm420, ibm424, ibm437, ibm500, ibm775, ibm850, ibm852, ibm855, ibm857, ibm860, ibm861, ibm862, ibm863, ibm864, ibm865, ibm866, ibm868, ibm869, ibm870, ibm871, ibm918, iso-2022-cn, iso-2022-jp, iso-2022-jp-2, iso-2022-kr, iso-8859-1, iso-8859-13, iso-8859-15, iso-8859-2, iso-8859-3, iso-8859-4, iso-8859-5, iso-8859-6, iso-8859-7, iso-8859-8, iso-8859-9, jis_x0201, jis_x0212-1990, koi8-r, koi8-u, shift_jis, tis-620, us-ascii, utf-16, utf-16be, utf-16le, utf-32, utf-32be, utf-32le, utf-8, windows-1250, windows-1251, windows-1252, windows-1253, windows-1254, windows-1255, windows-1256, windows-1257, windows-1258, windows-31j, x-big5-hkscs-2001, x-big5-solaris, x-compound_text, x-euc-jp-linux, x-euc-tw, x-eucjp-open, x-ibm1006, x-ibm1025, x-ibm1046, x-ibm1097, x-ibm1098, x-ibm1112, x-ibm1122, x-ibm1123, x-ibm1124, x-ibm1166, x-ibm1364, x-ibm1381, x-ibm1383, x-ibm300, x-ibm33722, x-ibm737, x-ibm833, x-ibm834, x-ibm856, x-ibm874, x-ibm875, x-ibm921, x-ibm922, x-ibm930, x-ibm933, x-ibm935, x-ibm937, x-ibm939, x-ibm942, x-ibm942c, x-ibm943, x-ibm943c, x-ibm948, x-ibm949, x-ibm949c, x-ibm950, x-ibm964, x-ibm970, x-iscii91, x-iso-2022-cn-cns, x-iso-2022-cn-gb, x-iso-8859-11, x-jis0208, x-jisautodetect, x-johab, x-macarabic, x-maccentraleurope, x-maccroatian, x-maccyrillic, x-macdingbat, x-macgreek, x-machebrew, x-maciceland, x-macroman, x-macromania, x-macsymbol, x-macthai, x-macturkish, x-macukraine, x-ms932_0213, x-ms950-hkscs, x-ms950-hkscs-xp, x-mswin-936, x-pck, x-sjis_0213, x-utf-16le-bom, x-utf-32be-bom, x-utf-32le-bom, x-windows-50220, x-windows-50221, x-windows-874, x-windows-949, x-windows-950, x-windows-iso2022jp
Content-Type: text/plain;charset=ISO-8859-1
Content-Length: 1106
Connection: close

api_id=elastic-api&sub_merchant_info_id=77&requested_amount=1.02&completion_time_stamp=20170509124848&sub_merchant_info_postal_code=55555&sub_merchant_info_name=Hugendubel&token_id=5875330813740003&authorization_code=541863&merchant_account_id=32bb900b-265b-414f-9971-23f7a0542434&first_name=WDCP&email=elastic.engine%40test.com&payment_method=creditcard&transaction_id=f0ca38b2-d92c-4af1-b57d-68a8683e6ca1&sub_merchant_info_state=BAV&provider_transaction_id_1=C025244149433412712467&status_severity_1=information&last_name=Test&transaction_type=authorization&status_code_1=201.0000&sub_merchant_info_country=DE&masked_account_number=523205******0003&status_description_1=3d-acquirer%3AThe+resource+was+successfully+created.&sub_merchant_info_city=Muenchen&transaction_state=success&self=https%3A%2F%2F{test-instance-hostname}%3A443%2Fengine%2Frest%2Fmerchants%2F32bb900b-265b-414f-9971-23f7a0542434%2Fpayments%2Ff0ca38b2-d92c-4af1-b57d-68a8683e6ca1&requested_amount_currency=USD&sub_merchant_info_category=category&sub_merchant_info_street=Einsteinring&request_id=d226f84b-4952-4e38-9b13-8743914487b1&
----

[#CreditCard_Samples_CheckPayerResponse]
===== Check Payer Response

.XML Check Payer Response Request (Successful)  
[source,xml]
----
include::samples/xml/CreditCardSamplesCheckPayerResponse_CheckPayerResponseRequestSuccessful.xml[]
----

.XML Check Payer Response Response (Successful) 
[source,xml,subs=attributes+]
----
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<payment self="https://{test-instance-hostname}:443/engine/rest/merchants/3e549fd0-50de-11e0-b8af-0800200c9a66/payments/9ef2fd42-a672-11e1-b76c-005056ab0016" xmlns="http://www.elastic-payments.com/schema/payment">
       <merchant-account-id ref="https://{test-instance-hostname}:443/engine/rest/merchants/3e549fd0-50de-11e0-b8af-0800200c9a66">3e549fd0-50de-11e0-b8af-0800200c9a66</merchant-account-id>
       <transaction-id>9ef2fd42-a672-11e1-b76c-005056ab0016</transaction-id>
       <request-id>e0ea66d3-6368-44be-94af-ba91dfa84566</request-id>
       <transaction-type>check-payer-response</transaction-type>
       <transaction-state>success</transaction-state>
       <completion-time-stamp>2019-05-25T14:05:02.748Z</completion-time-stamp>
       <statuses>
             <status code="201.0000" description="3d-acquirer:The resource was successfully created." severity="information"/>
             <status code="200.1083" description="3d-acquirer:Cardholder Successfully authenticated." severity="information"/>
       </statuses>
       <requested-amount currency="USD">1.000000</requested-amount>
       <parent-transaction-id>9e2c1d8a-a672-11e1-b76c-005056ab0016</parent-transaction-id>
       <authorization-code/>
       <three-d>
             <eci>05</eci>
             <xid>V3NMZzNya2N5Vlh2MWRFUno2NjA=</xid>
             <cardholder-authentication-value>AAABD///////////////AAAAAAA=</cardholder-authentication-value>
             <cardholder-authentication-status>Y</cardholder-authentication-status>
       </three-d>
</payment>
----

[#CreditCard_Samples_PaymentRequestPARes]
===== Payment Request with PARes


.XML Purchase (Payment Request with PARes) Request (Successful)
[source,xml]
----
include::samples/xml/CreditCardSamplesPaymentRequestPARes_PurchasePaymentRequestWithPAResRequestSuccessful.xml[]
----

.XML Purchase (Payment Request with PARes) Response (Successful)
[source,xml,subs=attributes+]
----
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<payment xmlns:ns2="http://www.elastic-payments.com/schema/payment" xmlns:ns3="http://www.elastic-payments.com/schema/config" self="https://{test-instance-hostname}:443/engine/rest/merchants/3e549fd0-50de-11e0-b8af-0800200c9a66/payments/dd363df2-74e2-11e0-877b-005056ab0016">
       <merchant-account-id ref="https://{test-instance-hostname}:443/engine/rest/merchants/3e549fd0-50de-11e0-b8af-0800200c9a66">3e549fd0-50de-11e0-b8af-0800200c9a66</merchant-account-id>
       <transaction-id>dd363df2-74e2-11e0-877b-005056ab0016</transaction-id>
       <request-id>fbeee5af-8329-48ad-af9e-3aaca489520a</request-id>
       <transaction-type>purchase</transaction-type>
       <transaction-state>success</transaction-state>
       <completion-time-stamp>2011-05-02T16:47:08.264Z</completion-time-stamp>
       <statuses>
             <status severity="information" description="wirecard:The request completed successfully." code="200.0000"/>
             <status severity="information" description="wirecard: 3D: Cardholder Successfully authenticated." code="200.1083"/>
       </statuses>
       <requested-amount currency="EUR">1.000000</requested-amount>
      <parent-transaction-id>dcc9947c-74e2-11e0-877b-005056ab0016</parent-transaction-id>
      <auth-code>077863</auth-code>
       <three-d>
             <cardholder-authentication-status>Y</cardholder-authentication-status>
       </three-d>
</payment>
----

[#CreditCard_Samples_PaymentRequest3rdPartyMPI]
===== Payment Request with 3rd Party MPI

.XML Purchase (Payment Request with 3rd Party MPI) Request
[source,xml]
----
include::samples/xml/CreditCardSamplesPaymentRequest3rdPartyMPI_PurchasePaymentRequestWith3RdParty_MPI_Request.xml[]
----
