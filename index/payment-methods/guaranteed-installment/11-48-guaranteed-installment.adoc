[#GuaranteedInstallment]
=== Guaranteed Installments

[#GuaranteedInstallment_GeneralInformation]
==== General Information

[#GuaranteedInstallment_CountriesandCurrencies]
===== Payment Mode, Countries and Currencies

This table illustrates which payment mode _Guaranteed Installments_ belongs to. It also provides detailed
information about the countries and currencies which are relevant for
_Guaranteed Installments._

[%autowidth,stripes=none,cols="h,"]
|===
| Payment Mode | <<PaymentMethods_PaymentMode_OfflineBankTransfer, Offline Bank Transfer>>
| Countries    | DE, AT, CH 
| Currencies   | EUR, CHF
|===

[#GuaranteedInstallment_Communication]
===== Communication Formats

This table illustrates how _Guaranteed Installments_ notifications are encoded and which formats and methods can be
used for requests and responses.

[%autowidth,stripes=none]
|===
.2+h| Requests/Responses | Format  | XML
                         | Methods | POST
   h| IPN Encodement   2+| Please follow the instructions given at <<GeneralPlatformFeatures_IPN, Instant Payment Notification>> to set up IPN.
|===

[#GuaranteedInstallment_TransactionTypes]
==== Transaction Types

For <<Glossary_TransactionType, transaction type>> details which are not given here, look
at <<AppendixB, AppendixB: Transaction Types>>.


[%autowidth,stripes=none, cols="e,,"]
|===
|Transaction Type | Description | Link to samples

|_authorization_    | Performs a creditworthiness check at the moment when
                    consumer makes an order. All order items must be listed for the shopping
                    basket. The _authorization_ amount must match the value of the items in
                    the basket.
                                | <<GuaranteedInstallment_Samples_Authorization, _authorization_ samples>>

|_capture-authorization_ | Used to capture the reserved funds at the moment
                         when some or all goods are physically delivered to the consumer.
                         Available only on successful _authorization_ response which wasn't voided
                         nor fully captured. Partial (and multiple) capture is allowed, until
                         the _authorization_ limit is not exceeded. Basket items only lists the
                         items that were delivered to the consumer in this delivery, not the ones
                         that were delivered before or are waiting to be delivered. The total
                         amount of the capture must be the value of the items in the basket.
                                | <<GuaranteedInstallment_Samples_CaptureAuthorization, _capture-authorization_ samples>>

|_void-authorization_ | Used when the consumer wishes to cancel some or all
                      (not yet shipped) items from the order. Available only for a successful
                      _authorization_ response which was not yet voided or captured. Partial and
                      multiple void are allowed, until all items from the order are canceled
                      or shipped. Basket items only list those items which are being canceled from the order.
                                | <<GuaranteedInstallment_Samples_VoidAuthorization, _void-authorization_ samples>>

|_refund-capture_ | Used when the consumer wishes to return some or all
                  delivered goods. Available on a successful _capture-authorization_.
                  Partial and multiple refunds are allowed, until all delivered items have
                  been returned. Basket items list only those items which are being returned to the merchant.
                                | <<GuaranteedInstallment_Samples_RefundCapture, _refund-capture_ samples>>

|_credit_ | Used when merchant wishes to grant a discount on an existing
          order. Items from this order may already be delivered to the consumer.
          Available on a successful _capture-authorization_. Multiple credits are
          allowed, but the overall sum of credits must not exceed the value of the
          delivered goods to the consumer. The credit transaction must include a
          basket item representing the discount. The credit transaction must refer
          to the successful _authorization_ ``transaction-id``.
                                | <<GuaranteedInstallment_Samples_Credit, _credit_ samples>>
|===

[NOTE]
====
. <<GuaranteedInstallment_Features_BasketItemsDetails, Basket items>>  must be specified in every request. +
. The response for each _authorization_ request returns an individual string (an alphanumerical code) in the field ``descriptor``. +
. The descriptor must be printed on all invoice documents and saved by the shop (used by consumers in bank transfers; German: "Verwendungszweck").­­ +
. _capture-authorization_ transactions have to follow a successful _authorization_ on the same day the goods are dispatched. +
. The period between _authorization_ and the first _capture-authorization_ must be at least 4 hours. +
. Merchants can request several partial _capture-authorization_ transactions if the goods are shipped in separate shipments. +

//-
====

[#GuaranteedInstallment_TestCredentials]
==== Test Credentials

[stripes=none,cols="20,40,40"]
|===
.2+h| URLs (Endpoint)           |_authorization_| `\https://{test-instance-hostname}/engine/rest/paymentmethods`
|_capture-authorization_ +
_credit_ +
_refund-capture_ +
_void-authorization_|`\https://{test-instance-hostname}/engine/rest/payments`
2+h| Merchant Account ID (MAID) | 9df7b8a6-546a-4e01-9fe5-ccc3ae54b23e
2+h| Username                   | 16390-testing
2+h| Password                   | 3!3013=D3fD8X7
|===

//-

[#GuaranteedInstallment_TestCredentials_Additional]
.Banking Credentials

[cols="20h,80"]
|===
| IBAN
| DE42512308000000060004

| BIC
|WIREDEMMXXX
|===

//-

[#GuaranteedInstallment_Workflow]
==== Workflow

[mermaid, GuaranteedInstallment_workflow,svg,subs=attributes+]
----
sequenceDiagram
    participant Consumer
    participant Merchant
    participant {payment-gateway-abbr}
    participant {payment-provider-name} Bank
Consumer->>Consumer: adds items to shopping basket
Consumer->>Consumer: selects Guaranteed Installment
Consumer->>Merchant: proceeds to checkout
Merchant->>{payment-gateway-abbr}: sends authorization request
{payment-gateway-abbr}->>{payment-gateway-abbr}: generates descriptor
{payment-gateway-abbr}->>Merchant: sends authorization response
Merchant->>{payment-gateway-abbr}: sends a capture request
{payment-gateway-abbr}->>{payment-gateway-abbr}: generates invoice
{payment-gateway-abbr}->>{payment-provider-name} Bank: informs
{payment-provider-name} Bank->>{payment-provider-name} Bank: collects the transaction amount
----

. Consumer adds items to shopping basket.
. Consumer selects the payment method _Guaranteed Installments._
.. Selects duration and rate of payment.
. Consumer proceeds to checkout.
. Merchant sends an _authorization_ request including basket items to {payment-gateway-abbr}.
. {payment-gateway-abbr} generates a descriptor.
..  Descriptor is an alphanumerical code, starting with DG.
. {payment-gateway-abbr} sends _authorization_ response to merchant. 
.. The _authorization_ response includes the descriptor.
. Merchant sends a _capture_ request to {payment-gateway-abbr} when the basket items are ready for delivery.
. After a successful _capture_ request, {payment-gateway-abbr} generates the invoice, including the descriptor.
.. NOTE: Alternatively the invoice can also be generated by merchant.
. Invoice generator informs {payment-provider-name} Bank.
. {payment-provider-name} Bank collects the transaction amount from consumer's bank account.
. If any payment changes are necessary, the following transaction types are available: _credit_, _refund-capture_ or _void-authorization_.

//-

[#GuaranteedInstallment_Fields]
==== Fields

The field table lists the elements either *M* (mandatory), *O* (optional) or *M/O* (if mandatory in a certain context. This context is explained in the "Description" column). Please provide the data accordingly to guarantee a successful request with _Guaranteed Installments_ (complete field list available in <<RestApi_Fields, REST API field list>>).

[%autowidth,stripes=none, cols="v,,,,"]
|===
| Field  | Cardinality  | Datatype  | Size  | Description

5+a|
*payment.*

|[[GuaranteedInstallment_Fields_Payment]]_merchant-account-id_
|M
|String
|36
|Unique identifier for a merchant account

|_request-id_
|M
|String
|150
|This is the identification number of the request. It has to be unique for each request.

|_transaction-type_
|M
|String
|30
|This is the type for a transaction: _authorization_, _capture_, _void-authorization_, _refund-capture_ and _credit_ are supported for _Guaranteed Installments_.

|_requested-amount_
|M
|Numeric
|18,3
|This is the amount of the transaction. The amount of the decimal place depends on the currency. The amount must be between a defined minimum value and a defined maximum value.

|_requested-amount@currency_
|M
|String
|3
|This is the currency of the transaction. For Germany and Austria, only ``EUR`` is allowed. Switzerland additionally accepts ``CHF``.

|_order-detail_
|O
|String
|65535
|Details of the order filled by the merchant.

|_order-number_
|M
|String
|64
|The order number from the merchant.

|_consumer-id_
|O
|String
|50 
|Merchant's identifier for the consumer.

|_locale_
|O 
|String
|5
|It is used to control the language of the consumer message and the correspondence to the consumer. Allowed values: +
``fr`` (French) +
``en`` (English) +
``nl`` (Dutch) +
``de`` (German) +
If empty or sent with a wrong value, ``de`` is used by default.

5+a|
*payment.invoice.*

|[[GuaranteedInstallment_Fields_Invoice]]_invoice-number_
|o
|String
|32
|Merchant’s invoice identifier, optional for _capture-authorization_ request.

5+a|
*payment.payment-methods.*

|[[GuaranteedInstallment_Fields_PaymentMethods]]_payment-method@name_
|M
|String
|15
|The name of the Payment Method is ``ratepay-install``.

5+a|
*payment.account-holder.*

|[[GuaranteedInstallment_Fields_AccountHolder]]_first-name_
|M
|String
|32 
|Account holder's first name.

|_last-name_
|M
|String
|32 
|Account holder's last name.

|_email_
|M
|String
|64 
|Account holder's email address.

|_phone_
|M
|String
|32 
|Account holder's phone number.

|_date-of-birth_
|M
|String
|10 
|Account holder's date of birth. Format (according to ISO 8601): YYYY-MM-DD +
This format cannot be customized.

|_gender_
|O
|Enumeration
|1 
|Account holder's gender.

5+a|
*payment.account-holder.address.*

|[[GuaranteedInstallment_Fields_AccountHolderAddress]]_street1_
|M
|String
|128 
|The first line of the street address of the account holder. Must include house number.

|_street2_
|O
|String
|128 
|The second line of the street address of the account holder.

|_city_
|M
|String
|32 
|The city of the address of the account holder.

|_state_
|O
|String
|32 
|The state or province of the address of the account holder.

|_country_
|M
|String 
|2
|The country id of the address of the account holder. The two-letter country code follows ISO 3166-1 alpha-2.

|_postal-code_
|M
|String
|16 
|The postal code or ZIP of the address of the account holder.

4+a|
*payment.bank-account.*

|Consumer's bank account details.

|[[GuaranteedInstallment_Fields_BankAccount]]_bank-name_
|M
|String
|100 
|The name of the consumer’s bank.

|_iban_
|M/O
|String
|34 
|The international bank account number (IBAN) required in a bank transfer. It is an international standard for identifying bank accounts across national borders. The current standard is ISO 13616:2007, which indicates SWIFT as the formal registrar. +
Allowed characters: [a-zA-Z]{2}[0-9]{2}[a-zA-Z0-9]{4}[0-9]{7}([a-zA-Z0-9]?){0,16}. +
Mandatory if ``account-number`` is not used

|_bic_
|M/O
|String
|15 
|The bank identifier code (BIC) in bank transfer. +
Allowed characters: ([a-zA-Z]{4}[a-zA-Z]{2}[a-zA-Z0-9]{2}([a-zA-Z0-9]{3}). +
Mandatory if ``iban`` is used

|_account-number_
|M/O
|String
|34 
|The number designating a bank account used nationally. +
Mandatory if ``iban`` is not used

|_bank-code_
|M/O
|String
|15 
|The national bank sorting code for national bank transfers. +
Mandatory if ``account-number`` is used

5+a|
*payment.order-items.order-item.*

|[[GuaranteedInstallment_Fields_OrderItems]]_name_
|M
|String
|256
|Name of the item in the basket.

|_article-number_
|M
|String
|256
|EAN or other article identifier for merchant.

|_amount_
|M
|Decimal
|18.3
|Item's price per unit.

|_tax-rate_
|M
|Decimal
|18.3
|Item's tax rate per unit.

|_quantity_
|M
|Number
|5
|Total count of items in the order.

4+a|
*payment.shipping.*

|Shipping fields have to match the billing address (specified as <<GuaranteedInstallment_Fields_AccountHolder, account-holder>>).

|
[[GuaranteedInstallment_Fields_Shipping]]_first-name_
|O
|String
|32 
|The first name of the shipping address.

|_last-name_
|O
|String
|32 
|The last name of the shipping address.

|_phone_
|O
|String
|32 
|The phone number of the shipping address.

4+a|
*payment.shipping.address.*

|[[GuaranteedInstallment_Fields_ShippingAaddress]]_shipping.address_ fields have to match the billing address (specified as <<GuaranteedInstallment_Fields_AccountHolderAddress, account-holder.address>>).

|_street1_
|O
|String
|128 
|The first line of the shipping address.

|_street2_
|O
|String
|128 
|The second line of the shipping address.

|_city_
|O
|String
|32 
|The city of the shipping address.

|_state_
|O
|String
|32 
|The state or province of the shipping address.

|_country_
|O
|String
|2
|The country id of the address of the shipping address. The two-letter country code follows ISO 3166-1 alpha-2.

|_postal-code_
|O
|String
|16 
|The postal code or ZIP of the shipping address.

5+a|
*payment.device.*

|[[GuaranteedInstallment_Fields_Device]]_fingerprint_
|M/O
|String
|4096 
|Device fingerprinting token that was used in merchant's online shop to track this transaction. Fingerprints can be used to fully or partially identify individual users or devices even when cookies are turned off. +
It is mandatory for _authorization_.

a|
*payment.custom-fields.*
4+| All custom fields are needed for mapping the authorization. Therefore they all are mandatory for _authorization_.

|[[GuaranteedInstallment_Fields_Custom]] _custom-field@name="total-amount"_
|M
|Decimal
|18,3
|custom-field@value=installment-calculator-response/installments/installment/details/total-amount

|_custom-field@name="interest-rate"_
|M
|Decimal
|18,3
|custom-field@value= installment-calculator-response/installments/installment/details/interest-rate

|_custom-field@name="number-of-rates"_
|M
|Number 
|5
|custom-field@value= installment-calculator-response/installments/installment/details/number-of-rates

|_custom-field@name="rate"_
|M
|Number
|5
|custom-field@value= installment-calculator-response/installments/installment/details/rate

|_custom-field@name="last-rate"_
|M
|Number
|5
|custom-field@value=installment-calculator-response/installments/installment/details/last-rate

|_custom-field@name="payment-firstday"_
|M
|Number
|5
|custom-field@value= installment-calculator-response/installments/installment/details/payment-first-day
|===

//-

[#GuaranteedInstallment_Config]
==== Guaranteed Installment Configuration

You can use the installment configuration service to configurate installment plan parameters tailored for your merchant profile.

[#GuaranteedInstallment_Features_Config_Communication]
===== Communication Formats

This table illustrates in which formats and methods the Installment Configuration service can be used for requests and responses.

[%autowidth,stripes=none]
|===
.2+h| Requests/Responses | Format  | XML, JSON
                         | Methods | POST

|===

[#GuaranteedInstallment_Config_TestCredentials]
===== Test Credentials

[%autowidth,stripes=none]
|===
h| URL (Endpoint)             | `\https://{test-instance-hostname}/engine/rest/utils/installmentconfiguration`
h| Merchant Account ID (MAID) | 9df7b8a6-546a-4e01-9fe5-ccc3ae54b23e 
|===

//-

[#GuaranteedInstallment_Features_Config_Fields]
===== Fields

.Request
[%autowidth,stripes=none, cols="v,,,,"]
|===
| Field | Cardinality | Datatype | Size | Description 

5+a|
*installment-configuration-request.*
|payment-method|M|String|15|The name of the Payment Method name is ``ratepay-install``.
|merchant-account-id|M|String|36|Merchant account ID

|===

.Response

[%autowidth,stripes=none, cols="v,,"]
|===
| Field | Datatype | Description 

3+a|

NOTE: We show this table without _Size_ values as you receive the response directly from _Guaranteed_ and we cannot provide this information.

a|*installment-configuration-response.statuses.status*
2+|These fields describe the structure of the response statuses.
|code (attribute of ``status``)|String|The status code of the response (Example: 200.0000).
|description (attribute of ``status``)|String|The description to the status code of the response (Example: "Successful Response").
|severity (attribute of ``status``)|String|This field gives information if a status is an error or an information. Values can be +
``information`` +
``warning``.

3+a|*installment-configuration-response.configuration.*
|interest-rate-default|Decimal|Default interest-rate which will be used if submitted interest-rate (in CALCULATION_REQUEST) is invalid (Example: 13.7).
|interest-rate-min|Decimal|Minimum interest-rate (Example: 5.00).
|interest-rate-max|Decimal|Maximum interest-rate (Example: 10.50).
|interest-rate-merchant2bank|Decimal|The interest-rate defined contractually between the merchant and the factoring entity (Example: 15.00).
|month-number-min|Number|Minimum duration of installment plan (Example: 2).
|month-number-max|Number|Maximum duration of installment plan (Example: 2).
|month-longrun|Number|Minimum duration of a long run installment plan (Example: 24).
|amount-min-longrun|Decimal|Minimum amount for long run installment plan.
|month-allowed|String|Comma separated list of allowed durations, stated in months (Example: 3,6,7,8,9,10,11,12,24,36).
|valid-payment-firstdays|String|Comma separated list of calendar days which are allowed as starting days of the installment plan (Example: 1,15,28).
|payment-firstday|Number|Default calendar day of the first payment (Example: 28).
|payment-amount|Decimal|Minimum payment amount (Example: 200.55).
|payment-lastrate|Decimal|Minimum amount of last payment rate. Otherwise this amount will be added to the last but one rate (Example: 89.24).
|rate-min-normal|Decimal|Minimum rate of a normal installment plan (Example: 5.00).
|rate-min-longrun|Decimal|Minimum rate of a long running installment plan (Example: 4.00).
|service-charge|Decimal|Additional costs of financing (Example: 1.95).
|min-difference-dueday|Number|Minimum difference in days until due date (Example: 20).
|name|String|Name of installment calculation (Example: DEFAULT).
|type|String|Type of installment calculation (Example: profileId).

|===

//-

[#GuaranteedInstallment_Features_InstallCalc]
==== Installment Calculator

The installment calculator service provides the list of available installment plans.

_Guaranteed Installments_ supports two different installment plans:

* Calculation by rate
* Calculation by time

//-

You show this list to the consumer and the consumer decides which plan suits best to pay the purchased amount.

[#GuaranteedInstallment_Features_InstallCalc_Communication]
===== Communication Formats

This table illustrates in which formats and methods the Installment Calculator service can be used for requests and responses.

[%autowidth,stripes=none]
|===
.2+h| Requests/Responses | Format  | XML, JSON
                         | Methods | POST

|===

[#GuaranteedInstallment_InstallCalc_TestCredentials]
===== Test Credentials

[%autowidth,stripes=none]
|===
h| URL (Endpoint)             | `\https://{test-instance-hostname}/engine/rest/utils/installmentcalculator`
h| Merchant Account ID (MAID) | 9df7b8a6-546a-4e01-9fe5-ccc3ae54b23e
|===

//do I use the MAID mentioned above or the one used in the Installment Calculator samples?

//-

[#GuaranteedInstallment_Features_InstallCalc_Fields]
===== Fields

.Request
[%autowidth,stripes=none, cols="v,,,,"]
|===
| Field | Cardinality | Datatype | Size | Description 

5+a|
*installment-calculator-request.*
|payment-method|M|String|15|The payment method to calculate the installment for. Must be _ratepay-install_.
|merchant-account-id|M|String|36|Merchant account ID. Must follow a pattern like: 815c32ab-486d-4e4c-baf8-f412e2e4e9b8.
|amount|M|Decimal| Size ????? |Full amount of the purchase. Must be in the format of _Money_ (Example: 100.00)
|currency (attribute of ``amount``)|M|String|3|The currency of the purchase. _Guaranteed Installments_ requires EUR.
|rate|M/O|Decimal| Size ?????|Monthly rate which the consumer wants to pay. Must be in the format of _Money_ (Example: 25.00). It is *mandatory* for  for calculation by rate. It must not be used when calculating the installment plan by time.
|currency (attribute of ``rate``)|M|String|3|The currency of  the rate. _Guaranteed Installments_ requires EUR.
|months|M/O|Decimal|Size ?????|Number of months to cover the duration of the installment plan. It is *mandatory* for calculation by time. It must not be used when calculating the installment plan by rate.
|===

//-

.Response
[%autowidth,stripes=none, cols="v,,"]
|===
| Field | Datatype | Description 

3+a|

NOTE: We show this table without _Size_ values as you receive the response directly from _Guaranteed_ and we cannot provide this information.

3+a|
*installment-calculator-response.*
|amount|Decimal |Full amount of the purchase. Must be in the format of _Money_ (Example: 100.00)
|currency (attribute of ``amount``)|String|The currency of the purchase. _Guaranteed Installments_ requires EUR.
|rate|Decimal|Monthly rate which the consumer wants to pay. Must be in the format of _Money_ (Example: 25.00).
|currency (attribute of ``rate``)|String|The currency of  the rate. _Guaranteed Installments_ requires EUR.
|state|String| The state of the response. Values can be +
``success`` +
``failed``.

a|
*installment-calculator-response.statuses.status.*

2+|These fields describe the structure of the response statuses.

|code (attribute of ``status``)|String|The status code of the response (Example: 200.0000)
|description (attribute of ``status``)|String |The description to the status code of the response (Example: "Successful Response")
|severity (attribute of ``status``)|String|This field informs about the status of the transaction. Values can be +
``information`` +
``error``.

a|
*installment-calculator-response.installments.installment.details.*

3+|These fields describe the structure of the available installment plans which are sent in the response. It is a breakdown of fees and other information about the corresponding installment plan.

|interest-rate|Decimal|Interest-rate which will be used to calculate the annual percentage rate (Example: 12.9).
|monthly-debit-interest|Decimal|Monthly interest rates based on ``interest-rate`` (Example: 1.02).
|service-charge|Decimal|Additional costs of financing (Example: 1.95).
|rate|Decimal|Monthly rate the consumer has to pay (Example: 89.35).
|annual-percentage-rate|Decimal|The annual percentage rate is based on ``service-charge`` and ``interest-rate`` (Example: 12.25).
|number-of-rates|Number|Number of months to cover the duration of the installment plan.
|amount|Decimal|Price that has to be financed (Example: 1000.00).
|interest-amount|Decimal|Total of all monthly paid interests (Example: 72.09).
|total-amount|Decimal|Total of amount, adding up ``interest-amount`` and ``service-charge`` (Example: 1074.04).
|last-rate|Decimal|Last rate which the consumer has to pay (Example: 89.24).
|payment-first-day|Number|Calendar day of the first payment.

|===

//-

[#GuaranteedInstallment_Features]
==== Features

[#GuaranteedInstallment_Features_BasketItemsDetails]
===== Basket Items Details

Basket items details must be <<GuaranteedInstallment_Fields_OrderItems, sent along with every request>>. Content of
the shopping basket depends on the location of the items.
There can be 3 different locations:

* the (distribution) storage of the merchant,
* the delivery (items are „on the road"); and
* home of the consumer.

//-

The shopping basket always contains the items that are being authorized
(ordered), captured (delivered), voided (canceled), refunded (returned)
or credited depending to the transaction type.

The detailed items of the shopping basket will be stored as a part of
payment details on provider and they can be obtained from _{payment-gateway}_ later as part of transaction details.

[#GuaranteedInstallment_Samples]
==== Samples

[#GuaranteedInstallment_Samples_Configuration]
===== Installment Configuration

[#GuaranteedInstallment_Samples_Config_xml]
====== XML Configuration 

//// 
.Request
[source,xml,subs=attributes+]
----
include::samples/xml/.xml[]
----

.Response
[source,xml,subs=attributes+]
----
include::samples/xml/.xml[]
----

[#GuaranteedInstallment_Samples_Config_json]
====== JSON Configuration 

.Request
[source,json,subs=attributes+]
----
include::samples/xml/.xml[]
----

.Response
[source,json,subs=attributes+]
----
include::samples/xml/.xml[]
----
////

[#GuaranteedInstallment_Samples_InstCalc]
===== Installment Calculator

//// 
How do I send these samples?
////

[#GuaranteedInstallment_Samples_InstCalc_xml_rate]
====== XML Calculation by Rate 

.Request
[source,xml,subs=attributes+]
----
include::samples/xml/ratepay-installment_install-calculator-rate_request_success.xml[]
----

.Response
[source,xml,subs=attributes+]
----
include::samples/xml/ratepay-installment_install-calculator-rate_response_success.xml[]
----

[#GuaranteedInstallment_Samples_InstCalc_xml_time]
====== XML Calculation by Time 

.Request
[source,xml,subs=attributes+]
----
include::samples/xml/ratepay-installment_install-calculator-time_request_success.xml[]
----

.Response
[source,xml,subs=attributes+]
----
include::samples/xml/ratepay-installment_install-calculator-time_response_success.xml[]
----

[#GuaranteedInstallment_Samples_InstCalc_json_rate]
====== JSON Calculation by Rate 

.Request
[source,json,subs=attributes+]
----
include::samples/json/ratepay-installment_install-calculator-rate_request_success.json[]
----

.Response
[source,json,subs=attributes+]
----
include::samples/json/ratepay-installment_install-calculator-rate_response_success.json[]
----

[#GuaranteedInstallment_Samples_InstCalc_json_time]
====== JSON Calculation by Time 

.Request
[source,json,subs=attributes+]
----
include::samples/json/ratepay-installment_install-calculator-time_request_success.json[]
----

.Response
[source,json,subs=attributes+]
----
include::samples/json/ratepay-installment_install-calculator-time_response_success.json[]
----

[#GuaranteedInstallment_Samples_Payment]
===== _Guaranteed Installments_ payment

Click <<GeneralPlatformFeatures_IPN_NotificationExamples, here>> for corresponding notification samples.

[#GuaranteedInstallment_Samples_Authorization]
====== _authorization_

.XML authorization Request (Successful)
[source,xml,subs=attributes+]
----
include::samples/xml/ratepay-installment_authorization_request_success.xml[]
----

.XML authorization Response (Successful)
[source,xml,subs=attributes+]
----
include::samples/xml/ratepay-installment_authorization_response_success.xml[]
----

[#GuaranteedInstallment_Samples_CaptureAuthorization]
====== _capture-authorization_

.XML capture-authorization Request (Successful)
[source,xml,subs=attributes+]
----
include::samples/xml/ratepay-installment_capture-authorization_request_success.xml[]
----

.XML capture-authorization Response (Successful)
[source,xml,subs=attributes+]
----
include::samples/xml/ratepay-installment_capture-authorization_response_success.xml[]
----

[#GuaranteedInstallment_Samples_Credit]
====== _credit_

.XML credit Request (Successful)
[source,xml,subs=attributes+]
----
include::samples/xml/ratepay-installment_credit_request_success.xml[]
----

.XML credit Response (Successful)
[source,xml,subs=attributes+]
----
include::samples/xml/ratepay-installment_credit_response_success.xml[]
----

[#GuaranteedInstallment_Samples_RefundCapture]
====== _refund-capture_

.XML refund-capture Request (Successful)
[source,xml,subs=attributes+]
----
include::samples/xml/ratepay-installment_refund-capture_request_success.xml[]
----

.XML refund-capture Response (Successful)
[source,xml,subs=attributes+]
----
include::samples/xml/ratepay-installment_refund-capture_response_success.xml[]
----


[#GuaranteedInstallment_Samples_VoidAuthorization]
====== _void-authorization_

.XML void-authorization Request (Successful)
[source,xml,subs=attributes+]
----
include::samples/xml/ratepay-installment_void-authorization_request_success.xml[]
----

.XML void-authorization Response (Successful)

[source,xml,subs=attributes+]
----
include::samples/xml/ratepay-installment_void-authorization_response_success.xml[]
----

//-