[#PaysavePayLater]
== REST API
_Paysafe Pay Later™_ (formerly known as _payolution_) is a type of <<PaymentMethods_PaymentMode_OfflineBankTransfer, Offline Bank Transfer>>.

[#PaysavePayLater_SpecificPaymentMethods]
_Paysafe Pay Later™_ offers 4 payment methods: 

* **``payolution-b2b``** +
    ** Payment on invoice. 
    ** For B2B transactions only.
    ** You have to provide the company name.
//-
* **``payolution-elv``** +
    ** SEPA direct debit payment. 
    ** You have to provide IBAN (and BIC) of the consumer.
//-
* **``payolution-inv``** +
    ** Payment on invoice. 
    ** For B2C transactions only.
    ** You have to provide the consumer's date of birth.
//-
* **``payolution-inst``** +
    ** Payment in installments. 
    ** For B2C transactions only.
//-

[#PaysavePayLater_CountriesandCurrencies]
=== Countries and Currencies
[width=75%,cols=",,",stripes=none]
|===
.4+h| Countries
| Invoice B2C
| AT, DE, CH, NL
| Invoice B2B
| AT, DE, CH
| Installment
| AT, DE, CH
| Direct Debit
| AT, DE, CH
h| Currencies
2+| EUR, CHF
|===

[#PaysavePayLater_CommunicationFormats]
=== Communication Formats
This table illustrates how _Paysafe Pay Later™_ notifications are encoded and
which formats and methods can be used for requests and responses.
[width=75%,stripes=none,cols=",,"]
|===
.2+h|Requests/Responses
|Format
|XML
|Methods
|POST
h|IPN Encodement
2+|Please follow the instructions given at <<GeneralPlatformFeatures_IPN, Instant Payment Notification>> to set up IPN.
|===

[#PaysavePayLater_Transactions]
=== Transaction Types

[%autowidth,cols="m,a,""]
|===
| Transaction Type | Description | Link to the Samples

| authorization
| Checks the consumer's creditworthiness when they place an order.
| <<PaysavePayLater_Samples_authorization, authorization samples>>

| capture-authorization
| Captures the funds reserved in a preceding authorization the moment
some or all goods are physically delivered to the consumer. +
You can only capture amounts that have been authorized successfully and neither voided nor fully captured. +
Partial and multiple captures are allowed as long as you do not exceed the authorization limit. 
| <<PaysavePayLater_Samples_captureAuthorization, capture-authorization samples>>

| debit
| Authorizes and captures a payment in one go. +
Triggers fund transfer. +
| <<PaysavePayLater_Samples_authorization, debit samples>>

| void-authorization
| Cancels a reserved order amount totally or partially if has not been captured before. +
Once canceled, no further operations on the order are possible. +
You can only cancel successful authorizations that have been neither voided nor
captured. +
Partial and multiple voids are allowed until all ordered items
are canceled or captured. +
Not available for payment method ``payolution-inv``.
| <<PaysavePayLater_Samples_voidAuthorization, void-authorization samples>>

| refund-capture
| Refunds a captured order amount if the consumer returns some or all delivered goods. +
You can only refund amounts that have been captured successfully. +
Partial and multiple refunds are allowed until the whole captured amount has been refunded (i.e. all delivered items have been returned.)
| <<PaysavePayLater_Samples_refundCapture, refund-capture samples>>

| add-data
| Adds information to a previous transaction. You can add

** invoice ID
** order ID
** shipping company
** tracking ID (for purchases and returns)
** delivery date (for purchases and returns)
** additional merchant information
//-

This is useful to 

* add information that was not available at the time ot the previous transaction.
* inform Paysafe Pay Later™ about delivery date changes. This prevents from sending unjustified reminders to consumers.
//-
You can only add information to a successful capture-authorization transaction.

| <<PaysavePayLater_Samples_addData, add-data samples>>

| authorization-only
| Checks if _Paysafe Pay Later™_ accepts the consumer. +
This pre-check can save you the effort of displaying installment plans to consumers who would be rejected in a payment process. 
| <<PaysavePayLater_Samples_authorizationOnly, authorization-only samples >>

| adjust-authorization
| Updates the amount of a preceding authorization. +
You can only adjust authorizations that have not yet been captured. +
For ``_Paysafe Pay Later™_-inst``, you can only add information to a preceding authorization request. You can change neither amount nor number of installments.
|

| calculate
| Returns installment plans for a specified amount.
| <<PaysavePayLater_Samples_calculate, calculate samples >>

|===
 
[#PaysavePayLater_TestCredentials]
=== Test Credentials

[cols=",,"]
[%autowidth]
[stripes=none]
|===
.3+h| URLs (Endpoints)
a| For transaction types 

* ``authorization``.
* ``debit``
//-
| ``\https://{test-instance-hostname}/engine/rest/paymentmethods/``
a| For transaction types 

* ``add-data``
* ``adjust-authorization``
* ``authorization-only``
* ``capture-authorization``
* ``refund-capture``
* ``void-authorization``
//-
| ``\https://{test-instance-hostname}/engine/rest/payments/``
| For transaction type ``calculate``
| ``\https://api-test.wirecard.com/engine/rest/utils/installmentcalculator``
h| Merchant Account ID (MAID)
2+| 2048677d-57f4-44b0-8d67-9014c6631d5f
h| Username
2+| 16390-testing
h| Password
2+| 3!3013=D3fD8X7
h| Secret Key
2+| 74bd2f0c-6d1b-4e9a-b278-abc34b83ab9f
|===

.Additional Test Credentials on _Paysafe Pay Later™_ Environment

[%autowidth, cols= "h,"]
|===
|German Bank Account
|IBAN: DE55203205008737970454 +
BIC: DABADEHHXXX
|Austrian Bank Account
|IBAN: AT321936000136412018 +
BIC: INGDAT21XXX
|Swiss Bank Account
|Not necessary on test environment.
|Netherlands
|Installment not supported for consumers from the Netherlands.
|===

[#PaysavePayLater_Workflow]
=== Workflow

[#PaysavePayLater_ELV]
==== Direct Debit (``payolution-elv``) - debit Workflow

image::images/11-23-payolution/payolution_elv_debit.png[payolution direct debit, width=950]

. Consumer selects payment method SEPA Direct Debit (by _Paysafe Pay Later™_).
. -> Send a ``debit`` request to __{payment-gateway}_ ({payment-gateway-abbr})_  . +
This request must contain ``payment-method@name`` = ``payolution-elv`` and the consumer's ``iban`` and ``bic``.
. _{payment-gateway-abbr}_ processes the request and forwards it to _Paysafe Pay Later™_.
. _Paysafe Pay Later™_ runs risk checks. If the request passes, _Paysafe Pay Later™_ forwards it to the consumer's bank.
. The consumer's bank debits the consumer's account and transfers funds to _Paysafe Pay Later™_. 
. _Paysafe Pay Later™_ sends a response to _{payment-gateway-abbr}_ and transfers funds to merchant account.
. _{payment-gateway-abbr}_ informs you about the transaction outcome.
. -> Inform the consumer about the transaction outcome.
//-

[#PaysavePayLater_InvoiceB2C]
==== Invoice B2C (``payolution-b2c``) - authorization, capture-authorization Workflow

image::images/11-23-payolution/payolution_inv_authorization_captureAuthorization.png[_Paysafe Pay Later™_ Invoice B2C, width=950]

. Consumer selects payment method Invoice (by _Paysafe Pay Later™_).
. -> Send an ``authorization`` request to _{payment-gateway-abbr}_. +
This request must contain ``payment-method@name`` = ``payolution-b2c`` and the consumer's ``date-of-birth``.
. _{payment-gateway-abbr}_ processes the request and forwards it to _Paysafe Pay Later™_.
. _Paysafe Pay Later™_ runs risk checks and sends a response to _{payment-gateway-abbr}_.
. _{payment-gateway-abbr}_ forwards the response to you.
. -> Send a ``capture`` request to _{payment-gateway-abbr}_. +
As ``parent-transaction-id``, enter the ``transaction-id`` of the preceding ``authorization`` response. +
You can
.. capture the total authorized amount once all items are ready for delivery.
.. capture a partial amount if only a part of the order is ready for delivery. +
Multiple captures are possible.
. _{payment-gateway-abbr}_ processes the request and forwards it to _Paysafe Pay Later™_.
. _Paysafe Pay Later™_ captures the requested amount and sends a response to _{payment-gateway-abbr}_.
. _{payment-gateway-abbr}_ processes the response informs you about the transaction outcome.
. -> Generate the invoice and send it to ``invoices-<merchant name>@payolution.com``.
. -> Inform the consumer about the transaction outcome.

Instead of sending a sequence of ``authorization`` and ``capture-authorization``, you can also send a single ``debit`` request.

[#PaysavePayLater_InvoiceB2B]
==== Invoice B2B (``payolution-b2b``) - authorization, capture-authorization Workflow

The _Invoice B2B_ workflow is the same as the _Invoice B2C_ workflow. +
Instead of ``date-of-birth``, the field ``custom-field@field-name="company-name"`` is mandatory in an ``authorization`` or ``debit`` request.

image::images/11-23-payolution/payolution_b2b_authorization_captureAuthorization.png[_Paysafe Pay Later™_ Invoice B2B, width=950]

Instead of sending a sequence of ``authorization`` and ``capture-authorization``, you can also send a single ``debit`` request.

[#PaysavePayLater_Installment]
==== Installment (``payolution-inst``)

There are two installment options:

. <<PaysavePayLater_Installment_Async, *Async installment:*>> Show the installment plans to your consumer on the _Paysafe Pay Later™_ web site. You need to redirect them.

. <<PaysavePayLater_Installment_Sync, *Sync installment:*>> Show the installment plans to your consumer on your own shop page. Before that, you need to retreive the available installment plans with a ``claculate`` request.

//-


[#PaysavePayLater_Installment_Async]
===== Async Installment - authorization, capture-authorization Workflow

NOTE: You have to trigger a ``capture-authorization`` *immediately after the
authorization* response has arrived.

image::images/11-23-payolution/payolution_Installment_async_authorization_captureAuthorization.png[payolution Installment, width=950, align="right"]

Instead of sending a sequence of ``authorization`` and ``capture-authorization``, you can also send a single ``debit`` request.

[#PaysavePayLater_Installment_Sync]
===== Sync Installment - authorization, debit Workflow

. Consumer selects "Payment in Installments" (by _Paysafe Pay Later™_).
. -> Send a ``claculate`` request to _{payment-gateway-abbr}_.
. _{payment-gateway-abbr}_ retrieves installment plans from _Paysafe Pay Later™_ and forwards them to you in the ``calculate`` response. +
This ``calculate`` response also contains all available installment plans and a link to the _Paysafe Pay Later™_ terms and conditions.
. -> On the checkout page, show the consumer
** the available installment plans.
** the link to the _Paysafe Pay Later™_ terms and conditions. +
. Consumer selects an installment plan and submits the payment. 
. -> Send an ``authorization`` or ``debit`` request to _{payment-gateway-abbr}_: +
As ``field-value`` for ``custom-field field-name="duration"``, enter the selected number of installments (``calculate`` response, field ``months``). +
If you do not provide this field, the request falls back to <<PaysavePayLater_Installment_Async, async installment>>.
. _{payment-gateway-abbr}_ forwards the request to _Paysafe Pay Later™_.
. _Paysafe Pay Later™_ processes the request and sends the response to _{payment-gateway-abbr}_.
. _{payment-gateway-abbr}_ forwards the response to you.
. -> Inform the consumer about the transaction outcome.
. For ``debit`` requests and captured ``authorization`` requests: +
** _Paysafe Pay Later™_ pays the total order amount to the merchant account.
** The consumer pays _Paysafe Pay Later™_ in monthly installments.

//-

[#PaysavePayLater_Reversal]
==== void-authorization

Use this transaction type if ordered items are not avialable and cannot be shipped.

void-authorization cancels an authorized order and blocks it from future
captures. You can only void the authorized total amount that has not yet been captured. Partial void-authorizations are not possible.

The void-authorization workflow applies to invoice and direct debit transactions.
As installment authorizations should be captured immediately after authorization, they cannot be voided.

image::images/11-23-payolution/payolution_voidAuthorization.png[_Paysafe Pay Later™_ Reversal, width=950]

. -> Send a ``void-authorization`` request. +
As ``parent-transaction-id``, enter the ``transaction-id`` of the preceding authorization that is to be canceled.
. _{payment-gateway-abbr}_ checks if parts of this order have already been captured:
  ** If yes: _{payment-gateway-abbr}_ sends a void-authorization request to _Paysafe Pay Later™_. 
  ** If no: _{payment-gateway-abbr}_ rejects the void-authorization request. 
. _Paysafe Pay Later™_ approves or rejects the request and returns the result.
. _{payment-gateway-abbr}_ sends you the void-authorization response which contains the status code.
. -> Process the ``void-authorization`` response.

[#PaysavePayLater_Refund]
==== refund-capture

You need to send a refund-capture request to refund amounts

* if the consumer returns goods.
* if you reduce the order amount later on.
* to settle wrongful payments.

The refund workflow applies to invoice, installment and direct debit transactions.

image::images/11-23-payolution/payolution_refundCapture.png[_Paysafe Pay Later™_ Refund, width=950]

. -> Send a ``refund-capture`` request. +
As ``parent-transaction-id``, enter the ``transaction-id`` of the preceding capture-authorization response. +

 ** As ``requested-amount``, enter the amount to be refunded.
 ** If the ``refund-capture`` request does not contain ``requested-amount``, _{payment-gateway-abbr}_ refunds the total order amount of the preceding ``capture-authorization`` transaction.

. _{payment-gateway-abbr}_ forwards the request to _Paysafe Pay Later™_. 
. _Paysafe Pay Later™_ returns the refund result.
. _{payment-gateway-abbr}_ sends you the ``refund-capture`` response which contains the status code.
. -> Process the ``refund-capture`` response. If you have not refunded the total captured amount, you can send further ``refund-capture`` requests.


// [tikz,PaysafePayLater_workflow_refundCapture,svg,subs=attributes+]
// ----
// % Document Header
// \documentclass[tikz,border=12pt,12pt]{standalone}
// \hyphenpenalty=10000
// \input{style/new_sequence.tikz}
// \input{vars/shortcuts.tex}
// \begin{document}
// \begin{tikzpicture}

// % Stage "consumer"
// \node[participant] at (0,2) {Consumer};
// \node[icon] (icon0) at (0,3.5) {\includegraphics[width=.1\textwidth] {consumer.png}};
// \draw[aidline] (0, 0.9) -- (0,-7.35);

// % Stage "merchant"
// \node[participant] at (11,2) {Merchant};
// \node[icon] (icon1) at (11,3.5) {\includegraphics[width=.1\textwidth] {merchant.png}};
// \draw[aidline] (11, 0.9) -- (11,-7.35);

// % Stage "payment"
// \node[participant] at (22,2) {Payment Gateway};
// \node[icon] (icon2) at (22,3.5) {\includegraphics[width=.1\textwidth] {paymentgateway.png}};
// \draw[aidline] (22, 0.9) -- (22,-7.35);

// % Stage "Paysafe Pay Later™"
// \node[participant] at (33,2) {Paysafe Pay Later™};
// \node[icon] (icon3) at (33,3.5) {\includegraphics[width=.1\textwidth] {paymentprovider.png}};
// \draw[aidline] (33, 0.9) -- (33,-7.35);

// % Boxes
// \draw[box, nightblue] (0,0.5) -- (0,-0.5);
// \draw[box, nightblue] (11,0.1) -- (11,-1.35);
// \draw[box, nightblue] (22,-1.15) -- (22,-2.6);
// \draw[box, nightblue] (33,-2.4) -- (33,-5.3);
// \draw[box, nightblue] (22,-5.1) -- (22,-6.55);
// \draw[box, nightblue] (11,-5.95) -- (11,-6.95);

// % Flows
// % Flow "1 Returns some or all order items"
// \draw[solidarrow]
// (0.21,0) -- node[txt, midway,above] {1 Returns some or all order items} (10.79,0);
// % Flow "2 Sends refund-capture request with amount (returned items)"
// \draw[solidarrow]
// (11.21,-1.25) -- node[txt, midway,above] {2 Sends refund-capture request \\with amount (returned items)} (21.79,-1.25);
// % Flow "3 Processes and validates transaction and forwards refund-capture request"
// \draw[solidarrow]
// (22.21,-2.5) -- node[txt, midway,above] {3 Processes and validates transaction \\and forwards refund-capture request} (32.79,-2.5);
// % Flow "4 Processes request and sends response"
// \draw[solidarrow]
// (32.79,-5.2) -- node[txt, midway,above] {4 Processes request \\and sends response} (22.21,-5.2);
// % Flow "5 Processes and forwards response\\(in case of changes: void-authorization and refund-capture)"
// \draw[solidarrow]
// (21.79,-6.45) -- node[txt, midway,above] {5 Processes and forwards response} (11.21,-6.45);

// % Document Footer
// \end{tikzpicture}
// \end{document}
// ----


[#PaysavePayLater_Fields]
=== Fields

The fields used for _Paysafe Pay Later™_ requests, responses and notifications
are the same as the <<RestApi_Fields, REST API fields>>.

Only the fields listed below have different properties, especially
according to size.

[#PaysavePayLater_Fields_authorization]
==== authorization and debit Fields

Fields can be **M**andatory or **O**ptional in an authorization/debit request for any
of the _Paysafe Pay Later™_ specific payment methods.

[%autowidth,stripes=none]
[cols="m,,,,,,a"]
|===
3+|Field |<<APIRef_FieldDefs_Cardinality, M/O>> |Data Type |Size |Description

| payment-methods
2+m| payment-method@name 
| M 
| String 
| 15 
a| The name of the payment method used for the transaction.

Accepted values:

* ``payolution-b2b``
* ``payolution-elv``
* ``payolution-inst``
* ``payolution-inv``

//-
.9+| account-holder
2+m| first-name 
| M 
| String 
| 32 
| Consumer’s first name.

2+m| last-name 
| M 
| String 
| 32 
| Consumer’s last name.

2+m| email 
| M 
| String 
| 64 
| Consumer’s email address.

2+| date-of-birth 
| M/O 
| String 
| 10 
| Consumer’s date of birth. +
Mandatory for B2C transactions. +
Optional for B2B transactions.

2+| phone 
| M/O
| String 
| 32 
| Consumer’s phone number. +
Mandatory for consumers from the Netherlands.

.4+| address
m| street1
| M 
| String 
| 128 
| First line of consumer's address.

| city 
| M 
| String 
| 32 
| City of consumer's address.

| country 
| M 
| String 
| 2 
| Country ID of consumer's address (ISO 3166-1 alpha-2).

| postal-code 
| M 
| String 
| 16 
| Postal code or ZIP of consumer's address.

.2+| bank-account
2+m| iban
| M/O
| String 
| 34 
| Consumer's IBAN. +
Mandatory for ``payolution-elv``.

2+m| bic
| M/O 
| String 
| 15 
| Consumer's BIC. +
Mandatory for ``payolution-elv``.

m| custom-fields 
2+m| custom-field field-name="duration"
| M/O 
| String 
| 15 
| <<PaysavePayLater_Fields_Installments_months, Number of installments.>> +
Mandatory for ``payolution-inst`` (sync installments).

|===


[#PaysavePayLater_Fields_Installments]
==== Installments Calculator Response Fields

[%autowidth,stripes=none]
[cols="m,,a"]
|===
2+|Field |Description

2+| product-id
| Installment plan ID.

2+| name
| Installment plan name.

2+| terms
| URL to the _Paysafe Pay Later™_ terms and conditions. 

.5+| details
m| interest-rate
| Interest rate in percent.

| setup-fee
| Extra charges for providing the option of payment in installments.

| monthly-pay
| Amount the consumer has to pay back in monthly installments.

| months
| [[PaysafePayLater_Fields_Installments_months]]Number of installments. +
In your ``authorization`` or ``debit`` request, enter this value as ``field-value`` for ``custom-field field-name="duration"``.

| total-credit-purchase-price
| Total amount the consumer has to pay, including interest and setup-fee.

|===

[#PaysavePayLater_Fields_CustomFieldsforB2BTransactions]
==== Custom Fields for B2B Transactions

Custom fields contain company information if the consumer is a business
consumer. For B2B transactions only the company name is mandatory. All
other fields are optional.

[%autowidth,stripes=none]
[cols="m,,,,a"]
|===
|Field |<<APIRef_FieldDefs_Cardinality, M/O>> |Data Type |Size |Description

| custom-field@field-name="company-name" 
| M 
| String 
| 256 
| Consumer’s company name.

| custom-field@field-name="company-uid" 
| O 
| String 
| 256 
| Consumer’s VAT identification number.

| custom-field@field-name="company-trade-register-number" 
| O 
| String
| 256 
| Consumer’s Trade register number.

| custom-field@field-name="company-register-key" 
| O 
| String 
| 256
| Additional registration information about consumer.
|===

[#PaysavePayLater_AmountLimits]
=== Amount Limits


The order amount must be within the limits you contracted with _Paysafe Pay Later™_. The limits are set individually for each of the 
<<PaysavePayLater_SpecificPaymentMethods, _Paysafe Pay Later™_ specific payment method>>. If the order amount is not within the defined limits, the respective payment method is not available to the consumer.

[#PaysavePayLater_Samples]
=== Samples

Click the link to view corresponding <<GeneralPlatformFeatures_IPN_NotificationExamples, Notification Examples>>.

[#PaysavePayLater_Samples_authorization]
==== authorization

.XML B2C Invoice authorization Request (Successful)

[source,xml,subs=attributes+]
----
include::{root}/samples/xml/payolution-inv_authorization_request_success.xml[]
----

.XML B2C Invoice authorization Response (Successful)

[source,xml,subs=attributes+]
----
include::{root}/samples/xml/payolution-inv_authorization_response_success.xml[]
----

.XML B2C Invoice authorization Request (Failure)

[source,xml,subs=attributes+]
----
include::{root}/samples/xml/payolution-inv_authorization_request_failure.xml[]
----

.XML B2C Invoice authorization Response (Failure)

[source,xml,subs=attributes+]
----
include::{root}/samples/xml/payolution-inv_authorization_response_failure.xml[]
----

***

[#PaysavePayLater_Samples_B2BInvoiceAuthorization]

.XML B2B Invoice authorization Request (Successful)

[source,xml,subs=attributes+]
----
include::{root}/samples/xml/payolution-b2b_authorization_request_success.xml[]
----

.XML B2B Invoice authorization Response (Successful)

[source,xml,subs=attributes+]
----
include::{root}/samples/xml/payolution-b2b_authorization_response_success.xml[]
----

.XML B2B Invoice authorization Request (Failure)

[source,xml,subs=attributes+]
----
include::{root}/samples/xml/payolution-b2b_authorization_request_failure.xml[]
----

.XML B2B Invoice authorization Response (Failure)

[source,xml,subs=attributes+]
----
include::{root}/samples/xml/payolution-b2b_authorization_response_failure.xml[]
----

***

[#PaysavePayLater_Samples_InstallmentAuthorization]

.XML Installment authorization Request (Successful)

[source,xml,subs=attributes+]
----
include::{root}/samples/xml/payolution-inst_authorization_request_success.xml[]
----

.XML Installment authorization Response (Successful)

[source,xml,subs=attributes+]
----
include::{root}/samples/xml/payolution-inst_authorization_response_success.xml[]
----

.XML Installment authorization Request (Failure)

[source,xml,subs=attributes+]
----
include::{root}/samples/xml/payolution-inst_authorization_request_failure.xml[]
----

.XML Installment authorization Response (Failure)

[source,xml,subs=attributes+]
----
include::{root}/samples/xml/payolution-inst_authorization_response_failure.xml[]
----


[#PaysavePayLater_Samples_authorizationOnly]
==== authorization-only (for all payment methods)

.XML authorization-only Request (Successful)

[source,xml,subs=attributes+]
----
include::{root}/samples/xml/payolution-authorization-only_request_success.xml[]
----

.XML authorization-only Response (Successful)

[source,xml,subs=attributes+]
----
include::{root}/samples/xml/payolution-authorization-only_response_success.xml[]
----


[#PaysavePayLater_Samples_calculate]
==== calculate (for payolution-inst)

.XML calculate Request (Successful)

[source,xml,subs=attributes+]
----
include::{root}/samples/xml/payolution-calculate_request_success.xml[]
----




[#PaysavePayLater_Samples_captureAuthorization]
==== capture-authorization

.XML B2C Invoice capture-authorization Request (Successful)

[source,xml,subs=attributes+]
----
include::{root}/samples/xml/payolution-inv_capture-authorization_request_success_be8a53f9.xml[]
----

.XML B2C Invoice capture-authorization Response (Successful)

[source,xml,subs=attributes+]
----
include::{root}/samples/xml/payolution-inv_capture-authorization_response_success_be8a53f9.xml[]
----

***

.XML B2B Invoice capture-authorization Request (Successful)

[source,xml,subs=attributes+]
----
include::{root}/samples/xml/payolution-b2b_capture-authorization_request_success_df706683.xml[]
----

.XML B2B Invoice capture-authorization Response (Successful)

[source,xml,subs=attributes+]
----
include::{root}/samples/xml/payolution-b2b_capture-authorization_response_success_df706683.xml[]
----

***

.XML Installment capture-authorization Request (Successful)

[source,xml,subs=attributes+]
----
include::{root}/samples/xml/payolution-inst_capture-authorization_request_success_3541d575.xml[]
----

.XML Installment capture-authorization Response (Successful)

[source,xml,subs=attributes+]
----
include::{root}/samples/xml/payolution-inst_capture-authorization_response_success_3541d575.xml[]
----

***

.XML B2B Invoice capture-authorization Request (Failure)

[source,xml,subs=attributes+]
----
include::{root}/samples/xml/payolution-b2b_capture-authorization_request_failure_df706683.xml[]
----

.XML B2B Invoice capture-authorization Response (Failure)

[source,xml,subs=attributes+]
----
include::{root}/samples/xml/payolution-b2b_capture-authorization_response_failure_df706683.xml[]
----

[#PaysavePayLater_Samples_voidAuthorization]
==== _void-authorization_

.XML B2B Invoice void-authorization Request (Successful)

[source,xml,subs=attributes+]
----
include::{root}/samples/xml/payolution-b2b_void-authorization_request_success_cbbed962.xml[]
----

.XML B2B Invoice void-authorization Response (Successful)

[source,xml,subs=attributes+]
----
include::{root}/samples/xml/payolution-b2b_void-authorization_response_success_cbbed962.xml[]
----

.XML B2B Invoice void-authorization Request (Failure)

[source,xml,subs=attributes+]
----
include::{root}/samples/xml/payolution-b2b_void-authorization_request_failure_7311ed4a.xml[]
----

.XML B2B Invoice void-authorization Response (Failure)

[source,xml,subs=attributes+]
----
include::{root}/samples/xml/payolution-b2b_void-authorization_response_failure_7311ed4a.xml[]
----

[#PaysavePayLater_Samples_refundCapture]
==== refund-capture

.XML B2B Invoice refund-capture Request (Successful)

[source,xml,subs=attributes+]
----
include::{root}/samples/xml/payolution-b2b_refund-capture_request_success_8f0b610e.xml[]
----

.XML B2B Invoice refund-capture Response (Successful)

[source,xml,subs=attributes+]
----
include::{root}/samples/xml/payolution-b2b_refund-capture_response_success_8f0b610e.xml[]
----

.XML B2B Invoice refund-capture Request (Failure)

[source,xml,subs=attributes+]
----
include::{root}/samples/xml/payolution-b2b_refund-capture_request_failure_240fa6d8.xml[]
----

.XML B2B Invoice refund-capture Response (Failure)

[source,xml,subs=attributes+]
----
include::{root}/samples/xml/payolution-b2b_refund-capture_response_failure_240fa6d8.xml[]
----

[#PaysavePayLater_Samples_addData]
==== add-data

.XML add-data Request (Successful)

[source,xml,subs=attributes+]
----
include::{root}/samples/xml/payolution-add-data_request_success.xml[]
----

.XML add-data Request (Successful)

[source,xml,subs=attributes+]
----
include::{root}/samples/xml/payolution-add-data_response_success.xml[]
----

[#PaysavePayLater_Samples_adjustAuthorization]
==== adjust-authorization 

.XML adjust-authorization Request (Successful)

[source,xml,subs=attributes+]
----
include::{root}/samples/xml/payolution-adjust-authorization_request_success.xml[]
----

.XML adjust-authorization Request (Successful)

[source,xml,subs=attributes+]
----
include::{root}/samples/xml/payolution-adjust-authorization_response_success.xml[]
----

//-
