include::shortcuts.adoc[]
:date-pattern: YYYY-MM-DD
:timestamp-pattern: YYYY-MM-DDThh:mm:ss

[#CC_Fields]
==== Fields

This is the general field reference for _Credit Card_ transactions.
====
- Format: XML 
- POST requests and responses

//-
====

We provide the request and the response fields in two separate sections:

- <<CC_Fields_xmlelements_request, _Request_>> contains those fields sent in the request (and usually in the response).
- <<CC_Fields_xmlelements_response, _Response_>> contains those fields sent in the response only.

//-

The fields are ordered hierarchically and in separate tables. ``payment`` is the top parent element and all fields that are part of ``payment`` are listed <<CC_Fields_xmlelements_request_payment, in the first table>>. 

Some fields listed in this table are _complex type_ fields, e.g. ``payment.account-holder``. _Complex type_ fields are parents to a number of further fields. We offer separate field tables for all parent elements and their respective fields.

NOTE: The tables are sorted alphabetically. Use *Ctrl + F* if you are looking for a specific field.

For example, ``payment.account-holder`` is a parent of ``address``. Click on the link in the table to view the fields contained in a _complex type_ field.


[#CC_Fields_intro_elements]
===== Field Definitions

Each field table contains the following columns:

- <<CC_Fields_intro_elements_name, Name>>
- <<CC_Fields_intro_elements_cardinality, Cardinality>> (for request elements only)
- <<CC_Fields_intro_elements_dataType, Data Type>>
- <<CC_Fields_intro_elements_Size, Size>> (for request elements only)

//-

IMPORTANT: Field definitions may vary by transaction type. Deviations from standard field definitions are given with the respective transaction type.

[#CC_Fields_intro_elements_name]
====== Name
The field name structure is based on the hierarchical relation between individual elements. +
_Example:_ ``order-items.order-item.article-number`` +

.Structure
[mermaid, CC_Fields_intro_elements_parentchild,svg]
----
graph LR
A(parent-element)-->B
B("child = parent-element")-->C
C(child)
E[order-items.]-->F
F[order-item.]-->G
G[article-number]
class E squared-rect
class F squared-rect
class G squared-rect
----

.XML Structure
[source, xml]
----
<payment>
    <account-holder>
        <address>
----

// Follow up task: With the corresponding excerpt of the XSD we can show the structure of the xml elements.

In the example, the parent element is ``order-items``, and its child ``order-item``. +
``order-item`` itself is also a parent element of its child ``article-number``. 
The hierarchies are sparated by a dot ``.``

[#CC_Fields_intro_elements_cardinality]
====== Cardinality

_Cardinality_ indicates if the field is necessary for the request to work. A field can be either mandatory (M) or optional (O).

- If a field is _mandatory_, it must be included in the request and contain a value. Without this field, the request will fail. +
- If a field is _optional_, it does not have to be included in the request. Including optional fields can have certain advantages. These are included in the respective field description.

[IMPORTANT]
====
Cardinality can depend on the context. In those cases, fields will be marked with "M/O". The _Description_ will explain under which conditions the field is mandatory.

*Example*:``payment.periodic`` 

- ``periodic`` fields are *optional* when you send a request for a one-time payment transaction.
- ``periodic`` fields are *mandatory* when you send a request for one-time payments with one-click checkout, recurring payments, and installment payment transactions.

//-
====

//if we talk about a "periodic-element" we should publish the table as designed in the lines 914 to 937. What do you think?
//KKS: (Y)

//-

[#CC_Fields_intro_elements_dataType]
====== Data Type

_Data Type_ defines the specific characteristics of the input values that can be used for a field. There are seven data types: _String_, _Boolean_, _Date_, _Timestamp_, _Decimal_, _Number_,  and _Enumeration_.

[cols="20,80"]
|===
|Data Type |Description

|String
|A combination of text and numbers which is arbitrary but finite in size. A subset of _String_ values can be defined according to a pattern value, such as ``api-id``. The pattern will be given in the _Description_ column.

|Boolean 
|Has one of two possible values (usually either ``true`` or ``false``).

|Date 
a|Value taken from a calendar (e.g. the date of birth). Format: ``{date-pattern}`` This pattern cannot be customized.

|Timestamp
a|A moment in time defined by a system. Format: ``{timestamp-pattern}`` This pattern cannot be customized.

|Decimal
|A numeric value which has digits before and after the decimal point ``.`` +
Example: the amount of money in a specific currency (e.g. 138.53 EUR).

|Number
|A numeric value that has no decimal places, such as the expiration month of a credit card.

|Enumeration 
|A list of predefined values, e.g. the severity of a status, which can provide the predefined values ``warning``, ``error`` and ``information``.
|===


[#CC_Fields_intro_elements_Size]
====== Size
_Size_ shows how many characters can be used for this field. We provide the maximum value so you can make sure the whole amount of characters will be processed.

In general, the _{payment-gateway}_ allows all characters for each field, depending on the _Data Type_. 

If other rules apply to a field, they will be stated in the _Description_ column of that field.



[#CC_Fields_xmlelements]
===== XML Elements
Click the X in the respective column for request and response fields.

Please refer to our <<Appendix_Xml, XSD>> for the structural relationship between these fields.

[cols="m,,"]
|===
| Field | Request | Response

| payment
| <<CC_Fields_xmlelements_request_payment, X>>
| <<CC_Fields_xmlelements_response_payment, X>>

| account-holder
| <<CC_Fields_xmlelements_request_accountholder, X>>
| 

| address
| <<CC_Fields_xmlelements_request_address, X>>
| 

| airline-industry
| <<CC_Fields_xmlelements_request_airlineindustry, X>>
| 

| audit
| <<CC_Fields_xmlelements_request_audit, X>>
| 

| avs
| 
| <<CC_Fields_xmlelements_response_avs, X>>

| browser
| <<CC_Fields_xmlelements_request_browser, X>>
| 

| card
| <<CC_Fields_xmlelements_request_card, X>>
|  
 
// | card-emv
// | <<CC_Fields_xmlelements_request_cardemv, X>>
// | 

// | card-pin
// | <<CC_Fields_xmlelements_request_cardpin, X>>
// | 

// |card-raw
// | <<CC_Fields_xmlelements_request_cardraw, X>>
// | 

| card-token
| <<CC_Fields_xmlelements_request_cardtoken, X>>
| 

| credit-sender-data
| <<CC_Fields_xmlelements_request_creditsenderdata, X>>
| 

| cruise-industry
| <<CC_Fields_xmlelements_request_cruiseindustry, X>>
| 

| custom-fields
| <<CC_Fields_xmlelements_request_customfield, X>>
| <<CC_Fields_xmlelements_response_customfield, X>>

| device
| <<CC_Fields_xmlelements_request_device, X>>
| 

| notification
| <<CC_Fields_xmlelements_request_notification, X>>
| 

| order-items
| <<CC_Fields_xmlelements_request_orderitem, X>>
| 

| payment-method
| <<CC_Fields_xmlelements_request_paymentmethod, X>>
|

| risk-info
| <<CC_Fields_xmlelements_request_riskinfo, X>>
| 

| segment
| <<CC_Fields_xmlelements_request_segment, X>>
| 

| shipping
| <<CC_Fields_xmlelements_request_shipping, X>>
| 

| status
| 
| <<CC_Fields_xmlelements_response_status, X>>

| sub-merchant-info
| <<CC_Fields_xmlelements_request_submerchantinfo, X>>
| 

| three-d
| <<CC_Fields_xmlelements_request_threed, X>>
| <<CC_Fields_xmlelements_response_threed, X>>
|===

[#CC_Fields_xmlelements_request]
====== Request

[#CC_Fields_xmlelements_request_payment]
.``payment``

Additional ``payment`` fields can be found in the
<<CC_Fields_xmlelements_response_payment, Response > ``payment``>> section.

[cols="30m,6,9,7,48a"]
|===
| Field | Cardinality | Datatype | Size | Description

|merchant-account-id 
|M/O 
|String 
|36 
|A unique identifier assigned to every merchant account.
//KKS: MAID is conditional, even though above we state that we have M, O and M/O.
|merchant-account-resolver-category 
|M/O 
|String 
|36 
|The category used to <<GeneralPlatformFeatures_ResolverCategoryCode, resolve the merchant-account>> based on a number of resolving rules.

|request-id 
|M 
|String 
|32 
|The identification number of the request. It must be unique for each request. The following characters are allowed: ASCII characters Code 32-38 and 40-126.

|requested-amount 
|M 
|Decimal 
|18,2 
|The full amount that is requested/contested in a transaction. Use ``.``(decimal point) as the separator.

a|``currency``(attribute of ``requested-amount``) 
|M 
|String 
|3 
|The currency of the requested/contested transaction amount. Format: 3-character abbreviation according to ISO 4217.
//KKS: is that, broadly speaking, a child of requested amount?

|transaction-type 
|M 
|String 
|30 
|The requested transaction type.

|descriptor 
|M 
|String 
|64 
|Describes the settlement of the consumer's account about a transaction. 

|order-detail 
|O 
|String 
|65535 
|Details of an order filled in by the merchant.

|order-number 
|M 
|String 
|32 
|The order number provided by the merchant. Allowed characters: ASCII characters Code 32-38 and 40-126.
| parent-transaction-id | M/O | String | 36 | This is the unique identifier of the referenced transaction. This is mandatory if 

- ``merchant-account-id`` or ``merchant-account-resolver-category`` are not used.
- the transaction refers to a previously processed transaction (e.g. a _refund_ refers to a _purchase_).

|group-transaction-id 
|M/O 
|String 
|36 
|A unique ID assigned to a group of related transactions. For example, an _authorization_, _capture_, and _refund_ will all share the same ``group-transaction-id``.
| authorization-code | C | String | 36 | The authorization-code can be

. input for a _capture_ without reference to _authorization_
. output for _authorization_
//-
//KKS: Follow up task: clarify use of field. output for or of authorization?
| ip-address | O | String | 45 | The global (internet) IP address of the consumer's device.
| non-gambling-oct-type | O | String | 7 | A transfer type of non-gambling Original Credit Transaction (OCT).
Allowed values: ``p2p``, ``md``, ``acc2acc``, ``ccBill`` and ``fd``.
//KKS: Follow up task: Provide a brief description for each of these values.
//vhauss: According to line 103 "non-gambling-oct-type"'s data type should be "Enumeration"!
| processing-redirect-url | O | String | 256 | The URL to which the consumer will be redirected after he has fulfilled his payment. This is normally a page
on the merchant's website.
| success-redirect-url | M | String | 256 | The URL to which the consumer will be re-directed after a successful payment. This is normally a success
confirmation page on the merchant's website.
| cancel-redirect-url | M | String | 256 | The URL to which the consumer will be re-directed after he has cancelled a payment. This is normally a page on the merchant's website.
| locale | M | String | 6 | Code of the language. Can be ``CZ``, ``DA``, ``EN``, ``DE``,
``ES``, ``FI``, ``FR``, ``IT``, ``NL``, ``PL``, ``GR``, ``RO``, ``RU``, ``SV``, and ``TR``.
Can be sent in the format ``language`` or in the format ``language_country``.
//KKS: Follow up task > Pattern for language/language_country.
| entry-mode | O | String | 24 | This is information about the channel used for this transaction.
Can be one of the following: +
empty: unknown source +
``mail-order``: collected over mail order +
``telephone-order``: collected over telephone +
``ecommerce``: collected over the internet +
``mcommerce``: collected over mobile devices +
``pos``: collected by the primary payment instrument
//vhauss: According to line 103 "entry-mode"'s data type should be "Enumeration"!
| periodic | O | String | 24 | Indicates how and why a payment occurs more than once. Can be one of the following: +
``installment``: one in a set that completes a financial transaction +
``recurring``: one in a set that occurs repeatedly, such as a subscription
``ci``.
//KKS: for 3DS2 this can be ``ci`` as well. Follow up task: Provide a brief description for each of these values. 
//vhauss: Now we have additional fields for "periodic" in the 3DS2 context.
//vhauss: What do we do? Install a new "periodic" table? > see line 316 and lines 914 to 937!
//| periodic.recurring-expire-date| C| Date| 10| For recurring payments. Date after which no further recurring payments using this card are allowed. {date-pattern}
//| periodic.recurring-frequency| C| Number| 4| For recurring payments. The minimum number of days between individual payments.
//vhauss: According to line 103 "periodic"'s data type should be "Enumeration"!
| iso-transaction-type | O | String | 2 | ``iso-transaction-type`` is a 3DS2 field. It identifies the transaction type. The values are derived from ISO 8583.
 Accepted values are: +
 ``01`` = Goods/ Service Purchase +
 ``03`` = Check Acceptance +
 ``10`` = Account Funding +
 ``11`` = Quasi-Cash Transaction +
 ``28`` = Prepaid Activation and Load
// Are we aware that we use "transaction type" here in a different context as we use it generally? This requires a more detailed explanation!
//vhauss: According to line 103 "iso-transaction-type"'s data type should be "Enumeration"!

4+| account-holder | <<CC_Fields_xmlelements_request_accountholder, ``account-holder``>> is a child element of ``payment``.
4+| airline-industry | <<CC_Fields_xmlelements_request_airlineindustry, ``airline-industry``>> is a child element of ``payment``.
4+| browser | <<CC_Fields_xmlelements_request_browser, ``browser``>> is a child element of ``payment``.
4+| card | Used with the first request of card use only. <<CC_Fields_xmlelements_request_card, ``card``>> is a child element of ``payment``.
4+| card-token | Returned by the first payment response and used for further operations. <<CC_Fields_xmlelements_request_cardtoken, ``card-token``>> is a child element of ``payment``.
4+| credit-sender-data | <<CC_Fields_xmlelements_request_creditsenderdata, ``credit-sender-data``>> is a child element of ``payment``.
4+| cruise-industry | <<CC_Fields_xmlelements_request_cruiseindustry, ``cruise-industry``>> is a child element of ``payment``.
4+| custom-fields | ``custom-fields`` is the parent element of <<CC_Fields_xmlelements_request_customfield, ``custom-field``>>
4+| device | <<CC_Fields_xmlelements_request_device, ``device``>> is a child element of ``payment``.
4+| notifications | ``notifications`` is the parent element of <<CC_Fields_xmlelements_request_notification, ``notification``>>
4+| order-items | ``order-items`` is the parent element of <<CC_Fields_xmlelements_request_orderitem, ``order-item``>>
4+| payment-methods | ``payment-methods`` is the parent element of <<CC_Fields_xmlelements_request_paymentmethod, ``payment-method``>>
//4+| periodic | <<CC_Fields_xmlelements_request_periodic, periodic>> is a child element of ``payment``.
4+| risk-info | <<CC_Fields_xmlelements_request_riskinfo, ``risk-info``>> is a child element of ``payment``.
4+| shipping | <<CC_Fields_xmlelements_request_shipping, ``shipping``>> is a child element of ``payment``.
4+| sub-merchant-info | <<CC_Fields_xmlelements_request_submerchantinfo, ``sub-merchant-info``>> is a child element of ``payment``.
4+| three-d | <<CC_Fields_xmlelements_request_threed, ``three-d``>> is a child element of ``payment``.
|===

[#CC_Fields_xmlelements_request_accountholder]
.account-holder

``account-holder`` is a child of
<<CC_Fields_xmlelements_request_payment, payment>>. +
With the ``account-holder`` merchants can gather detailed information about the
consumer. Please provide all the ``account-holder`` data in your request to make fraud
prevention easier.

include::include/fields/rest_cc/account-holder.adoc[]

[cols="30,6,9,7,48a"]
|===
| Field | Cardinality | Datatype | Size | Description

| first-name | M/O | String | 32 | Mandatory for 3DS2 transactions. The first name of the consumer.
| last-name | M/O | String | 50 | Mandatory for 3DS2 transactions. The last name of the consumer.
| email | M/O | String | 64 | Mandatory for 3DS2 transactions. The consumer’s email address as given in the merchant’s shop.
// compare to "address.email"!
| gender | O | String | 1 | This is the consumer's gender.
| date-of-birth | O | Date |  | This is the consumer's birth date. {date-pattern}
| phone | O | String | 32 | This is the phone number of the consumer.
| home-phone| M/O | String| 18| Mandatory for 3DS2 transactions. Home phone number provided by the consumer. 
| mobile-phone| M/O | String| 18| Mandatory for 3DS2 transactions. Mobile phone number provided by the consumer. 
| work-phone| M/O | String| 18| Mandatory for 3DS2 transactions. Work phone number provided by the consumer. 
// Which of the "phone" fields ("home-phone", "mobile-phone", or "work-phone") replace "phone"? Or do we have now 4 "phone" fields?
| social-security-number | O | String | 14 | This is the social security number of the consumer.
| tax-number | O | String | 14 | This is the social security number of the consumer.
| merchant-crm-id | O | String | 64 | Consumer identifier in the merchant’s shop. Requests that contain payment information from the same consumer in the same shop must contain the same string.
4+| address | <<CC_Fields_xmlelements_request_address, address>> is a child element of ``account-holder``.
4+| account-info | <<CC_Fields_xmlelements_request_accountinfo, account-info>> is a child element of ``account-holder``.

|===

[#CC_Fields_xmlelements_request_accountinfo]
.account-info

``account-info`` is a child of
<<CC_Fields_xmlelements_request_accountholder, account-holder>>. +
``account-info`` fields are used with 3DS2. With ``account-info`` merchants can gather detailed information about the consumer. Please provide all the ``account-info`` data in your 3DS2 request to make fraud prevention easier.

[cols="30,6,9,7,48a"]
|===
| Field | Cardinality | Datatype | Size | Description

| authentication-method | O | String | 2 a| Type of consumer login in the merchant's shop. +
 Possible values: +
 ``01`` = Guest checkout (i.e. the consumer is not logged in). +
 ``02`` = Login to the consumer's account in merchant's shop with shop-own authentication credentials. +
 ``03`` = Login with Federated ID. +
 ``04`` = Login with card issuer credentials. +
 ``05`` = Login with third-party authentication. +
 ``06`` = Login with FIDO authenticator.
//vhauss: According to line 103 "authentication-method"'s data type should be "Enumeration"!
| authentication-timestamp | O | Timestamp | 19 | Date and time (UTC) of the consumer login in the merchant's shop. {timestamp-pattern}
 For guest checkout, the timestamp is _Now_.
|  [[CreditCard_Fields_AccountHolder_AccountInfo_ChallengeIndicator]]
challenge-indicator | O | String| 2| Indicates whether a challenge is requested for this transaction. +
 Possible values: +
 ``01`` = No preference. +
 ``02`` = No challenge requested. +
 ``03`` = Challenge requested: Merchant Preference. +
 ``04`` = Challenge requested: Mandate. Must be sent in a first transaction that stores a token
 (e.g. for one-click checkout).
//vhauss: According to line 103 "challenge-indicator"'s data type should be "Enumeration"!
| creation-date | O| Timestamp | 19| Registration date (UTC) of the consumer's account in the merchant's shop. {timestamp-pattern}
 For guest checkout, do not send this field.
| update-date | O| Date| 10| Date that the consumer last made changes to their account in the merchant's shop. For example,
 changes to billing and shipping address, new payment account, new email address. {date-pattern}
 For guest checkout, do not send this field.
| password-change-date | O| Date| 10| Date that the consumer last changed/reset their password in the merchant's shop. {date-pattern}
 For guest checkout, do not send this field.
| shipping-address-first-use | O| Date| 10| Date that the consumer first used this shipping address in the merchant's shop. {date-pattern}
 For guest checkout, do not send this field.
| transactions-last-day | O| Number| 9| Number of transactions (successful, failed, and canceled) that the consumer has attempted in the past 24 hours. Does not include merchant-initiated transactions.
| transactions-last-year | O| Number| 9| Number of transactions (successful, failed, and canceled) that the consumer has attempted within the past year. Does not include merchant-initiated transactions.
| card-transactions-last-day | O| Number| 9| Number of cards the consumer has attempted to add to their account in the merchant's shop for card-on-file payments
 (one-click checkout) in the past 24 hours.
| purchases-last-six-months | O| Number| 9| Number of successful orders by the consumer in the merchant's shop within the past six months.
| suspicious-activity | O| Boolean| | Indicates if the merchant knows of suspicious activities by the consumer (e.g. previous fraud).
| card-creation-date | O| Date| 10| Date that the consumer's card was added to their account in the merchant's shop for card-on-file payments
 (one-click checkout). {date-pattern} +
 For all other types of checkout (e.g. guest checkout, regular checkout, the first transaction with one-click checkout),
 the date is _Now_.
|===

[#CC_Fields_xmlelements_request_address]
.address

``address`` is a child of
<<CC_Fields_xmlelements_request_accountholder, account-holder>>,
<<CC_Fields_xmlelements_request_airlineindustry, airline-industry>>, and
<<CC_Fields_xmlelements_request_shipping, shipping>>. It is used to
specify the consumer's address and can refer to

- the consumer (for ``account-holder``)
- the ticket issuer (for ``airline-industry``)
- the consumer's shipping address (for ``shipping``). In case of 3DS2 transactions it is highly recommended to send ``shipping.address`` data in any case, as a complete set of ``shipping.address`` data reduces the necessity of a challenge test.

Data can be provided optionally but it helps with fraud checks, if ``address`` is complete.

[cols="30,6,9,7,48a"]
|===
| Field | Cardinality | Datatype | Size | Description

| block-no | O | String | 12 | This is the block-no of the consumer.
| level | O | String | 3 | This is the level of the consumer.
| unit | O | String | 12 | This is the unit of the consumer.
| street1 | M | String | 50 | Line 1 of the street address of the consumer’s billing address.
| street2 | M/O | String | 50 | Mandatory for 3DS2 transactions. Line 2 of the street address of the consumer’s billing address.
| street3 | M/O | String | 50 | Mandatory for 3DS2 transactions. Line 3 of the street address of the consumer’s billing address.
| city | M | String | 50 | City of the consumer’s billing address.
| state | M/O | String | 3 | Mandatory for 3DS2 transactions. State/province of the consumer’s billing address. Accepted format: numeric ISO 3166-2 standard.
| country | M | String | 2 | Country of the consumer’s billing address.
| postal-code | M/O | String | 16 | Mandatory for 3DS2 transactions. ZIP/postal code of the consumer’s billing address. 
| email| M/O | String| 256| Mandatory for 3DS2 transactions. The consumer's email address as given in the merchant's shop.
// to peer reviewer: 
// > Please verify, whether "email" is mandatory in 3DS2 transactions.
// > see "account-holder" above: There, we also have a field "email". Does "address.email" replace "account-holder.email"?
| house-extension | O | String | 16 | This is the consumer's house extension.
|===

[#CC_Fields_xmlelements_request_airlineindustry]
.airline-industry

``airline-industry`` is a child of
<<CC_Fields_xmlelements_request_payment, payment>>.

[cols="30,6,9,7,48a"]
|===
| Field | Cardinality | Datatype | Size | Description

| airline-code |O |String |3	|The airline code assigned by IATA.
| airline-name |O |String	|64	|Name of the airline.
| passenger-code |O |String	|10	|The file key of the Passenger Name Record (PNR). This information is mandatory for transactions with AirPlus UATP cards.
| passenger-name |O |String	|32	|The name of the Airline Transaction passenger.
| passenger-phone |O |String	|32	|The phone number of the Airline Transaction passenger.
| passenger-email |O |String	|64	|The Email Address of the Airline Transaction passenger.
| passenger-ip-address |O |String |45 |The IP Address of the Airline Transaction passenger.
| ticket-issue-date |O |Date | |The date the ticket was issued. {date-pattern}
| ticket-number |O |String |11	|The airline ticket number, including the check digit. If no airline ticket number (IATA) is used, the element field must be populated with 99999999999.
| ticket-restricted-flag |O |String |1 |Indicates that the Airline Transaction is restricted. 0 = No restriction, 1 = Restricted (non-refundable).
| pnr-file-key |O |String	|10	|The Passenger Name File Id for the Airline Transaction.
| ticket-check-digit |O |String |2	|The airline ticket check digit.
| agent-code |O |String |3	|The agency code assigned by IATA.
| agent-name |O |String |64	|The agency name.
| non-taxable-net-amount |O | Decimal	|7,2 |This field must contain the net amount of the purchase transaction in the specified currency for which the tax is levied. Two decimal places are allowed. If this field contains a value greater than zero, the indicated value must differ from the amount of the transaction.
| number-of-passengers |O |String |3	|The number of passengers on the Airline Transaction.
| reservation-code |O |String |32 |The reservation code of the Airline Transaction passenger.
4+| itinerary | ``itinerary`` is the parent element of <<CC_Fields_xmlelements_request_segment, segment>>. Up to 99 itinerary segments can be defined.
4+| ticket-issuer/address |The address of the ticket issuer. <<CC_Fields_xmlelements_request_address, address>> is a child element of ``ticket-issuer``. 
|===

[#CC_Fields_xmlelements_request_audit]
.audit

``audit`` is a child of
<<CC_Fields_xmlelements_request_payment, payment>>. 
Audit data is displayed in _{enterprise-portal-abbr}_ for each transaction it has been send with.

[cols="30,6,9,7,48a"]
|===
| Field | Cardinality | Datatype | Size | Description

| request-source |O |String |30 |Optional information that references the application or _{payment-gateway}_ a transaction is processed with.
| user |O | String |128 |Optional information that identifies the origin/user of the payment request. Audit user is send by frontend applications referencing the user processing transactions or follow up operations using the application.
|===

[#CC_Fields_xmlelements_request_browser]
.browser

``browser`` is a child of
<<CC_Fields_xmlelements_request_payment, payment>>.

[cols="30,6,9,7,48a"]
|===
| Field | Cardinality | Datatype | Size | Description

| accept |O |String |2048 |This is the HTTP Accept Header as retrieved from the cardholder's browser in the HTTP request. In case it is longer than 2048 it has to be truncated. It is strongly recommended to provide this field to prevent rejections from ACS server side.
| user-agent |O |String |256 |This is the User Agent as retrieved from the card holder's browser in the HTTP request. In case it is longer than 256 Byte it has to be truncated. It is strongly recommended to provide this field to prevent rejections from ACS server side.
| challenge-window-size | O | String | 2 a| Dimensions of the challenge window that has been displayed to the cardholder. The ACS shall reply with content that is formatted to appropriately render in this window to provide the best possible user experience. Preconfigured sizes are width X height in pixels of the window
displayed in the cardholder browser window. This is used only to prepare
the _CReq_ request and it is not part of the _AReq_ flow. If not present it will be omitted.
Accepted values are: +
``01`` = 250 x 400 +
``02`` = 390 x 400 +
``03`` = 500 x 600 +
``04`` = 600 x 400 +
``05`` = Full screen
//vhauss: According to line 103 "challenge-window-size"'s data type should be "Enumeration"!
| color-depth | O | Number | 2 | Value representing the bit depth of the color palette for displaying images, in bits per pixel. Obtained from cardholder browser using the ``screen.colorDepth`` property. The field is limited to 1-2 characters.
| java-enabled | O | Boolean |  | Boolean that represents the ability of the cardholder browser to execute Java. Value is returned from the ``navigator.javaEnabled`` property.
| language | O | String | 8 | Value representing the browser language as defined in IETF BCP47. The value is limited to 1-8 characters. Value is returned from ``navigator.language`` property.
//KKS: From "challenge-window-size" to "language": Info based on https://confluence.wirecard.sys/pages/viewpage.action?pageId=79700815
|===

//// 
[#CC_Fields_xmlelements_request_browser]
.browser

The following fields are currently not part of the doc: 

| ip-address | O | String | ?? | ??
| hostname | O  | String | ?? | ??
| browser-version | O | String | ?? | ??
| os | O | String  | ?? | ??
| time-zone | O | String | ?? | ??
| screen-resolution | O | String | ?? | ??
| referrer | O | String | ?? | ??
| headers | O | ?? | ?? | ??
| cookies | O | ?? | ?? | ??
|===

////

[#CC_Fields_xmlelements_request_card]
.card

``card`` is a child of  <<CC_Fields_xmlelements_request_payment, payment>>. ``card`` details are sent only in the first transaction request when the card is used for the first time. Due to
<<CreditCard_PaymentFeatures_Tokenization_Introduction, PCI DSS>> compliance, ``card`` details are immediately replaced by a token. Beginning with the first response, this
token is used for every consecutive transaction (request and response) that is performed
with this credit card. Token data is provided with the
<<CC_Fields_xmlelements_request_cardtoken, card-token>> element.

NOTE: Only the transaction type _detokenize_ returns ``expiration-month``,
``expiration-year`` and ``card-type`` in a response. All the other transaction
types return elements of ``card-token`` in the response.

[cols="30,6,9,7,48a"]
|===
| Field | Cardinality | Datatype | Size | Description

| account-number | M/O | String | 36 | This is the card account number of the consumer. It is mandatory if ``card-token`` is not used.
| expiration-month | M | Number | 2 | This is the card's expiration month. If this field is configured it will be sent in the response.
| expiration-year | M | Number | 4 | This is the card's expiration year. If this field is configured it will be sent in the response.
| card-security-code | M/O | String | 4 | This is the card's security code. Depending on configuration it may be mandatory.
| card-type | M | String | 15 | This is the card's type. If this field is configured it will be sent in the response.
//vhauss "card-type" obviously is a response field. Please compare with payment-methods.payment-method.card-type and discuss how we handle this best.
| issue-number | M | Number | 4 | This is the card's issue number.
| start-month | M | Number | 2 | This is the card's issue start month "(valid from)".
| start-year | M | Number | 4 | This is the card's issue start year "(valid from)".
| track-2 | O | String | 256 | This is the card's track-2.
| card-emv
// <<CC_Fields_xmlelements_request_cardemv, card-emv>>
| O | | | This is used for EMV data for credit card of the end-consumer
| card-pin
// <<CC_Fields_xmlelements_request_cardpin, card-pin>>
| O | | | This is used for PIN data for credit card of the end-consumer.
a| card-raw
// <<CC_Fields_xmlelements_request_cardraw, card-raw>> 
| O | | | This is the raw card data.
| merchant-tokenization-flag | O  | Boolean |  | The value is to be set to true as soon as consumer's card data has been stored by merchant for future transactions. Maps the Visa field _Stored Credential_.
// KKS: The merchant-tokenization-flag is needed for one-click checkout. Follow up task: Add description for mandatory use.
|===

//// 
[#CC_Fields_xmlelements_request_cardemv]
.card-emv

``card-emv`` is a child of <<CC_Fields_xmlelements_request_card, card>>. 

EMV cards are smart
cards (also called chip cards or IC cards) that store their data on integrated
circuits in addition to magnetic stripes (for backward compatibility). These
include cards that must be physically inserted (or "dipped") into a reader, as
well as contactless cards that can be read over a short distance using
near-field communication (NFC) technology. (Taken from Wikipedia)
KKS: OK as an internal reference but in my opinion not needed here. Maybe describe card types separately?

[cols="30,6,9,7,48a"]
|===
| Field | Cardinality | Datatype | Size | Description

| request-icc-data | O | ?? | ?? | ??
| request-icc-data-encoding | O | ?? | ?? | ??
| response-icc-data | M | ?? | ?? | ??
| response-icc-data-encoding | O | ?? | ?? | ??
|===

////

//// 

[#CC_Fields_xmlelements_request_cardpin]
.card-pin

``card-pin`` is a child of <<CC_Fields_xmlelements_request_card, card>>. 

A PIN pad or PIN entry
device is an electronic device used in a debit, credit or smart card-based
transaction to accept and encrypt the cardholder's personal identification
number (PIN). PIN pads are normally used with payment terminals, automated
teller machines or integrated point of sale devices in which an electronic
cash register is responsible for taking the sale amount and initiating/handling
the transaction. The PIN pad is required to read the card and allow the PIN to
be securely entered and encrypted before it is sent to the bank.
(Taken from Wikipedia)
KKS: are these fields also required for online transactions, or only POS transactions?

[cols="30,6,9,7,48a"]
|===
| Field | Cardinality | Datatype | Size | Description

| data | O | ?? | ?? | ??
| encoding | O | ?? | ?? | ??
| format | O | ?? | ?? | ??
| encryption-context | O | ?? | ?? | ??
| encryption-version | O | ?? | ?? | ??
|===

////

//// 
[#CC_Fields_xmlelements_request_cardraw]
.card-raw

``card-raw`` is a child of
<<CC_Fields_xmlelements_request_card, card>>

??

[cols="30,6,9,7,48a"]
|===
| Field | Cardinality | Datatype | Size | Description

| data | O | ?? | ?? | ??
| encoding | O | ?? | ?? | ??
| format | O | ?? | ?? | ??
| encryption-context | O | ?? | ?? | ??
| encryption-version | O | ?? | ?? | ??
|===

////

[#CC_Fields_xmlelements_request_cardtoken]
.card-token

``card-token`` is a child of
<<CC_Fields_xmlelements_request_payment, payment>> and is the substitute
for <<CC_Fields_xmlelements_request_card, card>>. Due to
<<CreditCard_PaymentFeatures_Tokenization_Introduction, PCI DSS>>
compliance, ``card`` data must not be sent in payment transactions. The _{payment-gateway}_ replaces ``card`` immediately with a token in the transaction response for the first use of a credit card.

[cols="30,6,9,7,48a"]
|===
| Field | Cardinality | Datatype | Size | Description

| token-id | M/O | String | 36 | This is the token corresponding to the ``card.account-number`` of the consumer. It is mandatory if
``card.account-number`` is not specified. It is unique per instance.
| token-ext-id | O | String | 36 | Identifier used for credit card in external system which will be used in mapping to token-id.
| masked-account-number | O | String | 36 | This is the masked version of ``card.account-number`` of the consumer, e.g. 440804\*****7893.
|===

[#CC_Fields_xmlelements_request_cardtype]
.card-type

``card-type`` is a child of <<CC_Fields_xmlelements_request_paymentmethod, payment-methods.card-types>>. It provides a list of all supported card types. Please refer to the <<Appendic_Xml, Payment XSD>>
for the complete list of supported card types.

[#CC_Fields_xmlelements_request_creditsenderdata]
.credit-sender-data

``credit-sender-data`` is a child of
<<CC_Fields_xmlelements_request_payment, payment>>.

``credit-sender-data`` is used in OCT non gambling payment processes only.

With this element the merchant can send money to the consumer.
This can be the case, if the merchant is

- an insurance company and has to pay out money to the consumer (insurance case).
- the government and has to pay back taxes.

[cols="30,6,9,7,48a"]
|===
| Field | Cardinality | Datatype | Size | Description

| receiver-name | M/O |String |35 |Mandatory for cross-border transactions. +
Maximum size for Visa: 30
| receiver-last-name | M/O |String |35 |Mandatory for cross-border transactions.
| reference-number |O |String |19 |Maximum size for Visa: 16
| sender-account-number | M/O |String |20 |_Mastercard:_ Mandatory +
_Visa:_ Mandatory if ``reference-number`` is empty, Maximum size: 34
| sender-name | M/O |String |24 |_Mastercard:_ Mandatory +
_Visa:_ Mandatory for US domestic transactions and cross-border money transfers, Maximum size: 30
| sender-last-name | M/O |String |35 |_Mastercard:_ Mandatory +
_Visa:_ Optional
| sender-address | M/O |String |50 |_Mastercard:_ Optional +
_Visa:_ Mandatory for US domestic and cross-border transactions, Maximum size: 35
| sender-city | M/O |String |25 |_Mastercard:_ Optional +
_Visa:_ Mandatory for US domestic and cross-border transactions
| sender-country | M/O |String |3 |_Mastercard:_ Optional +
_Visa:_ Mandatory for US domestic and cross-border transactions, Maximum size: 2
// Follow up task: Clarify: Max. Size seems to be rather 2 (ISO-Country names consist of 2 characters.)
| sender-state | M/O |String |2 |_Mastercard:_ Mandatory if sender country is US or Canada +
_Visa:_ Mandatory for US domestic and cross-border transactions originating from US or Canada
| sender-postal-code |O |String |10 |No specific requirements for _Mastecard_ and _Visa_.
| sender-funds-source |O |String |2 |Accepted characters are: +
_Mastercard_ +
- US: 01, 02, 03, 04, 05, 07
- Non-US: 01, 02, 03, 04, 05, 06, 07 +
//-
_Visa_ +
- US: 1, 2, 3
- Non-US: 01, 02, 03, 04, 05, 06
//vhauss: According to line 103 "sender-funds-source"'s data type should be "Enumeration"!
//-
|===

[#CC_Fields_xmlelements_request_cruiseindustry]
.cruise-industry

``cruise-industry`` is a child of
<<CC_Fields_xmlelements_request_payment, payment>>.

[cols="30,6,9,7,48a"]
|===
| Field | Cardinality | Datatype | Size | Description

| carrier-code |O |String |3 |The carrier code assigned by IATA.
| agent-code |O |String |8 |The agent code assigned by IATA.
| travel-package-type-code |O |String	|10	|This indicates if the package includes car rental, airline flight, both or neither. Valid entries include: +
C = Car rental reservation included, A = Airline flight reservation included, B = Both car rental and airline flight reservations included, N = Unknown.
| ticket-number |O |String |15 |The ticket number, including the check digit.
| passenger-name |O |String |100 |The name of the passenger.
| airline-code |O |String |3 |The airline code assigned by IATA.
| lodging-check-in-date |O |Date | |The cruise departure date also known as the sail date. {date-pattern}
| lodging-check-out-date |O |Date | |The cruise return date also known as the sail end date. {date-pattern}
| lodging-room-rate |O | Decimal |18,2 |The total cost of the cruise.
| number-of-nights |O |Number |3 |The duration of the cruise in days.
| lodging-name |O |String |100 |The lodging name booked for the cruise.
| lodging-city-name |O |String |20 |The name of the city where the lodging property is located.
| lodging-region-code |O |String	|10	|The region code where the lodging property is located.
| lodging-country-code |O |String |10 |The country code where the lodging property is located.
4+| itinerary | ``itinerary`` is the parent element of <<CC_Fields_xmlelements_request_segment, segment>>. Up to 99 itinerary segments can be defined.
|===

[#CC_Fields_xmlelements_request_customfield]
.custom-field

``custom-field`` is a child of  
<<CC_Fields_xmlelements_request_payment, payment.custom-fields>>.

In the <<CC_Fields_xmlelements_response_customfield, response > custom-field>> section you can find examples for ready-to-use ``custom-field``.

[cols="30,6,9,7,48a"]
|===
| Field | Cardinality | Datatype | Size | Description

a|field-name 

(Attribute of ``custom-field``)
|O |String |36 |This is the name for the custom field.
a|field-value 

(Attribute of ``custom-field``)
|O |String |256 |This is the content of the custom field. In this field the merchant can send additional information.
|===

[#CC_Fields_xmlelements_request_device]
.device

``device`` is a child of
<<CC_Fields_xmlelements_request_payment, payment>>.

[cols="30,6,9,7,48a"]
|===
| Field | Cardinality | Datatype | Size | Description

| fingerprint |O |String |4096 |A device fingerprint is information collected about a remote computing device for the purpose of identification retrieved on merchants side. Fingerprints can be used to fully or partially identify individual users or devices even when cookies are turned off.
|===

//// 
[#CC_Fields_xmlelements_request_device]
.device

``device`` is a child of
<<CC_Fields_xmlelements_request_payment, payment>>.

The following fields are currently not part of the doc: 
(KKS: added from https://doc.wirecard.com/CreditCard.html#CreditCard_Fields)

| policy-score | O | Integer // Number or Decimal!| ?? | ??
| type | O | ?? | ?? | ??
| operating-system | O | ?? | ?? | ??
| render-options | O | ?? | ?? | ??
| sdk | O | ?? | ?? | ??
|===

////

[#CC_Fields_xmlelements_request_notification]
.notification

``notification`` is a child of 
<<CC_Fields_xmlelements_request_payment, payment.notifications>>.

``notification`` is used to set up <<GeneralPlatformFeatures_IPN, Instant Payment Notification (IPN)>>. It is highly recommended to use IPN. IPN informs you about the outcome of the individual payment processes. By including ``notification`` in the request
you can overwrite the <<GeneralPlatformFeatures_IPN_Configuration, merchant account configuration>>.

[cols="30,6,9,7,48a"]
|===
| Field | Cardinality | Datatype | Size | Description

a| transaction-state

(Attribute of ``notification``)
 |O |String |12 |This is the status of a transaction when IPN will be sent.
a| url

(Attribute of ``notification``)
 |O |String |256 |The URL to be used for the IPN. It overwrites the notification URL that is set up in the merchant configuration.

|===

[#CC_Fields_xmlelements_request_orderitem]
.order-item

``order-item`` is a child of
<<CC_Fields_xmlelements_request_payment, payment.order-items>>. This is a field
for order's items filled by the merchant. Order item amount always includes tax.
Tax can be specified either by tax-amount or by tax-rate.

[cols="30,6,9,7,48a"]
|===
| Field | Cardinality | Datatype | Size | Description

| name |O | String | |Name of the item in the basket.
| article-number |O | String | |EAN or other article identifier for merchant.
| amount |O |Number | |Item's price per unit.
| tax-rate |O |Number | |Item's tax rate per unit.
| quantity |O |Number | |Total count of items in the order.
|===

//// 
[#CC_Fields_xmlelements_request_orderitem]
.order-item

vhauss: Who enters the values? If filled by the merchant: Is ``order-items`` a request or response field?

The following fields are currently not part of the doc:

| description | O | String | ?? | ??
| tax-amount | O | String | ?? | ??
| type | O | Number | ?? | ??
| discount | O | Number | ?? | ??
|===

////

//// 
[#CC_Fields_xmlelements_request_payloadfield]
.payload-field

``payload-field`` is a child of
<<CC_Fields_xmlelements_request_paymentmethod, payment-methods.payload>>.

[cols="30,6,9,7,48a"]
|===
| Field | Cardinality | Datatype | Size | Description

| field-name | M | String | ?? | ??
| field-value | M | String | ?? | ??
|===

////

[#CC_Fields_xmlelements_request_paymentmethod]
.payment-method

``payment-method`` is a child of 
<<CC_Fields_xmlelements_request_payment, payment.payment-methods>>.

The element ``payment-method`` specifies the payment method used for a transaction.

[cols="30,6,9,7,48a"]
|===
| Field | Cardinality | Datatype | Size | Description

a| name 

(Attribute of ``payment-method``) | M |  String | 15 | This is the name of the payment method that that the consumer selected. The value is always ``creditcard``.
//vhauss: According to line 103 "name"'s data type should be "Enumeration"!

a| url 

(Attribute of ``payment-method``) | O | String | 256 | The URL to be used for proceeding with the payment process on provider side.

4+| card-types | ``card-types`` is the parent element of <<CC_Fields_xmlelements_request_cardtype, card-type>>. 

// 2+| payload 3+| ``payload`` is the parent element of <<CC_Fields_xmlelements_request_payload, payload-field>>.
//vhauss: Currently we don't need "payload" as it is not part of the current doc.
|===

//// 
vhauss: I designed this "periodic" table from information I gathered from our docu. The size for ``periodic-type`` and ``sequence-type`` must be verified!.

[#CC_Fields_xmlelements_request_periodic]
.periodic

``periodic`` is a child of
<<CC_Fields_xmlelements_request_payment, payment>>. +
``periodic`` is used, if the payment requires subsequent payments refering to each other such as payments of a subscription or an installment. 

The fields can be ignored if no recurring payment is inteded. For all recurring payments the ``periodic`` fields ``periodic-type`` and ``sequence-type`` are mandatory.

[cols="30,6,9,7,48a"]
|===
| Field | Cardinality | Datatype | Size | Description

| periodic-type | M/O | String | 9 a| Indicates the recurring payment type. This can be +
``recurring``: is used for the recurring payments of a subscription. +
``installment``: is used for the partial payments of an installment payment. +
``ucof``: (<<CreditCard_PaymentFeatures_RecurringTransaction_PeriodicTypes_ucof, Unscheduled Credential on File>>) is used to reference a regularly based transaction to an already successfully submitted transaction. +
``ci``: (Consumer Initiated) identifies the consumer as the initiator of the transaction.
//vhauss: According to line 103 "periodic-type"'s data type should be "Enumeration"!
| sequence-type | M/O | String | 9 a| Indicates the phase of a recurring transaction. This can be +
``first``: is used for the first payment of a recurring series.
``recurring``: is used for all the intermediate payments of a recurring series.
``final``: is used for the last payment of a recurring series.
//vhauss: According to line 103 "sequence-type"'s data type should be "Enumeration"!
| recurring-expire-date| M/O| Date | 10| Mandatory in 3DS2 recurring transactions. Date after which no further recurring payments using this card are allowed. {date-pattern}
| recurring-frequency| M/O | Number| 4| Mandatory in 3DS2 recurring transactions. The minimum number of days between individual payments.   
|===
////

[#CC_Fields_xmlelements_request_riskinfo]
.risk-info

``risk-info`` is a child of 
<<CC_Fields_xmlelements_request_payment, payment>>.

// Please provide a short explanation for ``risk-info``: Explicit fields for 3DS2? 

[cols="30,6,9,7,48a"]
|===
| Field | Cardinality | Datatype | Size | Description

| delivery-timeframe| O| String| 2| The approximate delivery time. +
 Accepted values are: +
 ``01`` = Electronic delivery +
 ``02`` = Same-day delivery +
 ``03`` = Overnight delivery +
 ``04`` = Two-day or more delivery
//vhauss: According to line 103 "delivery-timeframe"'s data type should be "Enumeration"!
| delivery-mail| O| String| 254| The consumer's email address used for electronic delivery of digital goods.
| reorder-items| O| String| 2| The consumer has previously ordered the same item.
 Accepted values are: +
 ``01`` = First-time order +
 ``02`` = Reorder
//vhauss: According to line 103 "reorder-items"'s data type should be "Enumeration"!
| availability| O| String| 2| The consumer is placing an order for merchandise that is not yet available and will be released in the future.
 Accepted values are: +
 ``01`` = Currently available +
 ``02`` = Future availability
//vhauss: According to line 103 "availability"'s data type should be "Enumeration"!
| preorder-date| O| Date| 10| Expected shipping date for pre-ordered goods. {date-pattern}
|===

[#CC_Fields_xmlelements_request_segment]
.segment

``segment`` is a child of
<<CC_Fields_xmlelements_request_airlineindustry, airline-industry.itinerary>> and <<CC_Fields_xmlelements_request_cruiseindustry, cruise-industry.itinerary>>. Itinerary segment data is used e.g. within airline industry and cruise industry to specify itineraries of the flight.

[cols="30,6,9,7,48a"]
|===
| Field | Cardinality | Datatype | Size | Description

| carrier-code | M/O |String	|3	|The 2-letter airline code (e.g. LH, BA, KL) supplied by IATA for each leg of a flight. Mandatory, if itinerary is provided.
// Follow up task: Clarify: Max. Size seems to be rather 2 (2-letter airline code obviously consists of 2 characters.)
| departure-airport-code | M/O |String	|3	|The departure airport code. IATA assigns the airport codes. Mandatory, if itinerary is provided.
| departure-city-code | M/O |String	|32	|The departure City Code of the Itinerary Segment. IATA assigns the airport codes. Mandatory, if itinerary is provided.
| arrival-airport-code | M/O |String	|3	|The arrival airport code of the Itinerary Segment. IATA assigns the airport codes. Mandatory, if itinerary is provided.
| arrival-city-code | M/O |String	|32	|The arrival city code of the Itinerary Segment. IATA assigns the airport codes. Mandatory, if itinerary is provided.
| departure-date | M/O |Date  |  |The departure date for a given leg. Mandatory, if itinerary is provided. {date-pattern}
| arrival-date | M/O |String | |The arrival date for a given leg. Mandatory, if itinerary is provided. {date-pattern}
| flight-number |O |String |6 |The flight number of the Itinerary Segment.
| fare-class |O |String |3 |Used to distinguish between First Class, Business Class and Economy Class, but also used to distinguish between different fares and booking
| fare-basis |O |String	|6 |Represents a specific fare and class of service with letters, numbers, or a combination of both.
| stop-over-code |O |String	|1 |0 = allowed, 1 = not allowed
// | tax-amount |O |Decimal | |The Value Added Tax Amount levied on the transaction amount.
// vhauss: Follow up task: I think "tax-amount" is a field that should be mentioned here (just as "requested-amount")
a| currency 

(Attribute of ``tax-amount``)
|O |String |3 |The currency of the Value Added Tax Amount levied on the transaction amount.
|===

[#CC_Fields_xmlelements_request_shipping]
.shipping

``shipping`` is a child of
<<CC_Fields_xmlelements_request_payment, payment>>.
The consumer provides ``shipping`` only, if they want to receive the ordered
goods or services at a different place than given in ``account-holder``. In case of 3DS2 transactions it is highly recommended to send ``shipping`` data in any case, as a complete set of ``shipping`` data reduces the necessity of a challenge test.

////
vhauss: Reviewer, please check: Is the above description correct?
////

[cols="30,6,9,7,48a"]
|===
| Field | Cardinality | Datatype | Size | Description

| first-name | M | String | 32 | This is first name from shipping information.
//KKS: better descriptions for shipping in 3DS2 field table.
//vhauss: cannot find "first-name" in "11-01-05-3-d-secure-2.adoc".
| last-name | M | String | 32 | This is last name from shipping information.
| phone | O | String | 3 | This is used to specify the phone from shipping information.
//Follow up task: Clarify > how can you specify a phone number with 3 characters?
| email | O | String | 64 | This is used to specify the email from shipping information.
| shipping-method | O | String | 36 a| The shipping method chosen by the consumer.
 Merchants must use the shipping indicator value that applies most accurately to the shipping method. +
 Accepted values are:
- ``home_delivery``: Ship to consumer's billing address. +
- ``verified_address_delivery``: Ship to another address known to and verified by the merchant. +
- ``other_address_delivery``: Ship to an address that differs from the consumer's billing address. +
- ``store_pick_up``: "Ship to Store" / Pick-up at local store (store address in shipping address fields). +
- ``digital_goods``: Digital goods (includes online services, electronic gift cards, and redemption codes). +
- ``digital_tickets``: Travel and event tickets, not shipped. +
- ``other_verified``: Other (e.g. gaming, digital services, e-media subscriptions)
//vhauss: According to line 103 "shipping-method"'s data type should be "Enumeration"!
// "11-01-05-3-d-secure-2.adoc" allows only a size of 2 characters. How can this be accomplished? Are there 2 character shortcuts for the different methods available? If so, please provide them.
| tracking-number | O | String | 64 | This is used to specify the tracking number from shipping information.
| tracking-url | O | String | 2000 | This is used to specify the tracking url from shipping information.
| shipping-company | O | String | 64 | This is used to specify the shipping company from shipping information.
| return-tracking-number | O | String | 64 | This is used to specify the return tracking number from shipping information.
| return-tracking-url | O | String | 2000 | This is used to specify the return tracking URL from shipping information.
| return-shipping-company | O | String | 36 | This is used to specify the return shipping company from shipping information.
4+| address | <<CC_Fields_xmlelements_request_address, address>> is a child element of ``shipping``.
|===

[#CC_Fields_xmlelements_request_submerchantinfo]
.sub-merchant-info

``sub-merchant-info`` is a child of
<<CC_Fields_xmlelements_request_payment, payment>>.

[cols="30,6,9,7,48a"]
|===
| Field | Cardinality | Datatype | Size | Description

| id | O | String |15 | If you want to use <sub-merchant-info> _id_ is mandatory in every initial step of a transaction. It is recommended to set the <sub-merchant-info> in all the transaction steps. Otherwise some transactions cannot be completed successfully.
| name	| O | String |22 | If you want to use <sub-merchant-info> _name_ is mandatory in every initial step of a transaction. It is recommended to set the <sub-merchant-info> in all the transaction steps. Otherwise some transactions cannot be completed successfully.
| country | O | String |2 | If you want to use <sub-merchant-info> _country_ is mandatory in every initial step of a transaction. It is recommended to set the <sub-merchant-info> in all the transaction steps. Otherwise some transactions cannot be completed successfully.
| state | M/O | String |3 | Mandatory, when _country_ =  US or CA. +
For all other countries _state_ is optional. If _country_ is neither US nor CA, do not send this field at all in the request.
| city | O | String |13 |If you want to use <sub-merchant-info> _city_ is mandatory in every initial step of a transaction. It is recommended to set the <sub-merchant-info> in all the transaction steps. Otherwise some transactions cannot be completed successfully.
| street | O | String |38 |If you want to use <sub-merchant-info> _street_ is mandatory in every initial step of a transaction. It is recommended to set the <sub-merchant-info> in all the transaction steps. Otherwise some transactions cannot be completed successfully.
| postal-code | O | String |10	|If you want to use <sub-merchant-info> _postal-code_ is mandatory in every initial step of a transaction. It is recommended to set the <sub-merchant-info> in all the transaction steps. Otherwise some transactions cannot be completed successfully.
|===

//// 
[#CC_Fields_xmlelements_request_submerchantinfo]
.sub-merchant-info

The following fields are currently not part of the doc:

| appid | O | String | ?? | ??
| category | O | String | ?? | ??
| store-id | O | String | ?? | ??
| store-name | O | String | ?? | ??
| payment-facilitator-id | O | String | ?? | ??
////

[#CC_Fields_xmlelements_request_threed]
.three-d

``three-d`` is a child of
<<CC_Fields_xmlelements_request_payment, payment>>.

Additional fields can be found in the
<<CC_Fields_xmlelements_response_threed, response > three-d>> section.

[cols="30,6,9,7,48a"]
|===
| Field | Cardinality | Datatype | Size | Description

| attempt-three-d | O |String |1 |Indicates that the Transaction Request should proceed with the 3D Secure workflow if the [Card Holder] is enrolled.  Otherwise, the transaction proceeds without 3D Secure. This field is used in conjunction with Hosted Payment Page.
|[[CreditCard_Fields_ThreeD_Pares]]
 pares | M/O |String |2048 | Mandatory in a 3D Secure transaction. This is the digitally signed, base64-encoded authentication response message received from the issuer.
| eci | M/O |String |2 | Mandatory in a 3D Secure transaction. This indicates the status of the VERes.
| xid | M/O |String |36 | Mandatory in a 3D Secure transaction. This is the unique transaction identifier.
| cardholder-authentication-value | M/O |String |1024 | Mandatory in a 3D Secure transaction. The CAVV is a cryptographic value generated by the Issuer. For Visa transaction it is called CAVV (Cardholder Authentication Verification Value) for MasterCard it is either called Accountholder Authentication Value (AAV) or Universal Cardholder Authentication Field (UCAF).
| cardholder-authentication-status | M/O |String |1 | Mandatory in a 3D Secure transaction. Status of 3D Secure check.
| pareq | M/O |String |16000 | Mandatory in a 3D Secure transaction. This is a base64-encoded request message created for cards participating in the 3D program. The PaReq is returned by the issuer's ACS via the VISA or MasterCard directory to the _{payment-gateway}_ and from here passed on to the merchant.
| acs-url | M/O |String |2048 | Mandatory in a 3D Secure transaction. The issuer URL to where the merchant must direct the enrolment check request via the cardholder's browser. It is returned only in case the cardholder is enrolled in 3D Secure program.
| ds-transaction-id | | String| 36| Universally unique transaction identifier assigned by the Directory Server to identify a single transaction. Required for external 3D Secure servers not provided by {payment-provider-name}.
//vhauss: Is "ds-transaction-id" a response field?
| riid | O | String |   a| Indicates the type of 3RI request. +
//vhauss: Is the size = 2? Please verify!
Accepted values are: +
01 = Recurring transaction +
02 = Installment transaction +
03 = Add card +
04 = Maintain card information +
05 = Account
//vhauss: According to line 103 "riid"'s data type should be "Enumeration"!
| server-transaction-id | O | String |   | 
//vhauss: any information about "Size" and "Description" available? Please provide.
| version | O | String | 5 a| Identifies the version of 3D Secure authentication used for the transaction. Accepted values are: ``1.0``, or ``2.1``. Uses default value ``1.0`` if the version is not provided in the request.
| ds-transaction-id | O | String | 36 a| Universally unique transaction identifier assigned by the Directory Server to identify a single transaction. Required for external 3D Secure servers not provided by {payment-provider-name}.
//KKS: Field description info from "riid" to "ds-transaction" taken from: https://doc.wirecard.com/CreditCard.html#CreditCard_3DS2_Fields

//KKS: Should this table also contain all 3DS fields (1 & 2)? Personally, I would think it would make sense to have it all in one place. See: https://doc.wirecard.com/CreditCard.html#CreditCard_3DS2_Fields - still pending updates!
|===

[#CC_Fields_xmlelements_response]
===== Response

[#CC_Fields_xmlelements_response_payment]
.payment

Here you can find the ``payment`` element fields which are sent in the response only.

[cols="30,9,7,48a"]
|===
|Field |Datatype |Size |Description

| transaction-id | String | 36 | This is the unique identifier for a transaction.
| transaction-state | String | 12 | This is the status of a transaction.
| completion-time-stamp | Timestamp |  | This is the timestamp of completion of request. {timestamp-pattern}
| avs-code | String | 24 | This is the result of address's validation.
| csc-code  | String | 12 | Code indicating Card Verification Value (CVC/CVV) verification results.
| consumer-id  | String | 50 | The id of the consumer.
| api-id | String | 36 | The api-id is always returned in the notification. ``api-id`` is a string with a pattern value. 
| signature  |  |  | The Signature info, consisting of ``SignedInfo``, ``SignatureValue`` and ``KeyInfo``.
//KKS:?? are SignedInfo etc. fields?
//vhauss: "Datatype" and "Size" are missing! Please provide correct values!
//vhauss: ``signature`` is a complex type, consists of the elements type, value and encoding. I don't know where the above values come from. 
// Follow up task: According to our new structure ``signature`` requires an own table.
| instrument-country | String | 256 | The instrument country retrieves the issuer country of a certain credit card. It returns a two-digit country code, such as +
``DE`` (Germany), +
``ES`` (Spain), +
``FR`` (France), or +
``IT`` (Italy).
//vhauss: Here I am not quite sure: Is "instrument-country" also, according to line 103, data type "Enumeration"?
3+| avs | <<CC_Fields_xmlelements_response_avs, avs>> is a child element of ``payment``.
3+| custom-fields | ``custom-fields`` is the parent element of  <<CC_Fields_xmlelements_response_customfield, custom-field>>.
3+| statuses | ``statuses`` is the parent element of <<CC_Fields_xmlelements_response_status, status>>.
3+| three-d | <<CC_Fields_xmlelements_response_threed, three-d>> is a child element of ``payment``.
|===

[#CC_Fields_xmlelements_response_avs]
.avs

``avs`` is a child of
<<CC_Fields_xmlelements_response_payment, payment>>.

The <<FraudPrevention_AVS, Address Verification System (AVS)>> is an
advanced level of credit card security that is built in to the {payment-provider-name}
credit card processing network to help thwart identity theft. When a user makes
an online purchase with a credit card their billing address is required. The
house number and postal code of the billing address the user enters is compared
to the billing address held on file by the card issuing bank. If the address
does not match then the transaction can be declined. AVS is an on-demand service
which is configured by {payment-provider-name}.

See the complete list of the
<<FraudPrevention_AVS_WirecardResponseCodes, {payment-provider-name} Response Codes>>.
//KKS: Here we need to think about white labeling > Modify ANCHOR!

[cols="30,9,7,48a"]
|===
|Field |Datatype |Size |Description

| result-code | String | 5 | AVS result code.
| result-message | String | 256 | AVS result message.
| provider-result-code | String | 5 | AVS provider result code.
| provider-result-message | String | 256 | AVS provider result message.
|===

[#CC_Fields_xmlelements_response_customfield]
.custom-field

``custom-field`` is a child of
<<CC_Fields_xmlelements_response_payment, payment.custom-fields>>.

{payment-provider-name} can configure ``custom-field`` for you.
For possible field values see the following selected examples. If you need the
values of other card products, please contact our <<ContactUs, Merchant Support>>.

NOTE: As the fields ─ shown here ─ are already defined, _Datatype_ and _Size_ information is not necessary. Please refer to <<CC_Fields_xmlelements_request_customfield, custom-field>> for details.


[cols="30,48a"]
|===
|Field | Description

|CardCategoryExt a|Possible field values are: +
``M`` (Consumer) +
``C`` (Commercial)

|CardProductID a| For possible field values see the following selected examples. If you need the values of other card products, please contact our <<ContactUs, Merchant Support>>.

VISA: + 
``A`` (VISA Traditional) +
``F`` (ViSA Classic) +
``G`` (VISA Business) +
``I`` (VISA Infinite) +

MasterCard: +
``MCC`` (MasterCard® Consumer) +
``MCD`` (Debit MasterCard® Card) +
``MCS`` (MasterCard® Consumer - Standard)

|CardCategory a|Possible field values are: +
``D`` (Debit) +
``C`` (Credit) +
``P`` (Prepaid)
|===

[#CC_Fields_xmlelements_response_status]
.status

``status`` is a child of <<CC_Fields_xmlelements_response_payment, payment.statuses>>.

``status`` informs merchants about the result of the previously sent
request. They can use this information to redirect consumers to the respective
response page (success page or failure page).

[cols="30,9,7,48a"]
|===
|Field |Datatype |Size |Description

a| code 

(Attribute of ``status``) | String | 12 | This is the <<StatusCodes_InDetail, code of the status>> of a transaction.

a| description 

(Attribute of ``status``)| String | 256 | This is the description of the status code of a transaction.

a| severity

(Attribute of ``status``) | String | 20 | This field gives information about the severity. It can be either ``warning``, ``error`` or ``information``.
|===

[#CC_Fields_xmlelements_response_threed]
.three-d

``three-d`` is a child of
<<CC_Fields_xmlelements_response_payment, payment>> .

[cols="30,9,7,48a"]
|===
|Field |Datatype |Size |Description

| liability-shift-indicator | String | 2048 | Liablilty shift can be enabled for 3D Secure consumers.
|===

//-